# Power Apps Code Apps é–‹ç™ºæ¨™æº– (@geekfujiwara)


## æ¦‚è¦

ã“ã®æ¨™æº–ã¯ã€Microsoftå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ[Power Apps code apps](https://learn.microsoft.com/en-us/power-apps/developer/code-apps/)ï¼‰ã¨[PowerAppsCodeAppsãƒªãƒã‚¸ãƒˆãƒª](https://github.com/microsoft/PowerAppsCodeApps)ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«åŸºã¥ãã€**è¦ä»¶ç†è§£ã‹ã‚‰å…¬é–‹ã¾ã§**ã®åŒ…æ‹¬çš„ãªé–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã¨ã€**ãƒ¢ãƒ€ãƒ³ãªãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**ã‚’å«ã‚€å®Œå…¨ç‰ˆé–‹ç™ºæŒ‡é‡ã§ã™ã€‚

## ç›®æ¬¡

### ğŸ“‹ é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹å…¨ä½“ (8ãƒ•ã‚§ãƒ¼ã‚º)
1. [è¦ä»¶ç†è§£ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»](#1-è¦ä»¶ç†è§£ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»)
2. [ç’°å¢ƒæ§‹ç¯‰ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ](#2-ç’°å¢ƒæ§‹ç¯‰ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ)  
3. [è¨­è¨ˆãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#3-è¨­è¨ˆãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
4. [é–‹ç™ºãƒ»å®Ÿè£…](#4-é–‹ç™ºãƒ»å®Ÿè£…)
5. [ãƒ†ã‚¹ãƒˆãƒ»å“è³ªä¿è¨¼](#5-ãƒ†ã‚¹ãƒˆãƒ»å“è³ªä¿è¨¼)
6. [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å…¬é–‹](#6-ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å…¬é–‹)
7. [é‹ç”¨ãƒ»ä¿å®ˆ](#7-é‹ç”¨ãƒ»ä¿å®ˆ)
8. [ç¶™ç¶šçš„æ”¹å–„](#8-ç¶™ç¶šçš„æ”¹å–„)

### ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
- [ãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ](#ãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ)
- [ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³](#ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³)
- [ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£](#ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£)

### ğŸ› ï¸ æŠ€è¡“åŸºç›¤
- [å¿…é ˆå®Ÿè£…è¦ä»¶](#å¿…é ˆå®Ÿè£…è¦ä»¶)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³)
- [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–](#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)

### ğŸ” å“è³ªä¿è¨¼
- [ãƒ†ã‚¹ãƒˆæˆ¦ç•¥](#ãƒ†ã‚¹ãƒˆæˆ¦ç•¥)
- [ãƒ‡ãƒãƒƒã‚°æ‰‹æ³•](#ãƒ‡ãƒãƒƒã‚°æ‰‹æ³•)
- [AIæ´»ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](#aiæ´»ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³)

## å‰ææ¡ä»¶

### é–‹ç™ºç’°å¢ƒã®æº–å‚™

**å¿…é ˆãƒ„ãƒ¼ãƒ«:**
- [Visual Studio Code](https://code.visualstudio.com/)
- [Node.js](https://nodejs.org/) (LTSç‰ˆ)
- [Git](https://git-scm.com/)
- [Power Platform CLI](https://learn.microsoft.com/en-us/power-platform/developer/cli/introduction)

**ç’°å¢ƒè¨­å®š:**
1. Power Platformç®¡ç†ã‚»ãƒ³ã‚¿ãƒ¼ã§Code Appsã‚’æœ‰åŠ¹åŒ–
2. ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«[Power Apps Premiumãƒ©ã‚¤ã‚»ãƒ³ã‚¹](https://www.microsoft.com/power-platform/products/power-apps/pricing)ã‚’ä»˜ä¸
3. é–‹ç™ºç’°å¢ƒã®è¨­å®šã¨ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã®ç¢ºèª

---

## ğŸ“‹ é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹å…¨ä½“ (8ãƒ•ã‚§ãƒ¼ã‚º)

### 1. è¦ä»¶ç†è§£ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»

### 1.1 è¦ä»¶å®šç¾©ãƒ—ãƒ­ã‚»ã‚¹
```mermaid
graph TD
    A[ãƒ“ã‚¸ãƒã‚¹è¦ä»¶åé›†] --> B[æ©Ÿèƒ½è¦ä»¶å®šç¾©]
    B --> C[éæ©Ÿèƒ½è¦ä»¶å®šç¾©]
    C --> D[æŠ€è¡“åˆ¶ç´„ç¢ºèª]
    D --> E[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»ç­–å®š]
    E --> F[é–‹ç™ºãƒãƒ¼ãƒ ç·¨æˆ]
```

### 1.2 è¦ä»¶åé›†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] **ãƒ“ã‚¸ãƒã‚¹ç›®æ¨™**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç›®çš„ã¨æœŸå¾…ã•ã‚Œã‚‹æˆæœ
- [ ] **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒšãƒ«ã‚½ãƒŠ**: ä¸»è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç‰¹æ€§ã¨åˆ©ç”¨ã‚·ãƒ¼ãƒ³
- [ ] **æ©Ÿèƒ½è¦ä»¶**: å¿…è¦ãªæ©Ÿèƒ½ã®è©³ç´°ä»•æ§˜
- [ ] **éæ©Ÿèƒ½è¦ä»¶**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€å¯ç”¨æ€§
- [ ] **UI/UXè¦ä»¶**: ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã€ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°
- [ ] **ãƒ‡ãƒ¼ã‚¿è¦ä»¶**: é€£æºã‚·ã‚¹ãƒ†ãƒ ã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹
- [ ] **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶**: èªè¨¼ã€èªå¯ã€ãƒ‡ãƒ¼ã‚¿ä¿è­·
- [ ] **é‹ç”¨è¦ä»¶**: ç›£è¦–ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€ç½å®³å¾©æ—§

### 1.3 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```markdown
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå: [ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å]

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- **ç›®çš„**: 
- **ã‚¹ã‚³ãƒ¼ãƒ—**: 
- **æœŸé–“**: 
- **äºˆç®—**: 

## ãƒãƒ¼ãƒ æ§‹æˆ
- **ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼**: 
- **é–‹ç™ºãƒªãƒ¼ãƒ€ãƒ¼**: 
- **é–‹ç™ºè€…**: 
- **ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼**: 
- **ãƒ†ã‚¹ã‚¿ãƒ¼**: 

## ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³
| ãƒ•ã‚§ãƒ¼ã‚º | æœŸé–“ | æˆæœç‰© |
|---------|------|--------|
| è¦ä»¶å®šç¾© | Week1-2 | è¦ä»¶å®šç¾©æ›¸ |
| è¨­è¨ˆ | Week3 | è¨­è¨ˆä»•æ§˜æ›¸ |
| é–‹ç™º | Week4-6 | MVPå®Ÿè£… |
| ãƒ†ã‚¹ãƒˆ | Week7 | ãƒ†ã‚¹ãƒˆå®Œäº† |
| ãƒ‡ãƒ—ãƒ­ã‚¤ | Week8 | æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ |
```

### 2. ç’°å¢ƒæ§‹ç¯‰ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ

#### 2.1 é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

**Step 1: åŸºæœ¬ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
```powershell
# Node.js LTSç‰ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
node --version

# Power Platform CLI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pac install

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
pac code init --displayName "ã‚¢ãƒ—ãƒªå" --environment "ç’°å¢ƒID"
```

**Step 2: VS Code æ‹¡å¼µæ©Ÿèƒ½**
```json
{
  "recommendations": [
    "ms-powerplatform.vscode-powerplatform",
    "ms-vscode.vscode-typescript-next",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-eslint",
    "bradlc.vscode-tailwindcss"
  ]
}
```

### 2.2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¬ã‚¤ãƒ‰

| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ— | æ¨å¥¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | ç‰¹å¾´ |
|-------------------|------------------|------|
| ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | Analytics Template | ãƒãƒ£ãƒ¼ãƒˆã€KPIè¡¨ç¤º |
| ãƒ‡ãƒ¼ã‚¿ç®¡ç† | CRUD Template | ãƒ•ã‚©ãƒ¼ãƒ ã€ä¸€è¦§ã€æ¤œç´¢ |
| ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ | Business Process | ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ã€æ‰¿èª |
| ãƒ¬ãƒãƒ¼ãƒ†ã‚£ãƒ³ã‚° | Report Template | å¸³ç¥¨ã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ |
| ã‚«ã‚¹ã‚¿ãƒ  | Blank Template | å®Œå…¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º |

### 3. è¨­è¨ˆãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

#### 3.1 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³

**æ¨å¥¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£: Clean Architecture + MVP**
```
src/
â”œâ”€â”€ components/           # UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ common/          # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ layout/          # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ features/        # æ©Ÿèƒ½åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ services/            # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ api/            # API ã‚¢ã‚¯ã‚»ã‚¹
â”‚   â”œâ”€â”€ data/           # ãƒ‡ãƒ¼ã‚¿å‡¦ç†
â”‚   â””â”€â”€ auth/           # èªè¨¼å‡¦ç†
â”œâ”€â”€ models/             # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”œâ”€â”€ utils/              # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ hooks/              # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”œâ”€â”€ constants/          # å®šæ•°
â”œâ”€â”€ types/              # TypeScriptå‹å®šç¾©
â””â”€â”€ assets/             # é™çš„ãƒªã‚½ãƒ¼ã‚¹
```

### 3.2 è¨­è¨ˆåŸå‰‡

**SOLIDåŸå‰‡ã®é©ç”¨**
- **Single Responsibility**: å˜ä¸€è²¬ä»»ã®åŸå‰‡
- **Open/Closed**: é–‹æ”¾/é–‰é–ã®åŸå‰‡
- **Liskov Substitution**: ãƒªã‚¹ã‚³ãƒ•ç½®æ›ã®åŸå‰‡
- **Interface Segregation**: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹åˆ†é›¢ã®åŸå‰‡
- **Dependency Inversion**: ä¾å­˜é–¢ä¿‚é€†è»¢ã®åŸå‰‡

### 4. é–‹ç™ºãƒ»å®Ÿè£…

#### 4.1 é–‹ç™ºãƒ•ãƒ­ãƒ¼

```mermaid
graph LR
    A[feature/*ãƒ–ãƒ©ãƒ³ãƒä½œæˆ] --> B[ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º]
    B --> C[å˜ä½“ãƒ†ã‚¹ãƒˆ]
    C --> D[ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼]
    D --> E[developçµ±åˆ]
    E --> F[çµåˆãƒ†ã‚¹ãƒˆ]
    F --> G[mainçµ±åˆ]
    G --> H[æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤]
```

### 4.2 ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

**TypeScriptè¨­å®š (tsconfig.json)**
```json
{
  "compilerOptions": {
    "target": "es2020",
    "lib": ["dom", "dom.iterable", "es6"],
    "allowJs": true,
    "skipLibCheck": true,
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "noFallthroughCasesInSwitch": true,
    "module": "esnext",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx"
  }
}
```

**ESLintè¨­å®š (.eslintrc.json)**
```json
{
  "extends": [
    "react-app",
    "@typescript-eslint/recommended",
    "prettier"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "react-hooks/exhaustive-deps": "warn",
    "prefer-const": "error"
  }
}
```

### 5. ãƒ†ã‚¹ãƒˆãƒ»å“è³ªä¿è¨¼

#### 5.1 ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

**ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰**
```
        /\
       /  \ E2E ãƒ†ã‚¹ãƒˆ (5%)
      /    \ Playwright
     /______\ 
    /        \ çµ±åˆãƒ†ã‚¹ãƒˆ (15%)
   /  React   \ React Testing Library
  /  Testing   \
 /   Library    \
/______________\ å˜ä½“ãƒ†ã‚¹ãƒˆ (80%)
     Jest      
```

**ãƒ†ã‚¹ãƒˆç¨®åˆ¥ã¨ç›®æ¨™ã‚«ãƒãƒ¬ãƒƒã‚¸**
| ãƒ†ã‚¹ãƒˆç¨®åˆ¥ | ãƒ„ãƒ¼ãƒ« | ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ |
|-----------|--------|---------------|
| å˜ä½“ãƒ†ã‚¹ãƒˆ | Jest | 80%ä»¥ä¸Š |
| çµ±åˆãƒ†ã‚¹ãƒˆ | RTL | 70%ä»¥ä¸Š |
| E2Eãƒ†ã‚¹ãƒˆ | Playwright | ä¸»è¦ãƒ•ãƒ­ãƒ¼100% |

### 6. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å…¬é–‹

#### 6.1 ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

**GitHub Actionsè¨­å®š (.github/workflows/deploy.yml)**
```yaml
name: Deploy to Power Apps
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm ci
      - run: npm run build
      - run: npm run test
      - name: Deploy to Power Apps
        run: pac code push
        env:
          PAC_CLI_URL: ${{ secrets.PAC_CLI_URL }}
```

### 7. é‹ç”¨ãƒ»ä¿å®ˆ

#### 7.1 ç›£è¦–ãƒ»ãƒ­ã‚°æˆ¦ç•¥

**Application Insights è¨­å®š**
```typescript
import { ApplicationInsights } from '@microsoft/applicationinsights-web';

const appInsights = new ApplicationInsights({
  config: {
    instrumentationKey: process.env.REACT_APP_APPINSIGHTS_KEY,
    enableAutoRouteTracking: true,
    enableCorsCorrelation: true
  }
});

appInsights.loadAppInsights();
export { appInsights };
```

### 8. ç¶™ç¶šçš„æ”¹å–„

#### 8.1 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ

**Core Web Vitals ç›£è¦–**
- **LCP (Largest Contentful Paint)**: 2.5ç§’ä»¥ä¸‹
- **FID (First Input Delay)**: 100msä»¥ä¸‹
- **CLS (Cumulative Layout Shift)**: 0.1ä»¥ä¸‹

## ğŸ¨ ãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

### ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

æœ€æ–°ã®UXãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å–ã‚Šå…¥ã‚ŒãŸã€Power Apps Code Appså°‚ç”¨ã®ãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã€ç¾ã—ã„ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’çµ±åˆã—ã¦ã„ã¾ã™ã€‚

### ãƒ‡ã‚¶ã‚¤ãƒ³åŸå‰‡
1. **ã‚·ãƒ³ãƒ—ãƒªã‚·ãƒ†ã‚£**: ç›´æ„Ÿçš„ã§ç†è§£ã—ã‚„ã™ã„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
2. **ä¸€è²«æ€§**: çµ±ä¸€ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³è¨€èª
3. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 AAæº–æ‹ 
4. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: ã‚ã‚‰ã‚†ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã§æœ€é©åŒ–
5. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: é«˜é€Ÿèª­ã¿è¾¼ã¿ã¨ã‚¹ãƒ ãƒ¼ã‚ºãªæ“ä½œ

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

#### 1. ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/layout/MainLayout.tsx
import React, { useState } from 'react';
import { 
  FluentProvider, 
  webLightTheme,
  makeStyles,
  tokens
} from '@fluentui/react-components';
import { Sidebar } from './Sidebar';
import { Header } from './Header';
import { Navigation24Regular } from '@fluentui/react-icons';

const useStyles = makeStyles({
  root: {
    display: 'grid',
    gridTemplateColumns: 'auto 1fr',
    gridTemplateRows: '60px 1fr',
    gridTemplateAreas: `
      "sidebar header"
      "sidebar main"
    `,
    minHeight: '100vh',
    fontFamily: tokens.fontFamilyBase,
    backgroundColor: tokens.colorNeutralBackground1,
  },
  sidebarCollapsed: {
    gridTemplateColumns: '60px 1fr',
  },
  header: {
    gridArea: 'header',
    backgroundColor: tokens.colorNeutralBackground2,
    borderBottom: `1px solid ${tokens.colorNeutralStroke2}`,
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'space-between',
    padding: '0 24px',
    zIndex: 1000,
  },
  sidebar: {
    gridArea: 'sidebar',
    backgroundColor: tokens.colorNeutralBackground2,
    borderRight: `1px solid ${tokens.colorNeutralStroke2}`,
    transition: 'width 0.3s ease',
    zIndex: 999,
  },
  main: {
    gridArea: 'main',
    padding: '24px',
    overflow: 'auto',
    backgroundColor: tokens.colorNeutralBackground1,
  },
  hamburger: {
    display: 'none',
    '@media (max-width: 768px)': {
      display: 'block',
    },
  },
  mobileOverlay: {
    position: 'fixed',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    backgroundColor: 'rgba(0, 0, 0, 0.5)',
    zIndex: 998,
    display: 'none',
    '@media (max-width: 768px)': {
      display: 'block',
    },
  },
});

interface MainLayoutProps {
  children: React.ReactNode;
}

export const MainLayout: React.FC<MainLayoutProps> = ({ children }) => {
  const styles = useStyles();
  const [isSidebarOpen, setIsSidebarOpen] = useState(true);
  const [isMobile, setIsMobile] = useState(false);

  React.useEffect(() => {
    const checkMobile = () => {
      setIsMobile(window.innerWidth <= 768);
    };
    
    checkMobile();
    window.addEventListener('resize', checkMobile);
    return () => window.removeEventListener('resize', checkMobile);
  }, []);

  const toggleSidebar = () => {
    setIsSidebarOpen(!isSidebarOpen);
  };

  return (
    <FluentProvider theme={webLightTheme}>
      <div className={`${styles.root} ${!isSidebarOpen ? styles.sidebarCollapsed : ''}`}>
        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
        <header className={styles.header}>
          <Header 
            onToggleSidebar={toggleSidebar}
            isSidebarOpen={isSidebarOpen}
          />
        </header>

        {/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */}
        <aside className={styles.sidebar}>
          <Sidebar 
            isOpen={isSidebarOpen}
            onClose={() => isMobile && setIsSidebarOpen(false)}
          />
        </aside>

        {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
        <main className={styles.main}>
          {children}
        </main>

        {/* ãƒ¢ãƒã‚¤ãƒ«ç”¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */}
        {isMobile && isSidebarOpen && (
          <div 
            className={styles.mobileOverlay}
            onClick={() => setIsSidebarOpen(false)}
          />
        )}
      </div>
    </FluentProvider>
  );
};
```

#### 2. ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/layout/Header.tsx
import React from 'react';
import { 
  Button,
  Text,
  Avatar,
  Popover,
  PopoverTrigger,
  PopoverSurface,
  makeStyles,
  tokens
} from '@fluentui/react-components';
import { 
  Navigation24Regular,
  Person24Regular,
  Settings24Regular,
  SignOut24Regular
} from '@fluentui/react-icons';

const useStyles = makeStyles({
  header: {
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'space-between',
    width: '100%',
    height: '60px',
  },
  leftSection: {
    display: 'flex',
    alignItems: 'center',
    gap: '16px',
  },
  rightSection: {
    display: 'flex',
    alignItems: 'center',
    gap: '12px',
  },
  logo: {
    fontSize: tokens.fontSizeBase500,
    fontWeight: tokens.fontWeightSemibold,
    color: tokens.colorBrandForeground1,
  },
  userMenu: {
    padding: '8px 0',
  },
  menuItem: {
    width: '100%',
    justifyContent: 'flex-start',
    gap: '8px',
  },
});

interface HeaderProps {
  onToggleSidebar: () => void;
  isSidebarOpen: boolean;
}

export const Header: React.FC<HeaderProps> = ({ onToggleSidebar, isSidebarOpen }) => {
  const styles = useStyles();

  return (
    <div className={styles.header}>
      <div className={styles.leftSection}>
        <Button 
          appearance="subtle" 
          icon={<Navigation24Regular />}
          onClick={onToggleSidebar}
          aria-label={isSidebarOpen ? "ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‰ã˜ã‚‹" : "ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‹ã"}
        />
        <Text className={styles.logo}>Power Apps Code Apps</Text>
      </div>

      <div className={styles.rightSection}>
        <Popover>
          <PopoverTrigger disableButtonEnhancement>
            <Button 
              appearance="subtle"
              icon={<Avatar name="User" size={32} />}
              aria-label="ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼"
            />
          </PopoverTrigger>
          <PopoverSurface>
            <div className={styles.userMenu}>
              <Button 
                className={styles.menuItem}
                appearance="subtle"
                icon={<Person24Regular />}
              >
                ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
              </Button>
              <Button 
                className={styles.menuItem}
                appearance="subtle"
                icon={<Settings24Regular />}
              >
                è¨­å®š
              </Button>
              <Button 
                className={styles.menuItem}
                appearance="subtle"
                icon={<SignOut24Regular />}
              >
                ã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆ
              </Button>
            </div>
          </PopoverSurface>
        </Popover>
      </div>
    </div>
  );
};
```

#### 3. ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/layout/Sidebar.tsx
import React from 'react';
import {
  Button,
  Text,
  makeStyles,
  tokens
} from '@fluentui/react-components';
import {
  Home24Regular,
  Home24Filled,
  DataTrending24Regular,
  DataTrending24Filled,
  People24Regular,
  People24Filled,
  Settings24Regular,
  Settings24Filled,
  bundleIcon
} from '@fluentui/react-icons';

const HomeIcon = bundleIcon(Home24Filled, Home24Regular);
const AnalyticsIcon = bundleIcon(DataTrending24Filled, DataTrending24Regular);
const UsersIcon = bundleIcon(People24Filled, People24Regular);
const SettingsIcon = bundleIcon(Settings24Filled, Settings24Regular);

const useStyles = makeStyles({
  sidebar: {
    width: '280px',
    height: '100vh',
    padding: '16px 0',
    display: 'flex',
    flexDirection: 'column',
    transition: 'width 0.3s ease',
  },
  sidebarCollapsed: {
    width: '60px',
  },
  nav: {
    display: 'flex',
    flexDirection: 'column',
    gap: '4px',
    padding: '0 8px',
  },
  navItem: {
    width: '100%',
    justifyContent: 'flex-start',
    gap: '12px',
    padding: '12px 16px',
    borderRadius: tokens.borderRadiusMedium,
    '&:hover': {
      backgroundColor: tokens.colorNeutralBackground1Hover,
    },
  },
  navItemActive: {
    backgroundColor: tokens.colorBrandBackground2,
    color: tokens.colorBrandForeground2,
    '&:hover': {
      backgroundColor: tokens.colorBrandBackground2Hover,
    },
  },
  navItemText: {
    fontSize: tokens.fontSizeBase300,
    fontWeight: tokens.fontWeightMedium,
  },
  footer: {
    marginTop: 'auto',
    padding: '16px',
    borderTop: `1px solid ${tokens.colorNeutralStroke2}`,
  },
});

interface SidebarProps {
  isOpen: boolean;
  onClose?: () => void;
}

interface NavItem {
  id: string;
  label: string;
  icon: React.ComponentType;
  href?: string;
  active?: boolean;
}

const navigationItems: NavItem[] = [
  { id: 'home', label: 'ãƒ›ãƒ¼ãƒ ', icon: HomeIcon, href: '/', active: true },
  { id: 'analytics', label: 'ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹', icon: AnalyticsIcon, href: '/analytics' },
  { id: 'users', label: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼', icon: UsersIcon, href: '/users' },
  { id: 'settings', label: 'è¨­å®š', icon: SettingsIcon, href: '/settings' },
];

export const Sidebar: React.FC<SidebarProps> = ({ isOpen, onClose }) => {
  const styles = useStyles();

  return (
    <div className={`${styles.sidebar} ${!isOpen ? styles.sidebarCollapsed : ''}`}>
      <nav className={styles.nav}>
        {navigationItems.map((item) => (
          <Button
            key={item.id}
            className={`${styles.navItem} ${item.active ? styles.navItemActive : ''}`}
            appearance="subtle"
            icon={<item.icon />}
            onClick={onClose}
          >
            {isOpen && (
              <Text className={styles.navItemText}>
                {item.label}
              </Text>
            )}
          </Button>
        ))}
      </nav>
      
      {isOpen && (
        <div className={styles.footer}>
          <Text size={200}>
            Â© 2025 Power Apps Code Apps
          </Text>
        </div>
      )}
    </div>
  );
};
```

### ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³å®šç¾©

#### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ

```scss
// src/styles/design-tokens.scss
:root {
  /* Primary Colors */
  --color-primary-50: #e6f3ff;
  --color-primary-100: #b3daff;
  --color-primary-500: #0078d4;
  --color-primary-600: #106ebe;
  --color-primary-900: #003a5c;

  /* Neutral Colors */
  --color-neutral-50: #fafafa;
  --color-neutral-100: #f5f5f5;
  --color-neutral-200: #eeeeee;
  --color-neutral-500: #737373;
  --color-neutral-900: #171717;

  /* Semantic Colors */
  --color-success: #107c10;
  --color-warning: #ff8c00;
  --color-error: #d13438;
  --color-info: #0078d4;

  /* Spacing Scale */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;

  /* Typography Scale */
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-md: 16px;
  --font-size-lg: 18px;
  --font-size-xl: 20px;
  --font-size-2xl: 24px;
  --font-size-3xl: 32px;

  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
}
```

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

#### ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆå®šç¾©

```typescript
// src/utils/breakpoints.ts
export const breakpoints = {
  xs: '0px',      // Extra small devices
  sm: '576px',    // Small devices (landscape phones)
  md: '768px',    // Medium devices (tablets)
  lg: '992px',    // Large devices (desktops)
  xl: '1200px',   // Extra large devices (large desktops)
  xxl: '1400px'   // Extra extra large devices
} as const;

export const mediaQueries = {
  xs: `(min-width: ${breakpoints.xs})`,
  sm: `(min-width: ${breakpoints.sm})`,
  md: `(min-width: ${breakpoints.md})`,
  lg: `(min-width: ${breakpoints.lg})`,
  xl: `(min-width: ${breakpoints.xl})`,
  xxl: `(min-width: ${breakpoints.xxl})`,
} as const;
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

```tsx
// src/hooks/useResponsive.ts
import { useState, useEffect } from 'react';
import { breakpoints } from '../utils/breakpoints';

export const useResponsive = () => {
  const [screenSize, setScreenSize] = useState<keyof typeof breakpoints>('lg');

  useEffect(() => {
    const getScreenSize = (): keyof typeof breakpoints => {
      const width = window.innerWidth;
      if (width < 576) return 'xs';
      if (width < 768) return 'sm';
      if (width < 992) return 'md';
      if (width < 1200) return 'lg';
      if (width < 1400) return 'xl';
      return 'xxl';
    };

    const handleResize = () => {
      setScreenSize(getScreenSize());
    };

    handleResize();
    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
  }, []);

  return {
    screenSize,
    isMobile: screenSize === 'xs' || screenSize === 'sm',
    isTablet: screenSize === 'md',
    isDesktop: screenSize === 'lg' || screenSize === 'xl' || screenSize === 'xxl',
  };
};
```

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

#### 1. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

```tsx
// src/components/common/AccessibleButton.tsx
import React from 'react';
import { Button, ButtonProps } from '@fluentui/react-components';

interface AccessibleButtonProps extends ButtonProps {
  ariaLabel?: string;
  ariaDescription?: string;
}

export const AccessibleButton: React.FC<AccessibleButtonProps> = ({
  ariaLabel,
  ariaDescription,
  children,
  ...props
}) => {
  return (
    <Button
      aria-label={ariaLabel}
      aria-describedby={ariaDescription}
      {...props}
    >
      {children}
    </Button>
  );
};
```

#### 2. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ

```tsx
// src/components/common/SkipLink.tsx
import React from 'react';
import { makeStyles } from '@fluentui/react-components';

const useStyles = makeStyles({
  skipLink: {
    position: 'absolute',
    top: '-40px',
    left: '6px',
    backgroundColor: '#000',
    color: '#fff',
    padding: '8px',
    zIndex: 9999,
    textDecoration: 'none',
    '&:focus': {
      top: '6px',
    },
  },
});

export const SkipLink: React.FC = () => {
  const styles = useStyles();

  return (
    <a href="#main-content" className={styles.skipLink}>
      ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã‚¹ã‚­ãƒƒãƒ—
    </a>
  );
};
```

---

## å¿…é ˆå®Ÿè£…è¦ä»¶

### 1. æ­£å¼ãªPowerProvider ã®å®Ÿè£…
**Microsoftå…¬å¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ãPowerProvider:**

```typescript
// src/PowerProvider.tsx
import { initialize } from "@microsoft/power-apps/app";
import { useEffect, type ReactNode } from "react";

interface PowerProviderProps {
  children: ReactNode;
}

export default function PowerProvider({ children }: PowerProviderProps) {
  useEffect(() => {
    const initApp = async () => {
      try {
        await initialize();
        console.log('Power Platform SDK initialized successfully');
      } catch (error) {
        console.error('Failed to initialize Power Platform SDK:', error);
      }
    };
    
    initApp();
  }, []);

  return <>{children}</>;
}
```

**FluentUIã¨ã®çµ„ã¿åˆã‚ã›ï¼ˆæ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰:**

```typescript
// src/App.tsx
import { FluentProvider, webLightTheme, webDarkTheme } from '@fluentui/react-components';

const App = () => {
  const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const theme = prefersDarkMode ? webDarkTheme : webLightTheme;

  return (
    <FluentProvider theme={theme}>
      {/* ã‚¢ãƒ—ãƒªã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
    </FluentProvider>
  );
};
```

### 2. ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã®æœ€é©åŒ–
```typescript
// src/index.tsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import PowerProvider from './PowerProvider';

const root = ReactDOM.createRoot(
  document.getElementById('root') as HTMLElement
);

// Power Appsç’°å¢ƒã§ã¯ React.StrictMode ã‚’æ¡ä»¶ä»˜ãã§ä½¿ç”¨
const isDevelopment = process.env.NODE_ENV === 'development';

root.render(
  isDevelopment ? (
    <React.StrictMode>
      <PowerProvider>
        <App />
      </PowerProvider>
    </React.StrictMode>
  ) : (
    <PowerProvider>
      <App />
    </PowerProvider>
  )
);
```

### 3. Webpackè¨­å®šã®æœ€é©åŒ–

#### é‡è¦ãªè¨­å®šé …ç›®
```javascript
module.exports = (env, argv) => {
  const isProduction = argv.mode === 'production';
  
  return {
    output: {
      publicPath: './',  // Power Appsç’°å¢ƒã§ã¯ './' ãŒå¿…é ˆ
      clean: true,
      filename: isProduction ? 'static/js/[name].[contenthash].js' : 'bundle.js',
      chunkFilename: isProduction ? 'static/js/[name].[contenthash].chunk.js' : '[name].chunk.js',
    },
    optimization: {
      splitChunks: isProduction ? {
        cacheGroups: {
          react: {
            test: /[\\/]node_modules[\\/](react|react-dom)[\\/]/,
            name: 'react',
            priority: 10,
            chunks: 'all',
          },
          fluentui: {
            test: /[\\/]node_modules[\\/]@fluentui[\\/]/,
            name: 'fluentui',
            priority: 20,
            chunks: 'all',
          }
        }
      } : false,
    },
    performance: {
      maxEntrypointSize: 512000,  // 512KBåˆ¶é™
      maxAssetSize: 512000,
    }
  };
};
```

### 4. å¿…é ˆä¾å­˜é–¢ä¿‚

**Power Apps SDK (å¿…é ˆ):**

```json
{
  "dependencies": {
    "@microsoft/power-apps": "latest"
  }
}
```

**UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (æ¨å¥¨):**

```json
{
  "dependencies": {
    "@fluentui/react-components": "^9.64.0",
    "@fluentui/react-icons": "^2.0.281",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  }
}
```

**âš ï¸é‡è¦**: React 19ã¯ç¾æ™‚ç‚¹ã§Power Platform SDKã¨äº’æ›æ€§ã®å•é¡ŒãŒã‚ã‚‹ãŸã‚ã€React 18.2.0ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

### 5. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã¨ãƒ•ã‚¡ã‚¤ãƒ«

**åŸºæœ¬æ§‹é€  (Microsoftå…¬å¼æ¨å¥¨):**

```
your-code-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ PowerProvider.tsx    # Power Apps SDKåˆæœŸåŒ– (å¿…é ˆ)
â”‚   â”œâ”€â”€ App.tsx              # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ main.tsx             # ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ power.config.json        # Power Appsè¨­å®š (è‡ªå‹•ç”Ÿæˆ)
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

**power.config.json (pac code initã§è‡ªå‹•ç”Ÿæˆ):**

```json
{
  "appId": "generated-by-pac-code-init",
  "appDisplayName": "ã‚¢ãƒ—ãƒªå",
  "description": "ã‚¢ãƒ—ãƒªã®èª¬æ˜",
  "environmentId": "environment-id",
  "buildPath": "./dist",
  "buildEntryPoint": "index.html"
}
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºç®¡ç†
- **ç›®æ¨™**: åˆè¨ˆãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º < 300KB
- **åˆ†æ**: `npm run analyze` ã§ãƒãƒ³ãƒ‰ãƒ«åˆ†æã‚’å®Ÿè¡Œ
- **ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²**: Reactã€FluentUIã€ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰ã‚’åˆ†é›¢

### ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```json
{
  "scripts": {
    "build": "webpack --mode production --stats-children",
    "build:dev": "webpack --mode development",
    "analyze": "webpack-bundle-analyzer build/static/js/*.js"
  }
}
```

## æ¨™æº–é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ï¼ˆMicrosoftå…¬å¼æ‰‹é †ï¼‰

**PowerAppsCodeAppsãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³:**

```bash
git clone https://github.com/microsoft/PowerAppsCodeApps.git
cd PowerAppsCodeApps/samples/HelloWorld
```

**ã¾ãŸã¯æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:**

```bash
# ç’°å¢ƒèªè¨¼
pac auth create --environment {environment-id}

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# Power Apps CodeåˆæœŸåŒ–
pac code init --displayName 'Your App Name'
```

### 2. é–‹ç™ºã‚µã‚¤ã‚¯ãƒ«ï¼ˆæ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º
npm run dev | pac code run

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build

# Power Appsã«ãƒ‡ãƒ—ãƒ­ã‚¤
pac code push
```

### 3. å“è³ªç®¡ç†ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

```bash
# TypeScriptå‹ãƒã‚§ãƒƒã‚¯
tsc --noEmit

# ãƒªãƒ³ãƒ†ã‚£ãƒ³ã‚°
eslint .

# ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºåˆ†æ
npm run analyze
```

# ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ãƒ»ãƒ‡ãƒãƒƒã‚°æ‰‹æ³• (AIæ´»ç”¨)

## åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆç¨®åˆ¥ã¨å®Ÿè£…æ–¹é‡

```mermaid
graph TD
    A[è¦ä»¶å®šç¾©] --> B[ãƒ†ã‚¹ãƒˆè¨ˆç”»ç­–å®š]
    B --> C[å˜ä½“ãƒ†ã‚¹ãƒˆè¨­è¨ˆ]
    C --> D[çµ±åˆãƒ†ã‚¹ãƒˆè¨­è¨ˆ]  
    D --> E[E2Eãƒ†ã‚¹ãƒˆè¨­è¨ˆ]
    E --> F[ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ]
    F --> G[ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ]
    G --> H[ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ]
    H --> I[AIæ”¯æ´ãƒ†ã‚¹ãƒˆ]
    I --> J[æœ¬ç•ªç›£è¦–]
```

### 1. AIæ”¯æ´ãƒ†ã‚¹ãƒˆç”Ÿæˆ

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è‡ªå‹•ç”Ÿæˆ
```typescript
// src/utils/ai-test-generator.ts
import { OpenAI } from 'openai';

interface TestGeneratorConfig {
  componentPath: string;
  functionalRequirements: string[];
  edgeCases: string[];
}

export class AITestGenerator {
  private openai: OpenAI;

  constructor(apiKey: string) {
    this.openai = new OpenAI({ apiKey });
  }

  async generateTestCases(config: TestGeneratorConfig): Promise<string> {
    const prompt = `
    Generate comprehensive Jest test cases for a React component:
    
    Component: ${config.componentPath}
    Requirements: ${config.functionalRequirements.join(', ')}
    Edge Cases: ${config.edgeCases.join(', ')}
    
    Include render, interaction, accessibility, and performance tests.
    Use React Testing Library patterns.
    `;

    const response = await this.openai.chat.completions.create({
      model: "gpt-4",
      messages: [{ role: "user", content: prompt }],
      temperature: 0.3,
    });

    return response.choices[0].message.content || '';
  }
}
```

### 2. å˜ä½“ãƒ†ã‚¹ãƒˆè¨­å®š (Jest + RTL)

```javascript
// jest.config.js
module.exports = {
  testEnvironment: 'jsdom',
  setupFilesAfterEnv: ['<rootDir>/src/setupTests.ts'],
  collectCoverageFrom: [
    'src/**/*.{ts,tsx}',
    '!src/**/*.d.ts',
    '!src/index.tsx',
  ],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
};
```

### 3. E2Eãƒ†ã‚¹ãƒˆ (Playwright)

```typescript
// e2e/app.spec.ts
import { test, expect } from '@playwright/test';

test('main user journey', async ({ page }) => {
  await page.goto('/');
  
  // ã‚¢ãƒ—ãƒªèª­ã¿è¾¼ã¿ç¢ºèª
  await expect(page.locator('h1')).toContainText('Power Apps Code Apps');
  
  // ã‚µã‚¤ãƒ‰ãƒãƒ¼æ“ä½œ
  await page.click('[aria-label*="ã‚µã‚¤ãƒ‰ãƒãƒ¼"]');
  await expect(page.locator('nav')).toBeVisible();
  
  // ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ†ã‚¹ãƒˆ
  await page.setViewportSize({ width: 375, height: 667 });
  await expect(page.locator('[class*="mobileOverlay"]')).toBeVisible();
});
```

### 4. AIæ”¯æ´ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«

```typescript
// src/utils/ai-debugger.ts
export class AIDebugger {
  async analyzeError(error: Error, context: any): Promise<string> {
    const prompt = `
    Analyze this error for Power Apps Code Apps:
    Error: ${error.message}
    Context: ${JSON.stringify(context)}
    
    Provide root cause and solution steps.
    `;

    return await this.callAIAPI(prompt);
  }

  static logPowerPlatformInfo() {
    console.group('ğŸ” Power Platform Debug Info');
    console.log('SDK Initialized:', window.powerApps?.initialized || false);
    console.log('Environment:', process.env.NODE_ENV);
    console.log('Bundle Size:', performance.getEntriesByType('resource').length);
    console.groupEnd();
  }
}
```

### 5. ãƒ‡ãƒãƒƒã‚°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### é–‹ç™ºæ™‚ãƒ‡ãƒãƒƒã‚°æ‰‹é †
- [ ] PowerProvider ã®åˆæœŸåŒ–ç¢ºèª
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºåˆ†æ (< 300KBç›®æ¨™)
- [ ] React Strict Mode ç„¡åŠ¹åŒ–
- [ ] webpack publicPath è¨­å®šç¢ºèª
- [ ] æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯

#### æœ¬ç•ªç’°å¢ƒãƒ‡ãƒãƒƒã‚°
- [ ] ãƒ–ãƒ©ã‚¦ã‚¶é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç¢ºèª
- [ ] Power Appsç’°å¢ƒã§ã®ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œãƒ†ã‚¹ãƒˆ  
- [ ] Application Insights ãƒ­ã‚°ç¢ºèª
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ç›£è¦–

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

#### 1. "App timed out" ã‚¨ãƒ©ãƒ¼
**åŸå› **: ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã™ãã‚‹ã€ã¾ãŸã¯PowerProviderãŒä¸è¶³
**è§£æ±ºç­–**: 
- PowerProviderã‚’å®Ÿè£…
- webpackè¨­å®šã§ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã‚’æœ‰åŠ¹åŒ–
- ä¸è¦ãªä¾å­˜é–¢ä¿‚ã‚’å‰Šé™¤

#### 2. "Fetching your app" ã§åœæ­¢
**åŸå› **: publicPathè¨­å®šãŒé–“é•ã£ã¦ã„ã‚‹
**è§£æ±ºç­–**: webpack.config.js ã§ `publicPath: './'` ã‚’è¨­å®š

#### 3. CSS/ã‚¢ã‚»ãƒƒãƒˆãŒèª­ã¿è¾¼ã¾ã‚Œãªã„
**åŸå› **: ç›¸å¯¾ãƒ‘ã‚¹ã®è¨­å®šãƒŸã‚¹
**è§£æ±ºç­–**: ã™ã¹ã¦ã®ãƒ‘ã‚¹ã‚’ç›¸å¯¾ãƒ‘ã‚¹ï¼ˆ`./`ï¼‰ã«çµ±ä¸€

### 4. React Strict Modeã®å•é¡Œ
**åŸå› **: æœ¬ç•ªç’°å¢ƒã§ã®ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯
**è§£æ±ºç­–**: æœ¬ç•ªç’°å¢ƒã§ã¯Strict Modeã‚’ç„¡åŠ¹åŒ–

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ã‚³ãƒ¼ãƒ‰å“è³ª
- TypeScriptã®å³å¯†ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨
- ESLintã¨Prettierã§ä¸€è²«ã—ãŸå“è³ªã‚’ç¶­æŒ
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é©åˆ‡ãªåˆ†å‰²

### UI/UX
- FluentUIã‚’ä½¿ç”¨ã—ã¦ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®å®Ÿè£…
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®è€ƒæ…®

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- ã‚³ãƒ¼ãƒ‰åˆ†å‰²ã¨ãƒ¬ã‚¤ã‚¸ãƒ¼ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®é˜²æ­¢
- ãƒ¡ãƒ¢åŒ–ã®é©åˆ‡ãªä½¿ç”¨

# ğŸš€ å“è³ªå‘ä¸Šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

## ç¶™ç¶šçš„å“è³ªæ”¹å–„ã‚·ã‚¹ãƒ†ãƒ 

### 1. AIæ”¯æ´ã‚³ãƒ¼ãƒ‰å“è³ªåˆ†æ

```typescript
// src/utils/ai-quality-analyzer.ts
export class AIQualityAnalyzer {
  async analyzeCodeQuality(filePath: string, content: string): Promise<QualityReport> {
    const prompt = `
    Analyze this TypeScript/React code for Power Apps Code Apps:
    
    File: ${filePath}
    
    Focus on:
    1. Performance issues
    2. Security vulnerabilities  
    3. Accessibility concerns
    4. Power Apps compatibility
    5. Best practices adherence
    
    Return JSON with score and specific suggestions.
    `;
    
    const analysis = await this.callAIAPI(prompt);
    return JSON.parse(analysis);
  }

  async suggestRefactoring(code: string): Promise<string> {
    return await this.callAIAPI(`
      Suggest Power Apps Code Apps optimizations for:
      ${code}
      
      Focus on performance, maintainability, and Power Platform integration.
    `);
  }
}
```

### 2. è‡ªå‹•åŒ–ã•ã‚ŒãŸå“è³ªãƒã‚§ãƒƒã‚¯

#### GitHub Actionså“è³ªã‚²ãƒ¼ãƒˆ
```yaml
# .github/workflows/quality-gate.yml
name: Quality Gate

on:
  pull_request:
    branches: [main]

jobs:
  quality-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install & Test
        run: |
          npm ci
          npm run test -- --coverage --watchAll=false
          npm run lint
          npm run build
          
      - name: Bundle Analysis
        run: npm run analyze
        
      - name: Security Scan  
        run: npm audit --audit-level high
```

### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

```typescript
// src/utils/performance-monitor.ts
export class PerformanceMonitor {
  measureCustomMetric(name: string, fn: () => void) {
    const start = performance.now();
    fn();
    const duration = performance.now() - start;
    
    if (duration > 100) {
      console.warn(`ğŸŒ Slow operation: ${name} took ${duration}ms`);
    }
    
    // Application Insightsé€ä¿¡
    this.trackMetric(name, duration);
  }
  
  trackCoreWebVitals() {
    // LCP, FID, CLSç›£è¦–
    new PerformanceObserver((list) => {
      list.getEntries().forEach((entry) => {
        this.checkThresholds(entry);
      });
    }).observe({ entryTypes: ['largest-contentful-paint'] });
  }
  
  private checkThresholds(entry: PerformanceEntry) {
    const thresholds = {
      'largest-contentful-paint': 2500,
      'first-input-delay': 100
    };
    
    if (entry.startTime > thresholds[entry.name]) {
      this.alertPerformanceIssue(entry);
    }
  }
}
```

### 4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

```typescript
// src/utils/security-checker.ts
export class SecurityChecker {
  validateInput(input: string, type: 'email' | 'url' | 'text'): boolean {
    const patterns = {
      email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
      url: /^https?:\/\/[^\s$.?#].[^\s]*$/,
      text: /^[a-zA-Z0-9\s\-._]+$/
    };
    return patterns[type].test(input);
  }
  
  sanitizeHtml(html: string): string {
    const div = document.createElement('div');
    div.textContent = html;
    return div.innerHTML;
  }
  
  checkPowerAppsSecurityConfig() {
    // CSPè¨­å®šç¢ºèª
    if (!document.querySelector('meta[http-equiv="Content-Security-Policy"]')) {
      console.warn('ğŸ”’ CSP not configured');
    }
    
    // HTTPSç¢ºèª
    if (location.protocol !== 'https:' && location.hostname !== 'localhost') {
      console.error('ğŸ”’ HTTPS required');
    }
  }
}
```

### 5. å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹

#### ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] TypeScriptå‹å®‰å…¨æ€§
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ (80%ä»¥ä¸Š)
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å½±éŸ¿ç¢ºèª
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ¤œè¨¼
- [ ] Power Appså›ºæœ‰è¦ä»¶ç¢ºèª
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå½±éŸ¿è©•ä¾¡

#### å“è³ªã‚²ãƒ¼ãƒˆåŸºæº–
| é …ç›® | ç›®æ¨™å€¤ | å¿…é ˆ/æ¨å¥¨ |
|------|--------|-----------|
| ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ | 80%ä»¥ä¸Š | å¿…é ˆ |
| ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º | 300KBä»¥ä¸‹ | å¿…é ˆ |
| LCP | 2.5ç§’ä»¥ä¸‹ | æ¨å¥¨ |
| FID | 100msä»¥ä¸‹ | æ¨å¥¨ |
| Lighthouse Score | 90ä»¥ä¸Š | æ¨å¥¨ |

---

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- å…¥åŠ›å€¤ã®é©åˆ‡ãªæ¤œè¨¼
- XSSã®é˜²æ­¢
- é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç†è§£

### Power Apps Code Apps ã®æ§‹æˆè¦ç´ 

1. **Power Apps SDK** - `@microsoft/power-apps/app`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
2. **ç”Ÿæˆã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«/ã‚µãƒ¼ãƒ“ã‚¹** - ã‚³ãƒã‚¯ã‚¿ç”¨ã®è‡ªå‹•ç”Ÿæˆã‚³ãƒ¼ãƒ‰
3. **power.config.json** - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
4. **Power Apps ãƒ›ã‚¹ãƒˆ** - ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ç’°å¢ƒ

### ãƒ©ãƒ³ã‚¿ã‚¤ãƒ å‹•ä½œ

- **ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰** â†” **Power Apps SDK** â†” **Power Apps ãƒ›ã‚¹ãƒˆ**
- SDKãŒPower Platformã‚³ãƒã‚¯ã‚¿ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›
- ãƒ›ã‚¹ãƒˆãŒèªè¨¼ãƒ»æ‰¿èªãƒ»ã‚¢ãƒ—ãƒªèª­ã¿è¾¼ã¿ã‚’ç®¡ç†

## åˆ¶é™äº‹é …ï¼ˆ2025å¹´ç¾åœ¨ï¼‰

### ç¾åœ¨ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„æ©Ÿèƒ½

- **Content Security Policy (CSP)** ã‚µãƒãƒ¼ãƒˆ
- **Storage SAS IPåˆ¶é™** ã‚µãƒãƒ¼ãƒˆ  
- **Power Platform Gitçµ±åˆ**
- **Dataverseã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³** çµ±åˆ
- **Power Platform ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³** ä½¿ç”¨
- **Power Apps ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª** ã§ã®å®Ÿè¡Œ
- **Azure Application Insights** ã®ãƒã‚¤ãƒ†ã‚£ãƒ–çµ±åˆ

### ç®¡ç†æ©Ÿèƒ½ã‚µãƒãƒ¼ãƒˆçŠ¶æ³

âœ… **ã‚µãƒãƒ¼ãƒˆæ¸ˆã¿:**
- ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒæ„ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- å…±æœ‰åˆ¶é™ï¼ˆCanvas ã‚¢ãƒ—ãƒªã¨åŒã˜ï¼‰
- ã‚¢ãƒ—ãƒªæ¤œç–«
- ãƒ‡ãƒ¼ã‚¿æå¤±é˜²æ­¢ãƒãƒªã‚·ãƒ¼
- æ¡ä»¶ä»˜ãã‚¢ã‚¯ã‚»ã‚¹
- ç®¡ç†è€…åŒæ„æŠ‘åˆ¶
- ãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢
- Azure B2Bï¼ˆå¤–éƒ¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
- æ­£å¸¸æ€§ãƒ¡ãƒˆãƒªã‚¯ã‚¹

## ã‚·ã‚¹ãƒ†ãƒ è¨­å®š

### ãƒ˜ãƒƒãƒ€ãƒ¼éè¡¨ç¤ºæ©Ÿèƒ½

æœ¬ç•ªç’°å¢ƒã§Power Appsãƒ˜ãƒƒãƒ€ãƒ¼ã‚’éè¡¨ç¤ºã«ã™ã‚‹ï¼š

```
https://apps.powerapps.com/play/e/{environment-id}/a/{app-id}?hideNavBar=true
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

**é‡è¦**: ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰å†…ã«æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ãªã„ã§ãã ã•ã„ã€‚
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¯é©åˆ‡ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã«ä¿å­˜
- èªè¨¼ãƒ»æ‰¿èªãƒã‚§ãƒƒã‚¯å¾Œã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
- ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰ã¯å…¬é–‹ã•ã‚Œã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ãƒ›ã‚¹ãƒˆã•ã‚Œã¾ã™

## å‚è€ƒãƒªãƒ³ã‚¯

**å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ:**
- [Power Apps Code Apps æ¦‚è¦](https://learn.microsoft.com/en-us/power-apps/developer/code-apps/overview)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°](https://learn.microsoft.com/en-us/power-apps/developer/code-apps/architecture)
- [ã‚·ã‚¹ãƒ†ãƒ åˆ¶é™ã¨è¨­å®š](https://learn.microsoft.com/en-us/power-apps/developer/code-apps/system-limits-configuration)

**é–‹ç™ºãƒªã‚½ãƒ¼ã‚¹:**
- [Microsoft PowerAppsCodeApps ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/microsoft/PowerAppsCodeApps)
- [FluentUI React Components](https://react.fluentui.dev/)
- [Power Platform CLI](https://learn.microsoft.com/en-us/power-platform/developer/cli/introduction)

---

# ğŸ§© ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³

## å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### 1. åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ 

#### ãƒ™ãƒ¼ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```typescript
// src/components/base/BaseComponent.tsx
import React from 'react';
import { makeStyles, mergeClasses } from '@fluentui/react-components';

interface BaseComponentProps {
  className?: string;
  children?: React.ReactNode;
  'data-testid'?: string;
}

const useStyles = makeStyles({
  root: {
    // ãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ«
  }
});

export const BaseComponent: React.FC<BaseComponentProps> = ({
  className,
  children,
  'data-testid': testId,
  ...props
}) => {
  const styles = useStyles();
  
  return (
    <div 
      className={mergeClasses(styles.root, className)}
      data-testid={testId}
      {...props}
    >
      {children}
    </div>
  );
};
```

### 2. ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/common/Card.tsx
import React from 'react';
import { 
  Card as FluentCard,
  CardHeader,
  CardPreview,
  Text,
  Button,
  makeStyles,
  tokens
} from '@fluentui/react-components';
import { MoreHorizontal24Regular } from '@fluentui/react-icons';

const useStyles = makeStyles({
  card: {
    width: '100%',
    maxWidth: '400px',
    boxShadow: tokens.shadow8,
    borderRadius: tokens.borderRadiusLarge,
    '&:hover': {
      boxShadow: tokens.shadow16,
      transform: 'translateY(-2px)',
      transition: 'all 0.2s ease-in-out',
    },
  },
  header: {
    padding: '16px',
  },
  content: {
    padding: '0 16px 16px 16px',
  },
  footer: {
    padding: '16px',
    borderTop: `1px solid ${tokens.colorNeutralStroke2}`,
    display: 'flex',
    justifyContent: 'space-between',
    alignItems: 'center',
  },
});

interface CardProps {
  title: string;
  description?: string;
  image?: string;
  actions?: React.ReactNode;
  onClick?: () => void;
  className?: string;
}

export const Card: React.FC<CardProps> = ({
  title,
  description,
  image,
  actions,
  onClick,
  className
}) => {
  const styles = useStyles();

  return (
    <FluentCard 
      className={mergeClasses(styles.card, className)}
      onClick={onClick}
      role={onClick ? "button" : undefined}
      tabIndex={onClick ? 0 : undefined}
    >
      {image && (
        <CardPreview>
          <img src={image} alt={title} style={{ width: '100%', height: '200px', objectFit: 'cover' }} />
        </CardPreview>
      )}
      
      <CardHeader 
        className={styles.header}
        header={<Text weight="semibold" size={300}>{title}</Text>}
        action={
          <Button
            appearance="transparent" 
            icon={<MoreHorizontal24Regular />}
            aria-label="ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³"
          />
        }
      />
      
      {description && (
        <div className={styles.content}>
          <Text size={200}>{description}</Text>
        </div>
      )}
      
      {actions && (
        <div className={styles.footer}>
          {actions}
        </div>
      )}
    </FluentCard>
  );
};
```

### 3. ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/common/DataTable.tsx
import React, { useState, useMemo } from 'react';
import {
  Table,
  TableHeader,
  TableHeaderCell,
  TableBody,
  TableRow,
  TableCell,
  Button,
  Input,
  makeStyles,
  tokens
} from '@fluentui/react-components';
import { ArrowSort24Regular, Search24Regular } from '@fluentui/react-icons';

const useStyles = makeStyles({
  container: {
    width: '100%',
    backgroundColor: tokens.colorNeutralBackground1,
    borderRadius: tokens.borderRadiusMedium,
    padding: '16px',
  },
  toolbar: {
    display: 'flex',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: '16px',
  },
  searchBox: {
    minWidth: '300px',
  },
  table: {
    width: '100%',
  },
  sortableHeader: {
    cursor: 'pointer',
    display: 'flex',
    alignItems: 'center',
    gap: '8px',
    '&:hover': {
      backgroundColor: tokens.colorNeutralBackground1Hover,
    },
  },
});

interface Column<T> {
  key: keyof T;
  title: string;
  sortable?: boolean;
  render?: (value: T[keyof T], item: T) => React.ReactNode;
}

interface DataTableProps<T> {
  data: T[];
  columns: Column<T>[];
  searchable?: boolean;
  onRowClick?: (item: T) => void;
  className?: string;
}

export function DataTable<T extends Record<string, any>>({
  data,
  columns,
  searchable = true,
  onRowClick,
  className
}: DataTableProps<T>) {
  const styles = useStyles();
  const [searchTerm, setSearchTerm] = useState('');
  const [sortColumn, setSortColumn] = useState<keyof T | null>(null);
  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');

  const filteredData = useMemo(() => {
    let filtered = data;

    // æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    if (searchTerm) {
      filtered = filtered.filter(item =>
        Object.values(item).some(value =>
          String(value).toLowerCase().includes(searchTerm.toLowerCase())
        )
      );
    }

    // ã‚½ãƒ¼ãƒˆ
    if (sortColumn) {
      filtered.sort((a, b) => {
        const aValue = a[sortColumn];
        const bValue = b[sortColumn];
        
        if (aValue < bValue) return sortDirection === 'asc' ? -1 : 1;
        if (aValue > bValue) return sortDirection === 'asc' ? 1 : -1;
        return 0;
      });
    }

    return filtered;
  }, [data, searchTerm, sortColumn, sortDirection]);

  const handleSort = (column: keyof T) => {
    if (sortColumn === column) {
      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');
    } else {
      setSortColumn(column);
      setSortDirection('asc');
    }
  };

  return (
    <div className={mergeClasses(styles.container, className)}>
      {searchable && (
        <div className={styles.toolbar}>
          <Input
            className={styles.searchBox}
            placeholder="æ¤œç´¢..."
            value={searchTerm}
            onChange={(_, data) => setSearchTerm(data.value)}
            contentBefore={<Search24Regular />}
          />
        </div>
      )}

      <Table className={styles.table}>
        <TableHeader>
          <TableRow>
            {columns.map((column) => (
              <TableHeaderCell key={String(column.key)}>
                {column.sortable ? (
                  <div 
                    className={styles.sortableHeader}
                    onClick={() => handleSort(column.key)}
                  >
                    {column.title}
                    <ArrowSort24Regular />
                  </div>
                ) : (
                  column.title
                )}
              </TableHeaderCell>
            ))}
          </TableRow>
        </TableHeader>
        <TableBody>
          {filteredData.map((item, index) => (
            <TableRow 
              key={index}
              onClick={() => onRowClick?.(item)}
              style={{ cursor: onRowClick ? 'pointer' : 'default' }}
            >
              {columns.map((column) => (
                <TableCell key={String(column.key)}>
                  {column.render 
                    ? column.render(item[column.key], item)
                    : String(item[column.key])
                  }
                </TableCell>
              ))}
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </div>
  );
}
```

### 4. ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/common/Form.tsx
import React from 'react';
import { useForm, Controller, FieldValues, Path } from 'react-hook-form';
import {
  Input,
  Textarea,
  Dropdown,
  Button,
  Text,
  makeStyles,
  tokens
} from '@fluentui/react-components';

const useStyles = makeStyles({
  form: {
    display: 'flex',
    flexDirection: 'column',
    gap: '16px',
    padding: '24px',
    backgroundColor: tokens.colorNeutralBackground1,
    borderRadius: tokens.borderRadiusMedium,
  },
  field: {
    display: 'flex',
    flexDirection: 'column',
    gap: '8px',
  },
  label: {
    fontWeight: tokens.fontWeightMedium,
  },
  error: {
    color: tokens.colorPaletteRedForeground1,
    fontSize: tokens.fontSizeBase200,
  },
  actions: {
    display: 'flex',
    gap: '12px',
    justifyContent: 'flex-end',
    marginTop: '16px',
  },
});

interface FormField {
  name: string;
  label: string;
  type: 'text' | 'email' | 'textarea' | 'dropdown';
  required?: boolean;
  options?: Array<{ key: string; text: string }>;
  validation?: any;
}

interface FormProps<T extends FieldValues> {
  fields: FormField[];
  onSubmit: (data: T) => void;
  defaultValues?: Partial<T>;
  submitText?: string;
  cancelText?: string;
  onCancel?: () => void;
}

export function Form<T extends FieldValues>({
  fields,
  onSubmit,
  defaultValues,
  submitText = 'ä¿å­˜',
  cancelText = 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
  onCancel
}: FormProps<T>) {
  const styles = useStyles();
  const {
    control,
    handleSubmit,
    formState: { errors, isSubmitting }
  } = useForm<T>({
    defaultValues: defaultValues as any
  });

  const renderField = (field: FormField) => {
    const fieldName = field.name as Path<T>;
    
    return (
      <div key={field.name} className={styles.field}>
        <Text className={styles.label}>
          {field.label}
          {field.required && ' *'}
        </Text>
        
        <Controller
          name={fieldName}
          control={control}
          rules={{
            required: field.required ? `${field.label}ã¯å¿…é ˆã§ã™` : false,
            ...field.validation
          }}
          render={({ field: { onChange, value, onBlur } }) => {
            switch (field.type) {
              case 'textarea':
                return (
                  <Textarea
                    value={value || ''}
                    onChange={(_, data) => onChange(data.value)}
                    onBlur={onBlur}
                    placeholder={`${field.label}ã‚’å…¥åŠ›`}
                  />
                );
              
              case 'dropdown':
                return (
                  <Dropdown
                    value={value || ''}
                    onOptionSelect={(_, data) => onChange(data.optionValue)}
                    placeholder={`${field.label}ã‚’é¸æŠ`}
                  >
                    {field.options?.map(option => (
                      <option key={option.key} value={option.key}>
                        {option.text}
                      </option>
                    ))}
                  </Dropdown>
                );
              
              default:
                return (
                  <Input
                    type={field.type}
                    value={value || ''}
                    onChange={(_, data) => onChange(data.value)}
                    onBlur={onBlur}
                    placeholder={`${field.label}ã‚’å…¥åŠ›`}
                  />
                );
            }
          }}
        />
        
        {errors[fieldName] && (
          <Text className={styles.error}>
            {errors[fieldName]?.message as string}
          </Text>
        )}
      </div>
    );
  };

  return (
    <form className={styles.form} onSubmit={handleSubmit(onSubmit)}>
      {fields.map(renderField)}
      
      <div className={styles.actions}>
        {onCancel && (
          <Button 
            appearance="secondary"
            onClick={onCancel}
          >
            {cancelText}
          </Button>
        )}
        <Button 
          appearance="primary"
          type="submit"
          disabled={isSubmitting}
        >
          {isSubmitting ? 'ä¿å­˜ä¸­...' : submitText}
        </Button>
      </div>
    </form>
  );
}
```

### 5. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…ä¾‹

#### ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ for Power Apps
```typescript
// src/hooks/usePowerAppsData.ts
import { useState, useEffect } from 'react';
import { DataService } from '../services/DataService';

export function usePowerAppsData<T>(
  fetchFunction: () => Promise<T[]>,
  dependencies: any[] = []
) {
  const [data, setData] = useState<T[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        setError(null);
        const result = await fetchFunction();
        setData(result);
      } catch (err) {
        setError(err as Error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, dependencies);

  const refresh = () => {
    fetchData();
  };

  return { data, loading, error, refresh };
}
```

#### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
```typescript
// src/context/AppContext.tsx
import React, { createContext, useContext, useReducer } from 'react';

interface AppState {
  user: User | null;
  theme: 'light' | 'dark';
  notifications: Notification[];
}

interface AppContextType {
  state: AppState;
  dispatch: React.Dispatch<AppAction>;
}

const AppContext = createContext<AppContextType | null>(null);

export const useAppContext = () => {
  const context = useContext(AppContext);
  if (!context) {
    throw new Error('useAppContext must be used within AppProvider');
  }
  return context;
};

export const AppProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [state, dispatch] = useReducer(appReducer, initialState);

  return (
    <AppContext.Provider value={{ state, dispatch }}>
      {children}
    </AppContext.Provider>
  );
};
```

---

## ğŸ“š ã¾ã¨ã‚ãƒ»æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ã“ã®åŒ…æ‹¬çš„ãªé–‹ç™ºæ¨™æº–ã«ã‚ˆã‚Šã€Power Apps Code Apps ã®**è¦ä»¶ç†è§£ã‹ã‚‰å…¬é–‹ã¾ã§**ã®å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒç¢ºç«‹ã•ã‚Œã¾ã—ãŸã€‚

### âœ… å®Œæˆã—ãŸè¦ç´ 
1. **8ãƒ•ã‚§ãƒ¼ã‚ºé–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹**: è¦ä»¶å®šç¾©ã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ã¾ã§ã®ä½“ç³»çš„æ‰‹é †
2. **ãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ»ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
3. **AIæ”¯æ´ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°**: è‡ªå‹•ãƒ†ã‚¹ãƒˆç”Ÿæˆã¨ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãªã‚¨ãƒ©ãƒ¼è§£æ
4. **å“è³ªå‘ä¸Šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: ç¶™ç¶šçš„ãªå“è³ªç®¡ç†ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
5. **å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚°ãƒ¬ãƒ¼ãƒ‰ã®UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª

### ğŸ¯ å®Ÿè£…æ¨å¥¨é †åº
1. **PowerProviderå®Ÿè£…** (æœ€å„ªå…ˆ)
2. **åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹ç¯‰** (ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ»ãƒ˜ãƒƒãƒ€ãƒ¼)
3. **ãƒ‡ãƒ¼ã‚¿çµ±åˆ** (Power Platform ã‚³ãƒã‚¯ã‚¿)
4. **ãƒ†ã‚¹ãƒˆç’°å¢ƒæ§‹ç¯‰** (Jest + Playwright)
5. **CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³** (GitHub Actions)
6. **ç›£è¦–ãƒ»ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ ** (Application Insights)

### ğŸ”„ ç¶™ç¶šçš„æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«
- **é€±æ¬¡**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ç¢ºèª
- **æœˆæ¬¡**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨æœ€é©åŒ–
- **å››åŠæœŸ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å–ã‚Šè¾¼ã¿ã¨æ©Ÿèƒ½æ‹¡å¼µ

**é‡è¦**: ã“ã®æ¨™æº–ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚Power Appsæœ¬ç•ªç’°å¢ƒã§ã®ç¢ºå®Ÿãªå‹•ä½œã¨æœ€é©ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã€ã“ã‚Œã‚‰ã®æŒ‡é‡ã«å¾“ã£ã¦ãã ã•ã„ã€‚
