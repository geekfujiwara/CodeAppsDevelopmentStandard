# Power Apps Code Apps é–‹ç™ºæ¨™æº–


## æ¦‚è¦

ã“ã®æ¨™æº–ã¯ã€**Power Apps Code Apps** ï¼ˆPCF ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰ã®ãŸã‚ã®åŒ…æ‹¬çš„ãªé–‹ç™ºæŒ‡é‡ã§ã™ã€‚Microsoftå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ[Power Apps code apps](https://learn.microsoft.com/en-us/power-apps/developer/code-apps/)ï¼‰ã¨[PowerAppsCodeAppsãƒªãƒã‚¸ãƒˆãƒª](https://github.com/microsoft/PowerAppsCodeApps)ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«åŸºã¥ãã€**è¦ä»¶ç†è§£ã‹ã‚‰å…¬é–‹ã¾ã§**ã®å®Œå…¨ãªé–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã¨ã€**TailwindCSS ãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ **ã‚’çµ±åˆã—ãŸå®Ÿè·µçš„ãªã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

**Power Apps Code Apps** ã¯ã€Reactã€Vue ãªã©ã®ãƒãƒ”ãƒ¥ãƒ©ãƒ¼ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã—ã¦ã‚«ã‚¹ã‚¿ãƒ Webã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã—ã€UI ã¨ãƒ­ã‚¸ãƒƒã‚¯ã®å®Œå…¨ãªåˆ¶å¾¡ã‚’ä¿ã¡ãªãŒã‚‰ Power Platform ã§å®Ÿè¡Œã§ãã‚‹é–‹ç™ºãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚Microsoft Entra èªè¨¼ã€1,500+ ã‚³ãƒã‚¯ã‚¿ãƒ¼ã€ç®¡ç†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªã‚·ãƒ¼æº–æ‹ ã«ã‚ˆã‚Šã€å®‰å…¨ã§è¿…é€Ÿãªã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

### ğŸš¨ é‡è¦: PCF ã¨ Code Apps ã®é•ã„

| é …ç›® | **Power Apps Code Apps** (æœ¬æ¨™æº–) | **PCF** (Power Apps Component Framework) |
|------|-----------------------------------|-------------------------------------------|
| **ç”¨é€”** | **å®Œå…¨ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³** | å˜ä¸€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| **é–‹ç™ºæ–¹å¼** | Reactã€Vue ãªã©ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒª | TypeScript ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| **å…¬é–‹æ–¹æ³•** | **`pac code push`** | `pac pcf push` |
| **å®Ÿè¡Œç’°å¢ƒ** | Power Apps å†…ã§ã‚¢ãƒ—ãƒªã¨ã—ã¦å‹•ä½œ | Power Apps å†…ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦åŸ‹ã‚è¾¼ã¿ |
| **SDK** | `@microsoft/power-apps` | `powerapps-component-framework` |

> **ã“ã®æ¨™æº–ã¯ Power Apps Code Apps å°‚ç”¨ã§ã™ã€‚PCF ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–‹ç™ºã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚**

### ğŸ¯ æ®µéšçš„é–‹ç™ºãƒ•ãƒ­ãƒ¼ (AI ã‚¬ã‚¤ãƒ‰ä»˜ã)

ã“ã®é–‹ç™ºæ¨™æº–ã§ã¯ã€**æ®µéšçš„ãªé–‹ç™ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**ã‚’æ¡ç”¨ã—ã€å„æ®µéšã§AIãŒæ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ææ¡ˆã—ã¾ã™ï¼š

#### **Phase 1: MVP é–‹ç™ºãƒ»æ¤œè¨¼** 
```mermaid
graph LR
    A[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ] --> B[PowerProviderå®Ÿè£…]
    B --> C[åŸºæœ¬UIæ§‹ç¯‰]
    C --> D[ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ]
    D --> E[Power Apps ãƒ‡ãƒ—ãƒ­ã‚¤]
    E --> F[MVPå®Œäº†]
```
- **AIææ¡ˆä¾‹**: *"MVPãƒ¢ãƒ‡ãƒ«ã‚’é–‹ç™ºã—ã¾ã—ãŸã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ"*
- **æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: *"ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œå®Œäº†ã—ã¾ã—ãŸã€‚å•é¡Œãªãå®Ÿè¡Œã§ããŸå ´åˆã€ã¾ãšã¯MVPã‚’Power Appsæœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã‹ï¼Ÿ"*

#### **Phase 2: æ©Ÿèƒ½æ‹¡å¼µãƒ»ãƒ‡ãƒ¼ã‚¿çµ±åˆ**
```mermaid
graph LR
    A[MVPå®Œäº†] --> B{ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹é¸æŠ}
    B -->|æ¨å¥¨| C[Office 365 Users]
    B -->|é«˜æ©Ÿèƒ½| D[Dataverse]
    B -->|å¤–éƒ¨DB| E[Azure SQL]
    C --> F[èªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†å®Ÿè£…]
    D --> G[CRUDæ“ä½œå®Ÿè£…]
    E --> H[ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«æ©Ÿèƒ½å®Ÿè£…]
```
- **AIææ¡ˆä¾‹**: *"æ©Ÿèƒ½æ‹¡å¼µã¨ã—ã¦ã€Dataverseã«æ¥ç¶šã—ã¾ã™ã‹ï¼Ÿ"*
- **æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: *"Dataverseã«æ¥ç¶šã—ã¾ã—ãŸã€‚æ¬¡ã¯ã»ã‹ã®æ©Ÿèƒ½ã‚’é–‹ç™ºã—ã¾ã™ã‹ï¼Ÿæ©Ÿèƒ½ã¨ã—ã¦ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ãƒ»æ¨©é™åˆ¶å¾¡ãŒãŠã™ã™ã‚ã§ã™"*

#### **Phase 3: æœ¬æ ¼é‹ç”¨ãƒ»æœ€é©åŒ–**
```mermaid
graph LR
    A[ãƒ‡ãƒ¼ã‚¿çµ±åˆå®Œäº†] --> B[ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–]
    B --> C[ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–]
    C --> D[CI/CDæ§‹ç¯‰]
    D --> E[ç›£è¦–ãƒ»ãƒ­ã‚°å®Ÿè£…]
    E --> F[æœ¬æ ¼é‹ç”¨é–‹å§‹]
```
- **AIææ¡ˆä¾‹**: *"æ©Ÿèƒ½é–‹ç™ºãŒå®Œäº†ã—ã¾ã—ãŸã€‚ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–ã‚’å®Ÿè£…ã—ã¾ã™ã‹ï¼Ÿ"*
- **æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: *"CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã—ã¦è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¨­å®šã—ã¾ã™ã‹ï¼Ÿ"*

### ğŸ¤– **AI ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ**

å„æ®µéšã§ä»¥ä¸‹ã®æ§‹é€ åŒ–ã•ã‚ŒãŸææ¡ˆã‚’è¡Œã„ã¾ã™ï¼š

#### **1. ç¾åœ¨ã®çŠ¶æ…‹ç¢ºèª**
```typescript
interface DevelopmentState {
  currentPhase: 'setup' | 'mvp' | 'integration' | 'optimization';
  completedSteps: string[];
  availableActions: NextAction[];
  recommendedPath: 'beginner' | 'intermediate' | 'advanced';
}
```

#### **2. æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆ**
```typescript
interface NextAction {
  action: string;
  description: string;
  difficulty: 'easy' | 'medium' | 'hard';
  estimatedTime: string;
  prerequisites: string[];
  benefits: string[];
}
```

#### **3. æ®µéšçš„ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ä¾‹**

**MVP æ®µéš:**
```json
{
  "message": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ãŒå®Œäº†ã—ã¾ã—ãŸã€‚",
  "nextActions": [
    {
      "action": "PowerProviderå®Ÿè£…",
      "description": "Power Apps SDKåˆæœŸåŒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè£…",
      "difficulty": "easy",
      "estimatedTime": "15åˆ†",
      "command": "AIå®Ÿè£…æ”¯æ´ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ"
    }
  ]
}
```

**ãƒ‡ãƒ¼ã‚¿çµ±åˆæ®µéš:**
```json
{
  "message": "MVPãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ã€‚",
  "nextActions": [
    {
      "action": "Office 365 Users çµ±åˆ",
      "description": "ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—ãƒ»èªè¨¼å¼·åŒ–",
      "difficulty": "easy",
      "estimatedTime": "30åˆ†",
      "benefits": ["ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†", "ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«è¡¨ç¤º", "çµ„ç¹”éšå±¤"]
    },
    {
      "action": "Dataverse çµ±åˆ",
      "description": "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ©Ÿèƒ½ãƒ»CRUDæ“ä½œ",
      "difficulty": "medium", 
      "estimatedTime": "1-2æ™‚é–“",
      "benefits": ["ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–", "ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³", "é«˜åº¦ãªã‚¯ã‚¨ãƒª"]
    },
    {
      "action": "Azure SQL çµ±åˆ",
      "description": "å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ»è¤‡é›‘ãªã‚¯ã‚¨ãƒª",
      "difficulty": "hard",
      "estimatedTime": "2-4æ™‚é–“",
      "benefits": ["æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ", "é«˜æ€§èƒ½ã‚¯ã‚¨ãƒª", "ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£"]
    }
  ]
}
```

### ğŸ“‹ **å®Ÿè£…æ¨å¥¨é †åº (è©³ç´°)**
1. **ç’°å¢ƒæ§‹ç¯‰ & PowerProvider** â†’ *"SDKåˆæœŸåŒ–å®Œäº†ã—ã¾ã—ãŸã€‚åŸºæœ¬UIã‚’ä½œæˆã—ã¾ã™ã‹ï¼Ÿ"*
2. **åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹ç¯‰** â†’ *"UIãŒå®Œæˆã—ã¾ã—ãŸã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆã—ã¾ã™ã‹ï¼Ÿ"*
3. **ãƒ­ãƒ¼ã‚«ãƒ«æ¤œè¨¼** â†’ *"æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ã€‚Power Appsã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã‹ï¼Ÿ"*
4. **Power Apps ãƒ‡ãƒ—ãƒ­ã‚¤** â†’ *"MVPãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ï¼ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹çµ±åˆã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ"*
5. **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹é¸æŠãƒ»çµ±åˆ** â†’ *"ãƒ‡ãƒ¼ã‚¿æ¥ç¶šå®Œäº†ï¼è¿½åŠ æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã‹ï¼Ÿ"*
6. **æ©Ÿèƒ½æ‹¡å¼µ** â†’ *"æ©Ÿèƒ½é–‹ç™ºå®Œäº†ï¼å“è³ªå‘ä¸Šã®ãŸã‚ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã‹ï¼Ÿ"*
7. **ãƒ†ã‚¹ãƒˆãƒ»æœ€é©åŒ–** â†’ *"ãƒ†ã‚¹ãƒˆå®Œäº†ï¼CI/CDã§è‡ªå‹•åŒ–ã—ã¾ã™ã‹ï¼Ÿ"*
8. **æœ¬æ ¼é‹ç”¨æº–å‚™** â†’ *"æœ¬æ ¼é‹ç”¨ã®æº–å‚™ãŒæ•´ã„ã¾ã—ãŸï¼"*

> **é‡è¦**: å„æ®µéšã§AIãŒé–‹ç™ºè€…ã®ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«ã¨æ™‚é–“åˆ¶ç´„ã«å¿œã˜ã¦æœ€é©ãªæ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’ææ¡ˆã—ã€åŠ¹ç‡çš„ãªé–‹ç™ºã‚’æ”¯æ´ã—ã¾ã™ã€‚

## ç›®æ¬¡

### ğŸ¤– AI ã‚¬ã‚¤ãƒ‰ä»˜ãé–‹ç™ºãƒ•ãƒ­ãƒ¼
- [æ®µéšçš„é–‹ç™ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ](#æ®µéšçš„é–‹ç™ºãƒ•ãƒ­ãƒ¼-ai-ã‚¬ã‚¤ãƒ‰ä»˜ã)
- [AIã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã‚·ã‚¹ãƒ†ãƒ ](#ai-ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹-ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ)
- [é–‹ç™ºçŠ¶æ…‹ç®¡ç†](#é–‹ç™ºçŠ¶æ…‹ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆ)

### ğŸ“‹ Code Apps é–‹ç™ºãƒ•ãƒ­ãƒ¼
1. [ç’°å¢ƒæ§‹ç¯‰ãƒ»PowerProviderå®Ÿè£…](#2-ç’°å¢ƒæ§‹ç¯‰ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ)  
2. [ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»UIé–‹ç™º](#ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»uié–‹ç™º)
3. [ã‚³ãƒã‚¯ã‚¿çµ±åˆãƒ»ãƒ‡ãƒ¼ã‚¿æ¥ç¶š](#ã‚³ãƒã‚¯ã‚¿çµ±åˆãƒ»ãƒ‡ãƒ¼ã‚¿æ¥ç¶š)
4. [ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤](#ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤)

### ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
- [TailwindCSS ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ](#tailwindcss-ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ )
- [ç¾ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ](#ç¾ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ)
- [UI ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆ](#ui-ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆ)
- [ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ãƒ»ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ](#ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ãƒ»ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ)
- [ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³](#ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³)
- [ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£](#ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£)

### ğŸ› ï¸ æŠ€è¡“åŸºç›¤
- [å¿…é ˆå®Ÿè£…è¦ä»¶](#å¿…é ˆå®Ÿè£…è¦ä»¶)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³)
- [æ¨å¥¨æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æ¨å¥¨æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–](#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)

### ğŸ” å“è³ªä¿è¨¼
- [ãƒ†ã‚¹ãƒˆæˆ¦ç•¥](#ãƒ†ã‚¹ãƒˆæˆ¦ç•¥)
- [ãƒ‡ãƒãƒƒã‚°æ‰‹æ³•](#ãƒ‡ãƒãƒƒã‚°æ‰‹æ³•)
- [AIæ´»ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](#aiæ´»ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³)

### âš¡ Power Apps Code Apps çµ±åˆ (æœ€é‡è¦ãƒ»PCF ã§ã¯ã‚ã‚Šã¾ã›ã‚“)
- [ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ¦‚è¦](#power-apps-code-apps-ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ¦‚è¦)
- [MVP å®Ÿè£…ã‚¬ã‚¤ãƒ‰](#mvp-å®Ÿè£…ã‚¬ã‚¤ãƒ‰)
- [ã‚³ãƒã‚¯ã‚¿åˆ©ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³](#ã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…)
- [æ¤œè¨¼ãƒ»ãƒ†ã‚¹ãƒˆ](#æ¤œè¨¼ãƒ»ãƒ†ã‚¹ãƒˆ)

## å‰ææ¡ä»¶ (Microsoft å…¬å¼è¦ä»¶)

### é–‹ç™ºç’°å¢ƒã®æº–å‚™

**å¿…é ˆé–‹ç™ºãƒ„ãƒ¼ãƒ«:**
- âœ… [Visual Studio Code](https://code.visualstudio.com/)
- âœ… [Node.js](https://nodejs.org/) (LTSç‰ˆ)
- âœ… [Git](https://git-scm.com/)
- âœ… [Power Platform CLI](https://learn.microsoft.com/en-us/power-platform/developer/cli/introduction)

> **é‡è¦**: ã“ã‚Œã‚‰ã®é–‹ç™ºãƒ„ãƒ¼ãƒ«ã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§åˆ©ç”¨å¯èƒ½ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™

### Power Platform ç’°å¢ƒè¨­å®š

**1. Code Apps æ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–**
```bash
# Power Platform ç®¡ç†ã‚»ãƒ³ã‚¿ãƒ¼ (admin.powerplatform.microsoft.com) ã§å®Ÿè¡Œ:
1. ç®¡ç† â†’ ç’°å¢ƒ â†’ å¯¾è±¡ç’°å¢ƒã‚’é¸æŠ
2. è¨­å®š â†’ è£½å“ â†’ æ©Ÿèƒ½ â†’ "Power Apps code apps"
3. "Code Apps ã‚’æœ‰åŠ¹ã«ã™ã‚‹" ãƒˆã‚°ãƒ«ã‚’ã‚ªãƒ³ã«è¨­å®š
4. ä¿å­˜
```

**2. ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ©ã‚¤ã‚»ãƒ³ã‚¹è¦ä»¶**
- **å¿…é ˆ**: [Power Apps Premium ãƒ©ã‚¤ã‚»ãƒ³ã‚¹](https://www.microsoft.com/power-platform/products/power-apps/pricing)
- Code Apps ã‚’å®Ÿè¡Œã™ã‚‹ã™ã¹ã¦ã®ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãŒå¿…è¦

**3. ç®¡ç†è€…æ¨©é™ã®ç¢ºèª**
- Power Platform ç®¡ç†è€…ã¾ãŸã¯ç’°å¢ƒç®¡ç†è€…æ¨©é™
- ç’°å¢ƒè¨­å®šå¤‰æ›´ã¨ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ä½œæˆæ¨©é™
- ã‚°ãƒ«ãƒ¼ãƒ—ã¨ãƒ«ãƒ¼ãƒ«ã«åŸºã¥ãã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡è¨­å®š

---

## âš¡ Power Apps Code Apps çµ±åˆ (æœ€é‡è¦)

### Power Apps Code Apps ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ¦‚è¦ (Microsoft å…¬å¼)

**Power Apps Code Apps** ã¯ã€Visual Studio Code ç­‰ã®çµ±åˆé–‹ç™ºç’°å¢ƒã§Webã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã™ã‚‹ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«ã®é–‹ç™ºè€…ãŒã€ç®¡ç†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¸Šã§åŠ¹ç‡çš„ã«ãƒ“ã‚¸ãƒã‚¹ã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ãƒ»å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚ŒãŸãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚Reactã€Vue ãªã©ã®ãƒãƒ”ãƒ¥ãƒ©ãƒ¼ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã—ã€UI ã¨ãƒ­ã‚¸ãƒƒã‚¯ã®å®Œå…¨ãªåˆ¶å¾¡ã‚’ä¿æŒã§ãã¾ã™ã€‚

#### ğŸš€ **ä¸»è¦æ©Ÿèƒ½**
- **Microsoft Entra èªè¨¼ãƒ»èªå¯**: è‡ªå‹•ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç®¡ç†
- **1,500+ ã‚³ãƒã‚¯ã‚¿ãƒ¼**: Power Platform ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¸ã® JavaScript ã‹ã‚‰ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹
- **ç°¡å˜å…¬é–‹ãƒ»ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**: Power Platform ã§ã®åŸºå¹¹æ¥­å‹™Webã‚¢ãƒ—ãƒªé…å¸ƒ
- **ç®¡ç†ãƒãƒªã‚·ãƒ¼æº–æ‹ **: ã‚¢ãƒ—ãƒªå…±æœ‰åˆ¶é™ã€æ¡ä»¶ä»˜ãã‚¢ã‚¯ã‚»ã‚¹ã€ãƒ‡ãƒ¼ã‚¿æå¤±é˜²æ­¢ãªã©
- **ALM ç°¡ç´ åŒ–**: ãƒ‡ãƒ—ãƒ­ã‚¤ã¨å¿œç”¨ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†

#### ğŸ¯ **é–‹ç™ºãƒ»å®Ÿè¡Œãƒ•ãƒ­ãƒ¼**
1. **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º**: Visual Studio Code ã§ React/Vue ã‚¢ãƒ—ãƒªé–‹ç™º
2. **Power Platformçµ±åˆ**: `@microsoft/power-apps` SDK ã§ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ©Ÿèƒ½çµ±åˆ
3. **æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤**: å°‚ç”¨æœ¬ç•ªç’°å¢ƒã¸ã®å®‰å…¨ã§è¿…é€Ÿãªé…å¸ƒ

> **é‡è¦**: ã“ã‚Œã¯ PCF ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–‹ç™ºã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å®Œå…¨ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ **Power Apps Code Apps** ã¨ã—ã¦æ§‹ç¯‰ãƒ»å…¬é–‹ã™ã‚‹é–‹ç™ºãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚

---

## ğŸš€ é–‹ç™ºçŠ¶æ…‹ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆ

ã“ã®æ¨™æº–ã§ã¯ã€é–‹ç™ºã®å„æ®µéšã§AIãŒé©åˆ‡ãªæ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ææ¡ˆã—ã€åŠ¹ç‡çš„ãªé–‹ç™ºã‚’ã‚¬ã‚¤ãƒ‰ã—ã¾ã™ï¼š

### **æ®µéšåˆ¥ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ**

```mermaid
graph TD
    A[é–‹ç™ºé–‹å§‹] --> B{ç’°å¢ƒæ§‹ç¯‰æ¸ˆã¿?}
    B -->|No| C[ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Ÿè¡Œ]
    B -->|Yes| D[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–]
    
    C --> D
    D --> E[PowerProviderå®Ÿè£…]
    E --> F[åŸºæœ¬UIæ§‹ç¯‰]
    F --> G[ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œãƒ†ã‚¹ãƒˆ]
    
    G --> H{æ­£å¸¸å‹•ä½œ?}
    H -->|No| I[ãƒ‡ãƒãƒƒã‚°æ”¯æ´]
    H -->|Yes| J[Power Apps ãƒ‡ãƒ—ãƒ­ã‚¤]
    
    I --> G
    J --> K{MVPå®Œäº†?}
    K -->|Yes| L{æ©Ÿèƒ½æ‹¡å¼µæ–¹å‘}
    
    L -->|ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†| M[Office 365 Usersçµ±åˆ]
    L -->|ãƒ‡ãƒ¼ã‚¿ç®¡ç†| N[Dataverseçµ±åˆ]  
    L -->|å¤–éƒ¨DB| O[Azure SQLçµ±åˆ]
    L -->|APIçµ±åˆ| P[ã‚«ã‚¹ã‚¿ãƒ APIçµ±åˆ]
    
    M --> Q[è¿½åŠ æ©Ÿèƒ½é–‹ç™º]
    N --> Q
    O --> Q
    P --> Q
    
    Q --> R{å“è³ªå‘ä¸Š?}
    R -->|Yes| S[ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–]
    S --> T[CI/CDæ§‹ç¯‰]
    T --> U[æœ¬æ ¼é‹ç”¨é–‹å§‹]
```

### **AI ææ¡ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**

#### **Phase 1: åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**
```
âœ… ç’°å¢ƒæ§‹ç¯‰ãŒå®Œäº†ã—ã¾ã—ãŸï¼
ğŸ¯ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³: PowerProviderå®Ÿè£…
ğŸ“ èª¬æ˜: Power Apps SDKã¨ã®æ¥ç¶šã‚’ç¢ºç«‹ã—ã¾ã™
â±ï¸ äºˆæƒ³æ™‚é–“: 15åˆ†
â“ PowerProviderå®Ÿè£…ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ
```

### ğŸ¨ **Code Apps ãƒ­ã‚´ãƒ»ã‚¢ã‚¤ã‚³ãƒ³çµ±åˆ**

#### **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ­ã‚´è¨­è¨ˆ**

é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã«æœ€é©åŒ–ã•ã‚ŒãŸCode Appsãƒ­ã‚´ã‚’æä¾›ï¼š

```
assets/
â”œâ”€â”€ logo.svg          # ãƒ¡ã‚¤ãƒ³ãƒ­ã‚´ (64x64)
â”œâ”€â”€ favicon.svg       # ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ (32x32)
â””â”€â”€ logo-variants/    # ã‚µã‚¤ã‚ºåˆ¥ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³
```

**ãƒ­ã‚´ã®æ§‹æˆè¦ç´ :**
- ğŸ”µ **Microsoft ãƒ–ãƒ«ãƒ¼èƒŒæ™¯** (`#0078D4`) - Power Platform ä¸€è²«æ€§
- âš¡ **ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°ã‚¢ã‚¤ã‚³ãƒ³** - Power Apps ã®è±¡å¾´
- `< >` **ã‚³ãƒ¼ãƒ‰æ‹¬å¼§** - é–‹ç™ºãƒ»Code Apps ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£
- âš™ï¸ **ã‚®ã‚¢ã‚¢ã‚¤ã‚³ãƒ³** - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
- **"CA"ãƒ†ã‚­ã‚¹ãƒˆ** - Code Apps ç•¥ç§°

#### **MVPãƒ•ã‚§ãƒ¼ã‚ºã§ã®åˆ©ç”¨**

**1. pac code init ã§ã®è‡ªå‹•è¨­å®š**
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–æ™‚ã«ãƒ­ã‚´ã‚’æŒ‡å®š
pac code init --displayName "My Code App" -l "./assets/logo.svg"

# power.config.json ã«è‡ªå‹•ç™»éŒ²
{
  "appInfo": {
    "displayName": "My Code App",
    "logoPath": "./assets/logo.svg"
  }
}
```

**2. Vite ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®çµ±åˆ**
```typescript
// vite.config.ts
export default defineConfig({
  // ãƒ•ã‚¡ãƒ“ã‚³ãƒ³è¨­å®š
  publicDir: 'public',
  // ...
});
```

```html
<!-- public/index.html -->
<head>
  <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
  <title>My Code App</title>
</head>
```

**3. React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®åˆ©ç”¨**
```typescript
// src/components/AppHeader.tsx
import React from 'react';

export const AppHeader: React.FC = () => {
  return (
    <header className="flex items-center gap-3 p-4 bg-blue-600 text-white">
      <img 
        src="/assets/logo.svg" 
        alt="Code App Logo" 
        className="w-8 h-8"
      />
      <h1 className="text-xl font-semibold">My Code App</h1>
    </header>
  );
};
```

#### **ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°çµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³**

**4. TailwindCSS ãƒ†ãƒ¼ãƒé€£æº**
```javascript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        'code-apps': {
          primary: '#0078D4',    // ãƒ­ã‚´ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼
          secondary: '#005A9E',  // ãƒ­ã‚´ãƒœãƒ¼ãƒ€ãƒ¼
          accent: '#FFD700',     // ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°
        }
      }
    }
  }
}
```

**5. Loading Spinner ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**
```typescript
// src/components/LoadingSpinner.tsx
import React from 'react';

export const LoadingSpinner: React.FC = () => {
  return (
    <div className="flex flex-col items-center justify-center p-8">
      <div className="relative">
        <img 
          src="/assets/logo.svg" 
          alt="Loading..." 
          className="w-16 h-16 animate-pulse"
        />
        <div className="absolute inset-0 border-4 border-code-apps-primary border-t-transparent rounded-full animate-spin"></div>
      </div>
      <p className="mt-4 text-code-apps-primary font-medium">Loading Code App...</p>
    </div>
  );
};
```

#### **Power Apps å…¬é–‹æ™‚ã®æœ€é©åŒ–**

**6. ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆæœ€é©åŒ–**
```json
// power.config.json (è‡ªå‹•ç”Ÿæˆãƒ»å‚è€ƒ)
{
  "appInfo": {
    "displayName": "My Code App",
    "description": "Modern Code App built with React + TailwindCSS",
    "logoPath": "./assets/logo.svg",
    "version": "1.0.0"
  },
  "branding": {
    "primaryColor": "#0078D4",
    "accentColor": "#FFD700"
  }
}
```

**7. 404ãƒ»ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸çµ±åˆ**
```typescript
// src/pages/ErrorPage.tsx
import React from 'react';

export const ErrorPage: React.FC<{ error: string }> = ({ error }) => {
  return (
    <div className="min-h-screen flex flex-col items-center justify-center bg-gray-50">
      <img 
        src="/assets/logo.svg" 
        alt="Code App" 
        className="w-24 h-24 mb-6 opacity-50"
      />
      <h1 className="text-2xl font-bold text-gray-800 mb-2">æ¥ç¶šã‚¨ãƒ©ãƒ¼</h1>
      <p className="text-gray-600 mb-6 text-center max-w-md">
        {error}
      </p>
      <button 
        onClick={() => window.location.reload()}
        className="px-6 py-2 bg-code-apps-primary text-white rounded-lg hover:bg-code-apps-secondary transition-colors"
      >
        å†è©¦è¡Œ
      </button>
    </div>
  );
};
```

#### **é–‹ç™ºãƒ•ãƒ­ãƒ¼ã§ã®è‡ªå‹•çµ±åˆ**

MVPãƒ•ã‚§ãƒ¼ã‚ºã§æ—¢ã«åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹ãŸã‚ã®è¨­å®šï¼š

```bash
# 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚
mkdir my-code-app
cd my-code-app
npm create vite@latest . -- --template react-ts

# 2. ã‚¢ã‚»ãƒƒãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆã¨ãƒ­ã‚´é…ç½®
mkdir -p public/assets
# ãƒ­ã‚´ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼

# 3. Code Apps åˆæœŸåŒ–ï¼ˆãƒ­ã‚´ä»˜ãï¼‰
pac code init --displayName "My Code App" -l "./public/assets/logo.svg"

# 4. é–‹ç™ºé–‹å§‹
npm run dev
```

ã“ã‚Œã«ã‚ˆã‚Šã€MVPãƒ•ã‚§ãƒ¼ã‚ºã®é–‹å§‹æ™‚ç‚¹ã§æ—¢ã«ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒ­ã‚´ã¨ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãŒçµ±åˆã•ã‚ŒãŸçŠ¶æ…‹ã§Code Appsã®é–‹ç™ºã‚’é–‹å§‹ã§ãã¾ã™ã€‚

#### **Phase 2: MVPé–‹ç™º**
```
âœ… PowerProviderå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸï¼
ğŸ¯ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³: åŸºæœ¬UIæ§‹ç¯‰
ğŸ“ èª¬æ˜: shadcn/ui + TailwindCSSã§ãƒ¢ãƒ€ãƒ³ãªUIã‚’ä½œæˆã—ã¾ã™
â±ï¸ äºˆæƒ³æ™‚é–“: 30-60åˆ†
â“ åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã‹ï¼Ÿ
```

#### **Phase 3: å‹•ä½œæ¤œè¨¼**
```
âœ… åŸºæœ¬UIæ§‹ç¯‰ãŒå®Œäº†ã—ã¾ã—ãŸï¼
ğŸ¯ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³: ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œãƒ†ã‚¹ãƒˆ
ğŸ“ èª¬æ˜: é–‹ç™ºç’°å¢ƒã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™
â±ï¸ äºˆæƒ³æ™‚é–“: 10åˆ†
â“ ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã‚¢ãƒ—ãƒªã‚’å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ
```

#### **Phase 4: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ**
```
âœ… ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ã¾ã—ãŸï¼
ğŸ¯ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³: Power Appsç’°å¢ƒã¸ãƒ‡ãƒ—ãƒ­ã‚¤
ğŸ“ èª¬æ˜: æœ¬ç•ªç’°å¢ƒã§Code Appsã¨ã—ã¦å…¬é–‹ã—ã¾ã™
â±ï¸ äºˆæƒ³æ™‚é–“: 15åˆ†
â“ Power Appsç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã‹ï¼Ÿ
```

#### **Phase 5: æ©Ÿèƒ½æ‹¡å¼µé¸æŠ**
```
ğŸ‰ MVPå®Œäº†ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼
ğŸ¯ æ¬¡ã®æ©Ÿèƒ½æ‹¡å¼µã‚’é¸æŠã—ã¦ãã ã•ã„:

1ï¸âƒ£ Office 365 Usersçµ±åˆ (é›£æ˜“åº¦: æ˜“ã€æ™‚é–“: 30åˆ†)
   â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«è¡¨ç¤ºã€çµ„ç¹”éšå±¤

2ï¸âƒ£ Dataverseçµ±åˆ (é›£æ˜“åº¦: ä¸­ã€æ™‚é–“: 1-2æ™‚é–“)  
   â†’ ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–ã€CRUDæ“ä½œã€ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

3ï¸âƒ£ Azure SQLçµ±åˆ (é›£æ˜“åº¦: é«˜ã€æ™‚é–“: 2-4æ™‚é–“)
   â†’ æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã€é«˜æ€§èƒ½ã‚¯ã‚¨ãƒª

â“ ã©ã®æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã‹ï¼Ÿ
```

#### **Phase 6: ç¶™ç¶šé–‹ç™º**
```
âœ… [é¸æŠã—ãŸæ©Ÿèƒ½]ã®çµ±åˆãŒå®Œäº†ã—ã¾ã—ãŸï¼
ğŸ¯ æ¨å¥¨ã•ã‚Œã‚‹æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:

â€¢ ğŸ”§ è¿½åŠ æ©Ÿèƒ½é–‹ç™º (ä»–ã®ã‚³ãƒã‚¯ã‚¿ãƒ¼çµ±åˆ)
â€¢ ğŸ§ª ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ– (å“è³ªå‘ä¸Š)  
â€¢ ğŸš€ CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ (è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤)
â€¢ ğŸ“Š ç›£è¦–ãƒ»ãƒ­ã‚°å®Ÿè£… (é‹ç”¨æœ€é©åŒ–)

â“ æ¬¡ã¯ã©ã®é ˜åŸŸã‚’å¼·åŒ–ã—ã¾ã™ã‹ï¼Ÿ
```

### **ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«åˆ¥æ¨å¥¨ãƒ‘ã‚¹**

#### **åˆå¿ƒè€…å‘ã‘ (Beginner Path)**
```
1. ç’°å¢ƒæ§‹ç¯‰ â†’ PowerProvider â†’ åŸºæœ¬UI â†’ ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ â†’ ãƒ‡ãƒ—ãƒ­ã‚¤
2. Office 365 Usersçµ±åˆ (æœ€ã‚‚ç°¡å˜)
3. åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆè¿½åŠ 
4. æ®µéšçš„ãªæ©Ÿèƒ½æ‹¡å¼µ
```

#### **ä¸­ç´šè€…å‘ã‘ (Intermediate Path)**  
```
1. æ¨™æº–MVPé–‹ç™º
2. Dataverseçµ±åˆ + CRUDæ“ä½œ
3. TanStack Queryå®Ÿè£…
4. è‡ªå‹•ãƒ†ã‚¹ãƒˆ + CI/CD
```

#### **ä¸Šç´šè€…å‘ã‘ (Advanced Path)**
```
1. é«˜é€ŸMVPé–‹ç™º
2. è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹çµ±åˆ (Dataverse + Azure SQL)
3. é«˜åº¦ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³
4. æœ¬æ ¼çš„ãªé‹ç”¨ç›£è¦–å®Ÿè£…
```

### **é€²æ—è¿½è·¡ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹**

é–‹ç™ºçŠ¶æ…‹ã‚’è¿½è·¡ã—ã€é©åˆ‡ãªææ¡ˆã‚’è¡Œã†ãŸã‚ã®æ§‹é€ ï¼š

```typescript
interface ProjectProgress {
  // ç¾åœ¨ã®é–‹ç™ºæ®µéš
  currentPhase: 'setup' | 'mvp' | 'integration' | 'optimization' | 'production';
  
  // å®Œäº†ã—ãŸé …ç›®
  completedSteps: {
    environmentSetup: boolean;
    powerProviderImpl: boolean;
    basicUI: boolean;
    localTesting: boolean;
    powerAppsDeployment: boolean;
    dataIntegration: DataIntegrationType[];
    testAutomation: boolean;
    cicdSetup: boolean;
  };
  
  // é–‹ç™ºè€…ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«
  developerLevel: 'beginner' | 'intermediate' | 'advanced';
  
  // åˆ©ç”¨å¯èƒ½æ™‚é–“
  availableTime: 'quick' | 'standard' | 'extended';
  
  // æ¨å¥¨ã™ã‚‹æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  recommendedActions: NextActionSuggestion[];
}

interface NextActionSuggestion {
  id: string;
  title: string;
  description: string;
  difficulty: 'easy' | 'medium' | 'hard';
  estimatedTime: string;
  prerequisites: string[];
  benefits: string[];
  implementationGuide: string;
}
```

ã“ã‚Œã«ã‚ˆã‚Šã€AIã¯é–‹ç™ºè€…ã®ç¾åœ¨ã®çŠ¶æ³ã‚’æ­£ç¢ºã«æŠŠæ¡ã—ã€æœ€é©ãªæ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’ææ¡ˆã§ãã¾ã™ã€‚

#### ğŸ¯ å®Ÿéš›ã®çµ±åˆæ–¹å¼ (Microsoft å…¬å¼)
1. **Power Platform SDK åˆæœŸåŒ–** (`@microsoft/power-apps/app` ã® `initialize()`)
2. **é™çš„ãƒ‡ãƒ¼ã‚¿é–‹ç™º** (UI/UX å…ˆè¡Œé–‹ç™º)
3. **ã‚³ãƒã‚¯ã‚¿çµ±åˆ** (`connector()` é–¢æ•°ã§ãƒ‡ãƒ¼ã‚¿æ¥ç¶š)
4. **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º** (`pac code run` ã§ãƒ†ã‚¹ãƒˆ)
5. **Power Apps ãƒ‡ãƒ—ãƒ­ã‚¤** (`pac code push` ã§å…¬é–‹)

#### ğŸ“‹ å®Ÿè£…è¦ä»¶ (StaticAssetTracker ãƒ‘ã‚¿ãƒ¼ãƒ³)

**1. Power Platform SDK åˆæœŸåŒ–**
- `@microsoft/power-apps` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½¿ç”¨
- `initialize()` é–¢æ•°ã§ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆæœŸåŒ–ã®ã¿
- **èªè¨¼ã¯å®Œå…¨ã« Power Platform ãŒè‡ªå‹•å‡¦ç†** (ã‚«ã‚¹ã‚¿ãƒ èªè¨¼ã‚³ãƒ¼ãƒ‰ä¸è¦)

**2. é™çš„ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‹é–‹ç™º**
- ã¾ãš `src/data/` ã«é™çš„ãƒ‡ãƒ¼ã‚¿ã‚’é…ç½®
- UI/UX ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Œå…¨å®Ÿè£…
- å®Ÿãƒ‡ãƒ¼ã‚¿çµ±åˆå‰ã«ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£æ¤œè¨¼

**3. ãƒ‡ãƒ¼ã‚¿æ¥ç¶š (æ®µéšçš„ç§»è¡Œ)**
- ç¬¬1æ®µéš: é™çš„ãƒ‡ãƒ¼ã‚¿ (`const assets = staticAssets`)
- ç¬¬2æ®µéš: `connector()` é–¢æ•°ã§ Power Platform ã‚³ãƒã‚¯ã‚¿çµ±åˆ
- Office 365ã€SQL Databaseã€SharePoint ç­‰ã®æ¨™æº–ã‚³ãƒã‚¯ã‚¿åˆ©ç”¨

**4. èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**
- **ã‚«ã‚¹ã‚¿ãƒ èªè¨¼å®Ÿè£…ã¯ä¸è¦**
- Power Platform ç’°å¢ƒãŒå…¨èªè¨¼ã‚’å‡¦ç†
- ã‚¢ãƒ—ãƒªã¯èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦å‹•ä½œ
- ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã¯ Power Platform ã‚³ãƒã‚¯ã‚¿ãŒåˆ¶å¾¡

**5. é–‹ç™ºãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤**
- ãƒ­ãƒ¼ã‚«ãƒ«: `npm run dev` (Vite + pac code run ã®åŒæ™‚èµ·å‹•)
- æœ¬ç•ª: `pac code push` ã§ Power Apps ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
- **Azure Functions ã‚„ App Service ã¯ä¸è¦**

### MVP å®Ÿè£…ã‚¬ã‚¤ãƒ‰

#### Step 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–

**å®Ÿè£…é …ç›®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ:**
- [ ] React + TypeScript ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] `@microsoft/power-apps` SDK ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [ ] PowerProvider ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- [ ] åŸºæœ¬çš„ãª React ã‚¢ãƒ—ãƒªæ§‹é€ ä½œæˆ
- [ ] ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒè¨­å®š

**PowerProvider å®Ÿè£…ä¾‹ (Microsoft å…¬å¼ãƒ‘ã‚¿ãƒ¼ãƒ³):**
```typescript
// src/PowerProvider.tsx
import { initialize } from "@microsoft/power-apps/app";
import { useEffect, type ReactNode } from "react";

interface PowerProviderProps {
    children: ReactNode;
}

export default function PowerProvider({ children }: PowerProviderProps) {
    useEffect(() => {
        const initApp = async () => {
            try {
                await initialize();
                console.log('Power Platform SDK initialized successfully');
            } catch (error) {
                console.error('Failed to initialize Power Platform SDK:', error);
            }
        };
        
        initApp();
    }, []);

    return <>{children}</>;
}
```

**é‡è¦**: ã“ã‚Œã¯ Microsoft ã®å…¬å¼ã‚µãƒ³ãƒ—ãƒ« (StaticAssetTracker, FluentSample) ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹æ¨™æº–ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚ã‚«ã‚¹ã‚¿ãƒ èªè¨¼ã‚„è¿½åŠ ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¯ä¸è¦ã§ã™ã€‚

**ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªåˆæœŸåŒ– (Microsoft å…¬å¼ãƒ‘ã‚¿ãƒ¼ãƒ³):**
```typescript
// src/main.tsx
import { createRoot } from 'react-dom/client';
import App from './App.tsx';
import './index.css';
import { StrictMode } from 'react';
import PowerProvider from './PowerProvider.tsx';

createRoot(document.getElementById("root")!).render(
  <StrictMode>
    <PowerProvider>
      <App />
    </PowerProvider>
  </StrictMode>
);
```

**App.tsx ã®å®Ÿè£…ä¾‹:**
```typescript
// src/App.tsx  
import { Toaster } from "@/components/ui/toaster";
import { Toaster as Sonner } from "@/components/ui/sonner";
import { TooltipProvider } from "@/components/ui/tooltip";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import Index from "./pages/Index";

const queryClient = new QueryClient();

const App = () => (
  <QueryClientProvider client={queryClient}>
    <TooltipProvider>
      <Toaster />
      <Sonner />
      <Index />
    </TooltipProvider>
  </QueryClientProvider>
);

export default App;
```

**é‡è¦**: 
- PowerProvider ã¯æœ€å¤–å´ã§ SDK ã‚’åˆæœŸåŒ–
- App.tsx ã§ UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã‚¯ã‚¨ãƒªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
- pages/Index.tsx ã§ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½å®Ÿè£…

## Power Platform ã‚³ãƒã‚¯ã‚¿ãƒ¼çµ±åˆ (Microsoft å…¬å¼ä»•æ§˜)

### ãƒ‡ãƒ¼ã‚¿æ¥ç¶šã®åŸºæœ¬ãƒ•ãƒ­ãƒ¼

**Step 1: Power Apps ã§ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ**
```bash
# 1. Power Apps (make.powerapps.com) ã§ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ
# 2. PAC CLI ã§æ¥ç¶šæƒ…å ±å–å¾—
pac connection list

# å‡ºåŠ›ä¾‹:
# Connection ID: aaaaaaaa000011112222bbbbbbbbbbbb  
# API Name: shared_office365users
```

**Step 2: Code Apps ã«ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹è¿½åŠ **
```bash
# éè¡¨å½¢å¼ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ (Office 365 Users ãªã©)
pac code add-data-source -a "shared_office365users" -c "aaaaaaaa000011112222bbbbbbbbbbbb"

# è¡¨å½¢å¼ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ (SQL, SharePoint ãªã©)  
pac code add-data-source -a "shared_sql" -c "bbbbbbbb111122223333cccccccccccc" -t "[dbo].[Users]" -d "database.windows.net,dbname"

# ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ãƒ¼
pac code add-data-source -a "shared_sql" -c "bbbbbbbb111122223333cccccccccccc" -d "database.windows.net,dbname" -sp "[dbo].[GetUserById]"

# è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«:
# /generated/services/Office365UsersService.ts
# /generated/models/Office365UsersModel.ts
```

### Office 365 Users çµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³ (Microsoft å…¬å¼)

**ç”Ÿæˆã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨:**
```typescript
// src/hooks/useCurrentUser.ts
import { useQuery } from '@tanstack/react-query';
import { Office365UsersService } from '../generated/services/Office365UsersService';

export interface UserProfile {
  id?: string;
  displayName?: string;
  jobTitle?: string;
  userPrincipalName?: string;
  photo?: string;
}

export const useCurrentUser = () => {
  return useQuery({
    queryKey: ['currentUser'],
    queryFn: async (): Promise<UserProfile> => {
      try {
        // Microsoft å…¬å¼ API ãƒ‘ã‚¿ãƒ¼ãƒ³
        const profile = (await Office365UsersService.MyProfile_V2(
          "id,displayName,jobTitle,userPrincipalName"
        )).data;
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼å†™çœŸå–å¾—ã®è©¦è¡Œ
        let photo = null;
        if (profile?.id || profile?.userPrincipalName) {
          try {
            const photoData = (await Office365UsersService.UserPhoto_V2(
              profile.id || profile.userPrincipalName
            )).data;
            
            if (photoData) {
              photo = `data:image/jpeg;base64,${photoData}`;
            }
          } catch (photoError) {
            // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: userPrincipalName ã§å†è©¦è¡Œ
            if (profile.userPrincipalName && profile.userPrincipalName !== profile.id) {
              try {
                const fallbackPhoto = (await Office365UsersService.UserPhoto_V2(
                  profile.userPrincipalName
                )).data;
                if (fallbackPhoto) {
                  photo = `data:image/jpeg;base64,${fallbackPhoto}`;
                }
              } catch {
                console.log('ãƒ¦ãƒ¼ã‚¶ãƒ¼å†™çœŸãŒåˆ©ç”¨ã§ãã¾ã›ã‚“');
              }
            }
          }
        }
        
        return {
          id: profile?.id,
          displayName: profile?.displayName,
          jobTitle: profile?.jobTitle,
          userPrincipalName: profile?.userPrincipalName,
          photo
        };
      } catch (error) {
        console.error('Failed to fetch user profile:', error);
        // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
        return {
          displayName: 'ã‚²ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼',
          userPrincipalName: 'guest@example.com',
        };
      }
    },
    staleTime: 5 * 60 * 1000, // 5åˆ†é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥
    retry: 2,
  });
};
```

### Azure SQL Server çµ±åˆ (Microsoft å…¬å¼)

#### å‰ææ¡ä»¶ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

**å¿…è¦ãªå‰ææ¡ä»¶:**
- Azure ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³
- Power Platform ç’°å¢ƒ (Code Apps æœ‰åŠ¹åŒ–æ¸ˆã¿)
- Visual Studio Code + Power Platform Tools æ‹¡å¼µæ©Ÿèƒ½
- SQL Server (mssql) VS Code æ‹¡å¼µæ©Ÿèƒ½
- Node.js (LTSç‰ˆ)

#### Azure SQL Database ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

**1. Azure SQL Server & Database ä½œæˆ**
```bash
# Azure ãƒãƒ¼ã‚¿ãƒ«ã§ä»¥ä¸‹ã‚’è¨­å®š
ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—: rg-codeapps-dev
ã‚µãƒ¼ãƒãƒ¼å: sql-codeapps-dev
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å: sqldb-codeapps-dev
èªè¨¼æ–¹æ³•: Microsoft Entra ID ã®ã¿
æ¥ç¶šæ–¹æ³•: ãƒ‘ãƒ–ãƒªãƒƒã‚¯ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«: Azure ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ + ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ IP è¿½åŠ 
```

**2. VS Code ã§ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ**
```sql
-- Projects ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ (Microsoft ã‚µãƒ³ãƒ—ãƒ«)
CREATE TABLE [dbo].[Projects](
    [ProjectId] [int] IDENTITY(1,1) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [Description] [nvarchar](max) NULL,
    [StartDate] [date] NULL,
    [EndDate] [date] NULL,
    [Status] [nvarchar](50) NOT NULL DEFAULT ('Planning'),
    [Priority] [nvarchar](20) NOT NULL DEFAULT ('Medium'),
    [Budget] [decimal](18, 2) NULL,
    [ProjectManagerEmail] [nvarchar](255) NOT NULL,
    [CreatedBy] [nvarchar](255) NOT NULL,
    [CreatedDate] [datetime2](7) NOT NULL DEFAULT (getutcdate()),
    [IsActive] [bit] NOT NULL DEFAULT (1),
    CONSTRAINT [PK_Projects] PRIMARY KEY ([ProjectId])
);

-- ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ä½œæˆ
CREATE PROCEDURE [dbo].[GetAllProjects]
AS
BEGIN
    SELECT [ProjectId], [Name], [Description], [StartDate], [EndDate],
           [Status], [Priority], [Budget], [ProjectManagerEmail],
           [CreatedBy], [CreatedDate], [IsActive]
    FROM [dbo].[Projects]
    WHERE [IsActive] = 1
    ORDER BY [CreatedDate] DESC;
END
```

#### Power Platform çµ±åˆ

**3. SQL Server ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ**
```bash
# Power Apps (make.powerapps.com) ã§å®Ÿè¡Œ
1. Connections â†’ + New Connection â†’ SQL Server
2. èªè¨¼ã‚¿ã‚¤ãƒ—: Microsoft Entra ID Integrated
3. Create & ã‚µã‚¤ãƒ³ã‚¤ãƒ³
```

**4. Code Apps ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–**
```bash
# Vite ã‚¢ãƒ—ãƒªä½œæˆ (ãƒãƒ¼ãƒˆ3000å›ºå®š)
mkdir C:\CodeApps -Force; cd C:\CodeApps
npm create vite@latest ProjectManagementApp -- --template react-ts
cd C:\CodeApps\ProjectManagementApp
npm install
npm i --save-dev @types/node

# vite.config.ts è¨­å®š (ãƒãƒ¼ãƒˆ3000å¿…é ˆ)
server: { host: "::", port: 3000 }

# Power Platform èªè¨¼ & åˆæœŸåŒ–
pac auth create
pac env select -env <ENVIRONMENT_URL>
pac code init --displayName "Project Management App"
npm install --save-dev @microsoft/power-apps

# package.json æ›´æ–°
"dev": "start pac code run && vite"
```

**5. ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ã‚’ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¨ã—ã¦è¿½åŠ **
```bash
# ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ ID ç¢ºèª
pac connection list

# ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ã‚’ Code Apps ã«è¿½åŠ 
pac code add-data-source -a "shared_sql" -c "[CONNECTION-ID]" \
  -d "[SQL-SERVER].database.windows.net,[DATABASE]" \
  -sp "dbo.GetAllProjects"

# ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«:
# generated/services/GetAllProjectsService.ts
# generated/models/GetAllProjectsModel.ts
```

#### TypeScript å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

**6. React + Fluent UI ãƒ‡ãƒ¼ã‚¿ã‚°ãƒªãƒƒãƒ‰å®Ÿè£…**
```typescript
// src/components/ProjectsTable.tsx
import { useEffect, useState, useCallback } from 'react';
import { DataGrid, Spinner, MessageBar } from '@fluentui/react-components';
import { GetAllProjectsService } from '../generated/services/GetAllProjectsService';

type ProjectItem = {
  ProjectId?: number;
  Name?: string;
  Description?: string;
  StartDate?: string;
  EndDate?: string;
  Status?: string;
  Priority?: string;
  Budget?: number;
  ProjectManagerEmail?: string;
};

export const ProjectsTable: React.FC = () => {
  const [projects, setProjects] = useState<ProjectItem[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  const fetchProjects = useCallback(async () => {
    try {
      setLoading(true);
      setError(null);
      
      const result = await GetAllProjectsService.GetAllProjects();
      
      if (result.success && result.data?.ResultSets?.Table1) {
        const projectsData = Array.isArray(result.data.ResultSets.Table1)
          ? result.data.ResultSets.Table1 as ProjectItem[]
          : [result.data.ResultSets.Table1] as ProjectItem[];
        setProjects(projectsData);
      } else {
        setError('ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
    } catch (error) {
      setError('äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');
      console.error('Error fetching projects:', error);
    } finally {
      setLoading(false);
    }
  }, []);

  useEffect(() => {
    fetchProjects();
  }, [fetchProjects]);

  if (loading) return <Spinner label="ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­..." />;
  if (error) return <MessageBar intent="error">{error}</MessageBar>;

  return (
    <DataGrid items={projects} sortable>
      {/* DataGrid ã‚«ãƒ©ãƒ å®Ÿè£… */}
    </DataGrid>
  );
};
```

**7. ä¾å­˜é–¢ä¿‚ã¨Fluent UIçµ±åˆ**
```bash
# React 18 & Fluent UI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (å¿…é ˆ)
npm install react@^18.0.0 react-dom@^18.0.0 \
  @types/react@^18.0.0 @types/react-dom@^18.0.0
npm install @fluentui/react-components
```

```typescript
// src/main.tsx - FluentProvider è¿½åŠ 
import { FluentProvider, webLightTheme } from '@fluentui/react-components';
import PowerProvider from './PowerProvider';
import ProjectsTable from './ProjectsTable';

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <PowerProvider>
      <FluentProvider theme={webLightTheme}>
        <ProjectsTable />
      </FluentProvider>
    </PowerProvider>
  </StrictMode>
);
```

#### åˆ¶ç´„äº‹é …ã¨æ³¨æ„ç‚¹

**é‡è¦ãªåˆ¶ç´„:**
- **ãƒãƒ¼ãƒˆ3000å›ºå®š**: Power SDK ã¯é–‹ç™ºæ™‚ã«ãƒãƒ¼ãƒˆ3000ã‚’è¦æ±‚
- **tsconfigè¨­å®š**: `verbatimModuleSyntax: false` ãŒå¿…è¦ (Power SDK åˆ¶é™)
- **React 18å¿…é ˆ**: Fluent UI ã¨ã®äº’æ›æ€§ã®ãŸã‚
- **ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£æ¨å¥¨**: è¤‡é›‘ãªã‚¯ã‚¨ãƒªã¯ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ã§å®Ÿè£…
- **Microsoft Entra ID**: SQL Server èªè¨¼ã¯ Microsoft Entra ID ã®ã¿ã‚µãƒãƒ¼ãƒˆ

**ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:**
```bash
# ãƒãƒ¼ãƒˆ3000ãŒä½¿ç”¨ä¸­ã®å ´åˆ
netstat -ano | findstr :3000
taskkill /PID [PID] /F

# SQLæ¥ç¶šã‚¨ãƒ©ãƒ¼ã®å ´åˆ
# 1. Azure SQL ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šç¢ºèª
# 2. Microsoft Entra ID èªè¨¼è¨­å®šç¢ºèª  
# 3. VS Code SQLæ‹¡å¼µæ©Ÿèƒ½ã§æ‰‹å‹•æ¥ç¶šãƒ†ã‚¹ãƒˆ
```

**SQL Server ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³è¨­å®š:**
```bash
# 1. Power Apps ã§ SQL Server ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ
# 2. PAC CLI ã§ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
pac code add-data-source -a "shared_sql" -c "connection-id" -t "[dbo].[Employees]" -d "server.database.windows.net,database"

# ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«:
# /generated/services/EmployeesService.ts
# /generated/models/EmployeesModel.ts
```

**ç”Ÿæˆã•ã‚ŒãŸSQLã‚µãƒ¼ãƒ“ã‚¹ã®ä½¿ç”¨:**
```typescript
// src/hooks/useEmployees.ts
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { EmployeesService } from '../generated/services/EmployeesService';
import type { Employees } from '../generated/models/EmployeesModel';

export const useEmployees = () => {
  const queryClient = useQueryClient();

  // å¾“æ¥­å“¡ä¸€è¦§å–å¾—
  const getEmployees = async () => {
    try {
      const result = await EmployeesService.getall();
      return result || [];
    } catch (error) {
      console.error('Failed to fetch employees:', error);
      throw error;
    }
  };

  // å¾“æ¥­å“¡ä½œæˆ
  const createEmployee = async (employeeData: Partial<Employees>) => {
    try {
      const result = await EmployeesService.create(employeeData);
      return result;
    } catch (error) {
      console.error('Failed to create employee:', error);
      throw error;
    }
  };

  // å¾“æ¥­å“¡æ›´æ–°ï¼ˆå¤‰æ›´ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿ï¼‰
  const updateEmployee = async (id: string, changedFields: Partial<Employees>) => {
    try {
      await EmployeesService.update(id, changedFields);
    } catch (error) {
      console.error(`Failed to update employee ${id}:`, error);
      throw error;
    }
  };

  // å¾“æ¥­å“¡å‰Šé™¤
  const deleteEmployee = async (id: string) => {
    try {
      await EmployeesService.delete(id);
    } catch (error) {
      console.error(`Failed to delete employee ${id}:`, error);
      throw error;
    }
  };

  return {
    getEmployees,
    createEmployee,
    updateEmployee,
    deleteEmployee
  };
};

// React Query ãƒ•ãƒƒã‚¯
export const useEmployeesQuery = () => {
  const { getEmployees } = useEmployees();
  
  return useQuery({
    queryKey: ['employees'],
    queryFn: getEmployees,
    staleTime: 10 * 60 * 1000, // 10åˆ†é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  });
};

export const useCreateEmployeeMutation = () => {
  const { createEmployee } = useEmployees();
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: createEmployee,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['employees'] });
    },
  });
};
```

#### Step 2: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºãƒ»æ¤œè¨¼

**é–‹ç™ºã‚µãƒ¼ãƒèµ·å‹•:**
```bash
# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ãƒ“ãƒ«ãƒ‰ç¢ºèª
npm run build

# Power Apps Code åˆæœŸåŒ–
pac code init

# ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºé–‹å§‹ (Vite + pac code run)
npm run dev
```

**package.json ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹ (Microsoft å…¬å¼ãƒ‘ã‚¿ãƒ¼ãƒ³):**
```json
{
  "scripts": {
    "dev": "start vite && start pac code run",
    "build": "vite build",
    "build:dev": "vite build --mode development", 
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@microsoft/power-apps": "^0.3.1",
    "@radix-ui/react-dialog": "^1.x.x",
    "@radix-ui/react-dropdown-menu": "^1.x.x",
    "@radix-ui/react-avatar": "^1.x.x",
    "@tanstack/react-query": "^5.x.x",
    "react-hook-form": "^7.x.x",
    "class-variance-authority": "^0.7.x",
    "clsx": "^2.x.x",
    "lucide-react": "^0.x.x",
    "tailwind-merge": "^2.x.x"
  },
  "devDependencies": {
    "tailwindcss-animate": "^1.x.x"
  }
}
```

**é‡è¦**: 
- `dev` ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ `vite` ã¨ `pac code run` ã‚’åŒæ™‚èµ·å‹•
- `build:dev` ã§é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ç”¨ãƒ“ãƒ«ãƒ‰
- shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨TailwindCSSè¨­å®šã‚’å«ã‚€

#### Step 3: ãƒ‡ãƒ¼ã‚¿ã‚³ãƒã‚¯ã‚¿çµ±åˆ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)

### å…¬å¼ã‚µãƒãƒ¼ãƒˆã‚³ãƒã‚¯ã‚¿ãƒ¼ä¸€è¦§

**Microsoft å…¬å¼ã‚µãƒãƒ¼ãƒˆæ¸ˆã¿ã‚³ãƒã‚¯ã‚¿ãƒ¼:**
- âœ… **SQL Server** (`shared_sql`)
- âœ… **SharePoint** (`shared_sharepoint`)  
- âœ… **Office 365 Users** (`shared_office365users`)
- âœ… **Office 365 Groups** (`shared_office365groups`)
- âœ… **Azure Data Explorer** (`shared_kusto`)
- âœ… **OneDrive for Business** (`shared_onedriveforbusiness`)
- âœ… **Power Apps for Makers** (`shared_powerappsforappmakers`)
- âœ… **Microsoft Teams** (`shared_teams`)
- âœ… **MSN Weather** (`shared_msnweather`)
- âœ… **Microsoft Translator V2** (`shared_microsofttranslator`)
- âœ… **Dataverse** (CRUD æ“ä½œ)

**ã‚³ãƒã‚¯ã‚¿è¨­å®šä¾‹:**
```bash
# Office 365 Users
pac code add-data-source -a "shared_office365users" -c "<connection-id>"

# SQL Server  
pac code add-data-source -a "shared_sql" -c "<connection-id>" -t "[dbo].[TableName]" -d "<server,database>"

# SharePoint
pac code add-data-source -a "shared_sharepoint" -c "<connection-id>" -t "<list-id>" -d "<site-url>"

# Microsoft Teams
pac code add-data-source -a "shared_teams" -c "<connection-id>"

# MSN Weather
pac code add-data-source -a "shared_msnweather" -c "<connection-id>"
  
  const getCurrentUser = async () => {
    try {
      const result = await office365.MyProfile();
      return result.data;
    } catch (error) {
      console.error('Failed to get current user:', error);
      return null;
    }
  };
  
  return { getCurrentUser, office365, outlook };
};
```

#### Step 4: Power Apps ç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤ (Code Apps ã¨ã—ã¦)

**é‡è¦: PCF ã§ã¯ãªã Code Apps ã¨ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤**

**Code Apps ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰:**
```bash
# Power Apps ç’°å¢ƒã« Code Apps ã¨ã—ã¦å…¬é–‹
pac code push
```

**âŒ é–“é•ã„ (PCFç”¨ã‚³ãƒãƒ³ãƒ‰):**
```bash
# ã“ã‚Œã¯ PCF ç”¨ã§ã™ã€‚Code Apps ã§ã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„
pac pcf push  
```

**æˆåŠŸæ™‚ã®å‡ºåŠ›ä¾‹:**
```
Successfully deployed Code App to Power Apps environment
App URL: https://apps.powerapps.com/play/[app-id]
Your Code App is now available as a full application in Power Apps
```

> **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€Power Apps ã§ **ã‚¢ãƒ—ãƒªä¸€è¦§** ã«è¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰ã€‚

### ã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…

#### ã‚³ãƒã‚¯ã‚¿åˆ©ç”¨ä¾‹

**Office 365 ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—:**
```typescript
// src/components/UserProfile.tsx
import { useEffect, useState } from 'react';
import { useOffice365 } from '../hooks/useOffice365';

export const UserProfile = () => {
  const [user, setUser] = useState(null);
  const { getCurrentUser } = useOffice365();
  
  useEffect(() => {
    const loadUser = async () => {
      const userData = await getCurrentUser();
      setUser(userData);
    };
    
    loadUser();
  }, []);
  
  if (!user) return <div>Loading...</div>;
  
  return (
    <div>
      <h2>{user.DisplayName}</h2>
      <p>Email: {user.Mail}</p>
      <p>Department: {user.Department}</p>
    </div>
  );
};
```

**SQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ:**
```typescript
// src/hooks/useSqlData.ts
import { connector } from '@microsoft/power-apps';

export const useSqlData = () => {
  const sqlConnector = connector('shared_sql');
  
  const getProjects = async (skip = 0, take = 10) => {
    try {
      const result = await sqlConnector.getTable('Projects', {
        skip,
        take,
        orderBy: 'CreatedDate desc'
      });
      return result.data;
    } catch (error) {
      console.error('Failed to load projects:', error);
      return [];
    }
  };
  
  return { getProjects };
};
```

**Dataverse çµ±åˆ (Microsoft å…¬å¼ä»•æ§˜):**

**Step 1: PAC CLI ã§ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’è¿½åŠ :**
```bash
# Dataverse ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ã‚³ãƒ¼ãƒ‰ã‚¢ãƒ—ãƒªã«è¿½åŠ 
pac code add-data-source -a dataverse -t accounts
pac code add-data-source -a dataverse -t contacts
pac code add-data-source -a dataverse -t cr123_customtable

# ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«:
# /generated/services/AccountsService.ts
# /generated/models/AccountsModel.ts
# /generated/services/ContactsService.ts  
# /generated/models/ContactsModel.ts
```

**Step 2: ç”Ÿæˆã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨:**
```typescript
// src/hooks/useDataverse.ts
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { AccountsService } from '../generated/services/AccountsService';
import { ContactsService } from '../generated/services/ContactsService';
import type { Accounts } from '../generated/models/AccountsModel';
import type { Contacts } from '../generated/models/ContactsModel';

// ã‚¯ã‚¨ãƒªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ (Microsoft å…¬å¼)
interface IGetAllOptions {
  maxPageSize?: number;    // ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æœ€å¤§ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°
  select?: string[];       // å–å¾—ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  filter?: string;         // OData ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
  orderBy?: string[];      // ã‚½ãƒ¼ãƒˆ
  top?: number;           // æœ€å¤§å–å¾—æ•°
  skip?: number;          // ã‚¹ã‚­ãƒƒãƒ—æ•°
  skipToken?: string;     // ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç”¨ãƒˆãƒ¼ã‚¯ãƒ³
}

export const useDataverseAccounts = () => {
  const queryClient = useQueryClient();

  // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä¸€è¦§å–å¾—
  const getAccounts = async (options?: IGetAllOptions) => {
    try {
      const result = await AccountsService.getAll(options);
      return result.data || [];
    } catch (error) {
      console.error('Failed to fetch accounts:', error);
      throw error;
    }
  };

  // å˜ä¸€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå–å¾—
  const getAccount = async (accountId: string) => {
    try {
      const result = await AccountsService.get(accountId);
      return result.data;
    } catch (error) {
      console.error(`Failed to fetch account ${accountId}:`, error);
      throw error;
    }
  };

  // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
  const createAccount = async (accountData: Omit<Accounts, 'accountid'>) => {
    try {
      const result = await AccountsService.create(accountData);
      return result.data;
    } catch (error) {
      console.error('Failed to create account:', error);
      throw error;
    }
  };

  // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ›´æ–° (å¤‰æ›´ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿)
  const updateAccount = async (accountId: string, changes: Partial<Accounts>) => {
    try {
      await AccountsService.update(accountId, changes);
    } catch (error) {
      console.error(`Failed to update account ${accountId}:`, error);
      throw error;
    }
  };

  // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤
  const deleteAccount = async (accountId: string) => {
    try {
      await AccountsService.delete(accountId);
    } catch (error) {
      console.error(`Failed to delete account ${accountId}:`, error);
      throw error;
    }
  };

  return {
    getAccounts,
    getAccount,
    createAccount,
    updateAccount,
    deleteAccount
  };
};

export const useDataverseContacts = () => {
  const queryClient = useQueryClient();

  // é€£çµ¡å…ˆä¸€è¦§å–å¾—
  const getContacts = async (options?: IGetAllOptions) => {
    try {
      const result = await ContactsService.getAll(options);
      return result.data || [];
    } catch (error) {
      console.error('Failed to fetch contacts:', error);
      throw error;
    }
  };

  // å˜ä¸€é€£çµ¡å…ˆå–å¾—
  const getContact = async (contactId: string) => {
    try {
      const result = await ContactsService.get(contactId);
      return result.data;
    } catch (error) {
      console.error(`Failed to fetch contact ${contactId}:`, error);
      throw error;
    }
  };

  // é€£çµ¡å…ˆä½œæˆ
  const createContact = async (contactData: Omit<Contacts, 'contactid'>) => {
    try {
      const result = await ContactsService.create(contactData);
      return result.data;
    } catch (error) {
      console.error('Failed to create contact:', error);
      throw error;
    }
  };

  // é€£çµ¡å…ˆæ›´æ–° (å¤‰æ›´ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿)
  const updateContact = async (contactId: string, changes: Partial<Contacts>) => {
    try {
      await ContactsService.update(contactId, changes);
    } catch (error) {
      console.error(`Failed to update contact ${contactId}:`, error);
      throw error;
    }
  };

  // é€£çµ¡å…ˆå‰Šé™¤
  const deleteContact = async (contactId: string) => {
    try {
      await ContactsService.delete(contactId);
    } catch (error) {
      console.error(`Failed to delete contact ${contactId}:`, error);
      throw error;
    }
  };

  return {
    getContacts,
    getContact,
    createContact,
    updateContact,
    deleteContact
  };
};

// React Query çµ±åˆãƒ•ãƒƒã‚¯ (Microsoft å…¬å¼ãƒ‘ã‚¿ãƒ¼ãƒ³)
export const useAccountsQuery = (options?: IGetAllOptions) => {
  const { getAccounts } = useDataverseAccounts();
  
  return useQuery({
    queryKey: ['dataverse', 'accounts', options],
    queryFn: () => getAccounts(options),
    staleTime: 5 * 60 * 1000, // 5åˆ†é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  });
};

export const useAccountQuery = (accountId: string) => {
  const { getAccount } = useDataverseAccounts();
  
  return useQuery({
    queryKey: ['dataverse', 'accounts', accountId],
    queryFn: () => getAccount(accountId),
    enabled: !!accountId,
  });
};

export const useCreateAccountMutation = () => {
  const { createAccount } = useDataverseAccounts();
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: (accountData: Omit<Accounts, 'accountid'>) => createAccount(accountData),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['dataverse', 'accounts'] });
    },
  });
};

export const useUpdateAccountMutation = () => {
  const { updateAccount } = useDataverseAccounts();
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: ({ accountId, changes }: { accountId: string; changes: Partial<Accounts> }) => 
      updateAccount(accountId, changes),
    onSuccess: (_, { accountId }) => {
      queryClient.invalidateQueries({ queryKey: ['dataverse', 'accounts'] });
      queryClient.invalidateQueries({ queryKey: ['dataverse', 'accounts', accountId] });
    },
  });
};

export const useDeleteAccountMutation = () => {
  const { deleteAccount } = useDataverseAccounts();
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: (accountId: string) => deleteAccount(accountId),
    onSuccess: (_, accountId) => {
      queryClient.invalidateQueries({ queryKey: ['dataverse', 'accounts'] });
      queryClient.removeQueries({ queryKey: ['dataverse', 'accounts', accountId] });
    },
  });
};
```

**å®Ÿç”¨çš„ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¾‹ (Microsoft å…¬å¼ãƒ‘ã‚¿ãƒ¼ãƒ³):**
```typescript
// src/components/AccountManager.tsx
import { useState } from 'react';
import { useAccountsQuery, useCreateAccountMutation, useUpdateAccountMutation } from '@/hooks/useDataverse';
import type { Accounts } from '../generated/models/AccountsModel';

export const AccountManager = () => {
  // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä¸€è¦§å–å¾—ï¼ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åˆ¶é™ã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ä»˜ãï¼‰
  const { data: accounts, isLoading, error } = useAccountsQuery({
    select: ['name', 'accountnumber', 'address1_city', 'telephone1'],
    filter: "address1_country eq 'USA'",
    orderBy: ['name asc'],
    top: 50
  });

  // ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
  const createAccountMutation = useCreateAccountMutation();
  const updateAccountMutation = useUpdateAccountMutation();

  // æ–°è¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
  const handleCreateAccount = async (accountData: Partial<Accounts>) => {
    try {
      // ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯é™¤å¤–
      const newAccount = {
        name: accountData.name!,
        statecode: 0, // Active
        accountnumber: accountData.accountnumber,
        telephone1: accountData.telephone1,
        address1_city: accountData.address1_city
        // accountid, ownerid ãªã©ã¯å«ã‚ãªã„
      };

      const result = await createAccountMutation.mutateAsync(newAccount as Omit<Accounts, 'accountid'>);
      
      if (result) {
        console.log('Account created:', result);
      }
    } catch (error) {
      console.error('Failed to create account:', error);
    }
  };

  // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ›´æ–°ï¼ˆå¤‰æ›´ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿ï¼‰
  const handleUpdateAccount = async (accountId: string, changes: Partial<Accounts>) => {
    try {
      // å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿ã‚’é€ä¿¡
      const updateData = {
        name: changes.name,
        telephone1: changes.telephone1
        // å¤‰æ›´ã—ã¦ã„ãªã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å«ã‚ãªã„
      };

      await updateAccountMutation.mutateAsync({
        accountId,
        changes: updateData
      });
      
      console.log('Account updated successfully');
    } catch (error) {
      console.error('Failed to update account:', error);
    }
  };

  if (isLoading) return <div className="p-4">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’èª­ã¿è¾¼ã¿ä¸­...</div>;
  if (error) return <div className="p-4 text-red-500">ã‚¨ãƒ©ãƒ¼: {error.message}</div>;

  return (
    <div className="space-y-4">
      <h2 className="text-xl font-bold">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†</h2>
      
      {accounts?.map((account: Accounts) => (
        <div key={account.accountid} className="p-4 border rounded-lg">
          <h3 className="font-semibold">{account.name}</h3>
          <p className="text-gray-600">ç•ªå·: {account.accountnumber}</p>
          <p className="text-gray-600">éƒ½å¸‚: {account.address1_city}</p>
          <p className="text-gray-600">é›»è©±: {account.telephone1}</p>
        </div>
      ))}
      
      {createAccountMutation.isPending && (
        <div className="text-blue-500">ä½œæˆä¸­...</div>
      )}
    </div>
  );
};
```

**ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®æ“ä½œä¾‹:**
```typescript
// src/hooks/useProjectManagement.ts - ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä¾‹
import { useDataverseEntities, useCreateDataverseEntity } from '@/hooks/useDataverse';

// ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
export const useProjectManagement = () => {
  // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ï¼ˆã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£: new_projectï¼‰
  const useProjects = () => useDataverseEntities('new_projects', {
    $select: 'new_projectid,new_name,new_description,new_startdate,new_enddate,new_status',
    $orderby: 'new_startdate desc'
  });

  // ã‚¿ã‚¹ã‚¯ä¸€è¦§ï¼ˆã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£: new_taskï¼‰
  const useProjectTasks = (projectId: string) => useDataverseEntities('new_tasks', {
    $select: 'new_taskid,new_name,new_description,new_duedate,new_status,new_assignedto',
    $filter: `_new_projectid_value eq ${projectId}`,
    $orderby: 'new_duedate asc'
  });

  // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
  const useCreateProject = () => useCreateDataverseEntity('new_projects');

  return {
    useProjects,
    useProjectTasks,
    useCreateProject
  };
};

// ã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ãªã‚¤ãƒ³ã‚¿ãƒ¼faceså®šç¾©
export interface Contact extends DataverseEntity {
  contactid: string;
  firstname?: string;
  lastname?: string;
  fullname?: string;
  emailaddress1?: string;
  telephone1?: string;
  birthdate?: string;
  accountid?: string;
}

export interface Account extends DataverseEntity {
  accountid: string;
  name: string;
  websiteurl?: string;
  telephone1?: string;
  emailaddress1?: string;
}

// ã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ãªä½¿ç”¨ä¾‹
export const ContactsList = () => {
  const { data: contacts, isLoading, error } = useDataverseEntities('contacts', {
    $select: 'contactid,firstname,lastname,emailaddress1,telephone1',
    $orderby: 'lastname asc',
    $top: 100
  });

  const createContactMutation = useCreateDataverseEntity('contacts');

  const handleCreateContact = async (contactData: Partial<Contact>) => {
    try {
      await createContactMutation.mutateAsync({
        firstname: contactData.firstname,
        lastname: contactData.lastname,
        emailaddress1: contactData.emailaddress1,
        telephone1: contactData.telephone1
      });
    } catch (error) {
      console.error('é€£çµ¡å…ˆä½œæˆã‚¨ãƒ©ãƒ¼:', error);
      // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    }
  };

  if (isLoading) return <div className="p-4">é€£çµ¡å…ˆã‚’èª­ã¿è¾¼ã¿ä¸­...</div>;
  if (error) return <div className="p-4 text-red-500">ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: {error.message}</div>;

  return (
    <div className="space-y-4">
      <h2 className="text-xl font-bold">é€£çµ¡å…ˆä¸€è¦§</h2>
      {contacts?.map((contact: Contact) => (
        <div key={contact.contactid} className="p-4 border rounded-lg">
          <h3 className="font-semibold">
            {contact.firstname} {contact.lastname}
          </h3>
          {contact.emailaddress1 && (
            <p className="text-gray-600">Email: {contact.emailaddress1}</p>
          )}
          {contact.telephone1 && (
            <p className="text-gray-600">Tel: {contact.telephone1}</p>
          )}
        </div>
      ))}
    </div>
  );
};
```

### ã‚³ãƒã‚¯ã‚¿çµ±åˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

**1. ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ç®¡ç†ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼:**
```bash
# ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹è¿½åŠ 
pac code add-data-source -a "shared_office365users" -c "<connection-id>"

# ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls generated/services/   # Office365UsersService.ts
ls generated/models/     # Office365UsersModel.ts

# ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´æ™‚ã®å¯¾å¿œ
pac code delete-data-source -a "shared_sql" -ds "TableName"
pac code add-data-source -a "shared_sql" -c "<connection-id>" -t "[dbo].[TableName]" -d "<server,database>"

# ä¸è¦ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å‰Šé™¤
pac code delete-data-source -a "shared_sharepoint" -ds "ListName"
```

**2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–:**
```typescript
// é©åˆ‡ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
export const useOptimizedData = () => {
  return useQuery({
    queryKey: ['data', 'optimized'],
    queryFn: fetchData,
    staleTime: 10 * 60 * 1000,  // 10åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥
    cacheTime: 30 * 60 * 1000,  // 30åˆ†ä¿æŒ
    refetchOnWindowFocus: false, // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®å†å–å¾—ç„¡åŠ¹
  });
};

// ãƒãƒƒãƒå‡¦ç†ã¨ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
const processBatch = async (items: any[], batchSize = 10) => {
  const batches = [];
  for (let i = 0; i < items.length; i += batchSize) {
    batches.push(items.slice(i, i + batchSize));
  }
  
  for (const batch of batches) {
    await Promise.all(batch.map(item => processItem(item)));
    // ãƒãƒƒãƒé–“ã®å¾…æ©Ÿã§ API ãƒ¬ãƒ¼ãƒˆåˆ¶é™å›é¿
    await new Promise(resolve => setTimeout(resolve, 100));
  }
};
```

**3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³:**
```typescript
// åŒ…æ‹¬çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
export const useRobustDataFetch = () => {
  return useQuery({
    queryKey: ['data'],
    queryFn: async () => {
      try {
        return await DataService.getData();
      } catch (error: any) {
        // ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³å›ºæœ‰ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†
        if (error?.status === 401) {
          throw new Error('èªè¨¼ãŒå¿…è¦ã§ã™ã€‚Power Apps ã§å†åº¦ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚');
        }
        if (error?.status === 403) {
          throw new Error('ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ç®¡ç†è€…ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚');
        }
        if (error?.status >= 500) {
          throw new Error('ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚');
        }
        throw new Error(`ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼: ${error?.message || 'Unknown error'}`);
      }
    },
    retry: (failureCount, error: any) => {
      // 4xx ã‚¨ãƒ©ãƒ¼ã¯ãƒªãƒˆãƒ©ã‚¤ã—ãªã„
      if (error?.status >= 400 && error?.status < 500) {
        return false;
      }
      // 3å›ã¾ã§ãƒªãƒˆãƒ©ã‚¤
      return failureCount < 3;
    },
    retryDelay: attemptIndex => Math.min(1000 * 2 ** attemptIndex, 30000),
  });
};
```

**é‡è¦ãªå®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ (Microsoft å…¬å¼ä»•æ§˜):**

**1. SDK åˆæœŸåŒ–ã®ç¢ºèª:**
```typescript
// src/App.tsx - å¿…é ˆã®åˆæœŸåŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³
import { useEffect, useState } from 'react';
import { initialize } from '@microsoft/power-apps/app';

export default function App() {
  const [isInitialized, setIsInitialized] = useState(false);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const init = async () => {
      try {
        await initialize(); // SDK åˆæœŸåŒ–ã‚’å¾…æ©Ÿ
        setIsInitialized(true);
      } catch (err) {
        setError('Failed to initialize Power Apps SDK');
        console.error('SDK initialization failed:', err);
      }
    };
    
    init();
  }, []);

  // åˆæœŸåŒ–å®Œäº†ã¾ã§å¾…æ©Ÿ
  if (!isInitialized) {
    return <div>Power Apps SDK ã‚’åˆæœŸåŒ–ä¸­...</div>;
  }

  if (error) {
    return <div>ã‚¨ãƒ©ãƒ¼: {error}</div>;
  }

  return <YourMainComponent />;
}
```

**2. Dataverse ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼:**
```bash
# 1. ç’°å¢ƒã«æ¥ç¶š
pac auth create --url https://yourenvironment.crm.dynamics.com

# 2. Code Apps ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã« Dataverse ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’è¿½åŠ 
pac code add-data-source -a dataverse -t accounts
pac code add-data-source -a dataverse -t contacts
pac code add-data-source -a dataverse -t cr123_projects  # ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒ–ãƒ«

# 3. è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls generated/services/   # AccountsService.ts, ContactsService.ts
ls generated/models/     # AccountsModel.ts, ContactsModel.ts
```

**3. ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åˆ¶é™ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹:**
```typescript
// å¸¸ã« select ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’åˆ¶é™
const options: IGetAllOptions = {
  select: ['name', 'accountnumber', 'telephone1'], // å¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿
  filter: "statecode eq 0", // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã®ã¿
  top: 100 // é©åˆ‡ãªä¸Šé™è¨­å®š
};

// ã™ã¹ã¦ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å–å¾—ã™ã‚‹ã®ã¯é¿ã‘ã‚‹
// const badOptions = { }; // ã“ã‚Œã¯é¿ã‘ã‚‹
```

### è¡¨å½¢å¼ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®é«˜åº¦ãªæ´»ç”¨

**SharePoint ãƒªã‚¹ãƒˆçµ±åˆ:**
```bash
# SharePoint ãƒªã‚¹ãƒˆã®è¿½åŠ 
pac code add-data-source -a "shared_sharepoint" -c "<connection-id>" -t "<list-guid>" -d "<site-url>"

# Dataset name ã¨ Table ID ã®å–å¾—æ–¹æ³•:
# 1. Canvas ã‚¢ãƒ—ãƒªã§ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã«æ¥ç¶š
# 2. ã‚¢ãƒ—ãƒªã‚’å…¬é–‹ãƒ»å®Ÿè¡Œ
# 3. ãƒ–ãƒ©ã‚¦ã‚¶é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ãƒ–ã‚’ç¢ºèª
# 4. APIM ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‹ã‚‰å€¤ã‚’æŠ½å‡º:
# https://.../sharepoint/<Connection-ID>/datasets/<Dataset-name>/tables/<Table-ID>/items
```

**ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ãƒ¼æ´»ç”¨:**
```bash
# ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¨ã—ã¦è¿½åŠ 
pac code add-data-source -a "shared_sql" -c "<connection-id>" -d "<server,database>" -sp "[dbo].[GetUserReports]"

# ç”Ÿæˆã•ã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ä¾‹:
# GetUserReportsService.ts
```

```typescript
// src/hooks/useStoredProcedures.ts
import { GetUserReportsService } from '../generated/services/GetUserReportsService';

export const useUserReports = () => {
  const getUserReports = async (userId: string, startDate: string, endDate: string) => {
    try {
      // ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ãƒ¼ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¸¡ã—
      const result = await GetUserReportsService.execute({
        UserId: userId,
        StartDate: startDate,
        EndDate: endDate
      });
      return result;
    } catch (error) {
      console.error('Failed to execute stored procedure:', error);
      throw error;
    }
  };

  return { getUserReports };
};
```

**Azure Data Explorer (Kusto) çµ±åˆ:**
```bash
# Kusto ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹è¿½åŠ 
pac code add-data-source -a "shared_kusto" -c "<connection-id>"
```

```typescript
// src/hooks/useKustoQuery.ts
import { KustoService } from '../generated/services/KustoService';

export const useKustoAnalytics = () => {
  const runKustoQuery = async (query: string) => {
    try {
      const result = await KustoService.query({
        Query: query,
        Database: 'analytics-db'
      });
      return result.data;
    } catch (error) {
      console.error('Kusto query failed:', error);
      throw error;
    }
  };

  // ä½¿ç”¨ä¾‹: ãƒ­ã‚°åˆ†æ
  const getErrorLogs = async (timeRange: string) => {
    const query = `
      LogsTable
      | where TimeGenerated > ago(${timeRange})
      | where Level == "Error"
      | summarize count() by bin(TimeGenerated, 1h)
      | order by TimeGenerated desc
    `;
    
    return runKustoQuery(query);
  };

  return { runKustoQuery, getErrorLogs };
};
```

**4. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:**
```typescript
// æ¥ç¶šè¨ºæ–­ãƒ˜ãƒ«ãƒ‘ãƒ¼
export const diagnoseConnections = async () => {
  const results = [];
  
  try {
    // Office 365 Users æ¥ç¶šãƒ†ã‚¹ãƒˆ
    const profile = await Office365UsersService.MyProfile();
    results.push({ service: 'Office365Users', status: 'OK', data: profile });
  } catch (error) {
    results.push({ service: 'Office365Users', status: 'ERROR', error: error.message });
  }

  try {
    // SQL æ¥ç¶šãƒ†ã‚¹ãƒˆ  
    const sqlTest = await SqlService.getall();
    results.push({ service: 'SQL', status: 'OK', count: sqlTest?.length || 0 });
  } catch (error) {
    results.push({ service: 'SQL', status: 'ERROR', error: error.message });
  }

  return results;
};

// é–‹ç™ºç’°å¢ƒã§ã®ã¿å®Ÿè¡Œ
if (process.env.NODE_ENV === 'development') {
  diagnoseConnections().then(console.log);
}
```

**5. ç¾åœ¨æœªå¯¾å¿œã®æ©Ÿèƒ½:**
```typescript
// Microsoft å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚ˆã‚Šã€ä»¥ä¸‹ã¯æœªå¯¾å¿œ:
// - æ–°è¦ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ (PAC CLI çµŒç”±)
// - ä¸€éƒ¨ã‚³ãƒã‚¯ã‚¿ãƒ¼ã®é«˜åº¦ãªæ©Ÿèƒ½
// - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥ãƒ»Webhook
// - ãƒãƒ«ã‚¯æ“ä½œã®æœ€é©åŒ–
```
```

**ãƒ¢ãƒƒã‚¯ ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å®Ÿãƒ‡ãƒ¼ã‚¿ã¸ã®ç§»è¡Œ:**
```typescript
// é–‹ç™ºæ™‚: ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä½¿ç”¨
import { mockUsers } from '../mockData/office365Data';
const users = mockUsers;

// æœ¬ç•ª: å®Ÿã‚³ãƒã‚¯ã‚¿ä½¿ç”¨
const { office365 } = useOffice365();
const users = await office365.SearchUser(searchTerm, 50);
```

### æ¤œè¨¼ãƒ»ãƒ†ã‚¹ãƒˆ

#### MVP æ¤œè¨¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

**ãƒ­ãƒ¼ã‚«ãƒ«æ¤œè¨¼:**
- [ ] `pac code init` ãŒæˆåŠŸã™ã‚‹
- [ ] `npm run dev` ã§ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãŒèµ·å‹•ã™ã‚‹
- [ ] Power Platform SDK ãŒæ­£å¸¸ã«åˆæœŸåŒ–ã•ã‚Œã‚‹
- [ ] React ã‚¢ãƒ—ãƒªãŒæ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„

**Code Apps ãƒ‡ãƒ—ãƒ­ã‚¤æ¤œè¨¼:**
- [ ] `pac code push` ã§ **Code Apps ã¨ã—ã¦** ãƒ‡ãƒ—ãƒ­ã‚¤ãŒæˆåŠŸã™ã‚‹
- [ ] Power Apps ã® **ã‚¢ãƒ—ãƒªä¸€è¦§** ã«è¡¨ç¤ºã•ã‚Œã‚‹ (ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ãªã„)
- [ ] Power Apps URL ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
- [ ] Power Platform ç’°å¢ƒå†…ã§ **å®Œå…¨ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦** æ­£å¸¸å‹•ä½œã™ã‚‹
- [ ] ã‚³ãƒã‚¯ã‚¿ãŒæ­£å¸¸ã«æ¥ç¶šã•ã‚Œã‚‹ (ä½¿ç”¨æ™‚)

> **ç¢ºèªæ–¹æ³•**: [make.powerapps.com](https://make.powerapps.com) â†’ ã‚¢ãƒ—ãƒª â†’ ã‚ãªãŸã® Code Apps ãŒä¸€è¦§ã«è¡¨ç¤ºã•ã‚Œã‚‹

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®Ÿè£…

```typescript
// tests/PowerProvider.test.tsx
import { render, screen } from '@testing-library/react';
import { vi } from 'vitest';
import PowerProvider from '../src/PowerProvider';

// Power Apps SDK ã®ãƒ¢ãƒƒã‚¯
vi.mock('@microsoft/power-apps/app', () => ({
  initialize: vi.fn().mockResolvedValue(undefined)
}));

describe('PowerProvider', () => {
  test('å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {
    render(
      <PowerProvider>
        <div>Test Child</div>
      </PowerProvider>
    );
    
    expect(screen.getByText('Test Child')).toBeInTheDocument();
  });
  
  test('SDKåˆæœŸåŒ–ãŒå‘¼ã°ã‚Œã‚‹', async () => {
    const { initialize } = await import('@microsoft/power-apps/app');
    
    render(
      <PowerProvider>
        <div>Test</div>
      </PowerProvider>
    );
    
    expect(initialize).toHaveBeenCalled();
  });
});
```

#### çµ±åˆãƒ†ã‚¹ãƒˆ

```typescript
// tests/integration/connector.test.ts
import { renderHook } from '@testing-library/react';
import { useOffice365 } from '../src/hooks/useOffice365';

// æ³¨æ„: å®Ÿéš›ã®ã‚³ãƒã‚¯ã‚¿ãƒ†ã‚¹ãƒˆã¯ Power Apps ç’°å¢ƒãŒå¿…è¦
describe('Office 365 Connector Integration', () => {
  test('ãƒ•ãƒƒã‚¯ãŒæ­£å¸¸ã«åˆæœŸåŒ–ã•ã‚Œã‚‹', () => {
    const { result } = renderHook(() => useOffice365());
    
    expect(result.current.getCurrentUser).toBeDefined();
  });
});
```

---

## ğŸ“‹ Code Apps é–‹ç™ºãƒ•ãƒ­ãƒ¼

### ç’°å¢ƒæ§‹ç¯‰ãƒ»PowerProviderå®Ÿè£…

**å¿…é ˆè¦ä»¶ãƒã‚§ãƒƒã‚¯:**
- [ ] Power Platform ç’°å¢ƒã§ Code Apps ãŒæœ‰åŠ¹åŒ–æ¸ˆã¿
- [ ] å¿…è¦ãªã‚³ãƒã‚¯ã‚¿ï¼ˆOffice 365 Usersç­‰ï¼‰ãŒã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- [ ] Power Apps Premium ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç¢ºèªæ¸ˆã¿
- [ ] é–‹ç™ºç’°å¢ƒã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™è¨­å®šå®Œäº†

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–

#### 2.1 é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

**Step 1: åŸºæœ¬ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
```powershell
# Node.js LTSç‰ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
node --version

# Power Platform CLI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pac install latest

# Vite + React + TypeScript ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
npm create vite@latest my-code-app -- --template react-ts
cd my-code-app

# Power Apps Code Apps SDK ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (PCF ç”¨ã§ã¯ã‚ã‚Šã¾ã›ã‚“)
npm install @microsoft/power-apps

# Code Apps ã¨ã—ã¦åˆæœŸåŒ– (PCF init ã§ã¯ã‚ã‚Šã¾ã›ã‚“)
pac code init
```

**âŒ é–“é•ã„ (PCF åˆæœŸåŒ–ã‚³ãƒãƒ³ãƒ‰):**
```powershell
# ã“ã‚Œã¯ PCF ç”¨ã§ã™ã€‚Code Apps ã§ã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„
pac pcf init
```

**Step 2: VS Code è¨­å®š**

**.vscode/extensions.json:**
```json
{
  "recommendations": [
    "ms-powerplatform.vscode-powerplatform",
    "ms-vscode.vscode-typescript-next",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-eslint",
    "bradlc.vscode-tailwindcss"
  ]
}
```

**.vscode/settings.json (Microsoft å…¬å¼ãƒ‘ã‚¿ãƒ¼ãƒ³):**
```json
{
  "files.exclude": {
    "**/.github": true,
    "**/.vscode": true,
    "**/.cursor": true
  }
}
```

**æ¨å¥¨è¨­å®š:**
- Power Platform Tools æ‹¡å¼µã‚’å¿…é ˆã¨ã™ã‚‹
- ä¸è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’éè¡¨ç¤ºã«ã—ã¦é–‹ç™ºåŠ¹ç‡å‘ä¸Š
- TypeScript ã¨ Tailwind CSS ã®ã‚µãƒãƒ¼ãƒˆæœ‰åŠ¹åŒ–

### 2.2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¬ã‚¤ãƒ‰

| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ— | æ¨å¥¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | ç‰¹å¾´ |
|-------------------|------------------|------|
| ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | Analytics Template | ãƒãƒ£ãƒ¼ãƒˆã€KPIè¡¨ç¤º |
| ãƒ‡ãƒ¼ã‚¿ç®¡ç† | CRUD Template | ãƒ•ã‚©ãƒ¼ãƒ ã€ä¸€è¦§ã€æ¤œç´¢ |
| ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ | Business Process | ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ã€æ‰¿èª |
| ãƒ¬ãƒãƒ¼ãƒ†ã‚£ãƒ³ã‚° | Report Template | å¸³ç¥¨ã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ |
| ã‚«ã‚¹ã‚¿ãƒ  | Blank Template | å®Œå…¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º |

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»UIé–‹ç™º

## Code Apps ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (Microsoft å…¬å¼)

### é–‹ç™ºæ™‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

**3å±¤æ§‹é€ ã® Code Apps é–‹ç™ºç’°å¢ƒ:**

```mermaid
graph TB
    subgraph "é–‹ç™ºç’°å¢ƒ"
        A[Your Code<br/>HTML/TypeScript/JavaScript SPA]
        B[Power Apps SDK<br/>@microsoft/power-apps]
        C[Power Platform CLI<br/>pac code commands]
    end
    
    subgraph "ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«"
        D[power.config.json<br/>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®š]
        E[generated/services/<br/>è‡ªå‹•ç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹]
        F[generated/models/<br/>è‡ªå‹•ç”Ÿæˆãƒ¢ãƒ‡ãƒ«]
    end
    
    A --> B
    B --> D
    C --> D
    C --> E
    C --> F
```

**Microsoft å…¬å¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ§‹æˆè¦ç´ :**

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | èª¬æ˜ | å½¹å‰² |
|---------------|------|------|
| **Your Code** | HTML/TypeScript/JavaScript SPA | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ãƒ»UI |
| **Power Apps SDK** | `@microsoft/power-apps` npm package | APIæä¾›ãƒ»ãƒ¢ãƒ‡ãƒ«/ã‚µãƒ¼ãƒ“ã‚¹ç®¡ç† |
| **Power Platform CLI** | `pac code` ã‚³ãƒãƒ³ãƒ‰ç¾¤ | ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ç®¡ç† |
| **power.config.json** | SDKç”Ÿæˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ« | Power Platformæ¥ç¶šãƒ»å…¬é–‹æƒ…å ± |
| **Generated Models/Services** | è‡ªå‹•ç”ŸæˆTypeScriptãƒ•ã‚¡ã‚¤ãƒ« | ã‚³ãƒã‚¯ã‚¿ãƒ¼ç”¨å‹å®šç¾©ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ |

### å®Ÿè¡Œæ™‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

**3å±¤ Runtime æ§‹æˆ:**

```mermaid
graph TB
    subgraph "Power Apps ç’°å¢ƒ"
        A[Power Apps Host<br/>èªè¨¼ãƒ»ã‚¢ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¨ãƒ©ãƒ¼è¡¨ç¤º]
        B[Power Apps SDK<br/>APIãƒ»ç”Ÿæˆãƒ¢ãƒ‡ãƒ«ãƒ»ã‚µãƒ¼ãƒ“ã‚¹]
        C[Your Code<br/>ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯]
    end
    
    subgraph "Power Platform"
        D[Connectors<br/>Office 365ãƒ»SQLãƒ»Dataverse]
        E[Authentication<br/>è‡ªå‹•ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼]
        F[Environment<br/>ç’°å¢ƒç®¡ç†]
    end
    
    A --> E
    A --> F
    B --> D
    C --> B
```

**å®Ÿè¡Œæ™‚ã®è²¬ä»»åˆ†é›¢:**

- **Power Apps Host**: ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- **Power Apps SDK**: APIæä¾›ã€ç”Ÿæˆã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã€Power Platform ã‚³ãƒã‚¯ã‚¿ãƒ¼é€šä¿¡
- **Your Code**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€UI ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³

### æ¨å¥¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€  (Microsoft å…¬å¼æº–æ‹ )

```
code-app-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # React UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ui/             # shadcn/ui ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–
â”‚   â”‚   â”œâ”€â”€ layout/         # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ features/       # æ©Ÿèƒ½å›ºæœ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ generated/          # PAC CLI è‡ªå‹•ç”Ÿæˆ (ç·¨é›†ç¦æ­¢)
â”‚   â”‚   â”œâ”€â”€ models/         # TypeScriptå‹å®šç¾©
â”‚   â”‚   â””â”€â”€ services/       # ã‚³ãƒã‚¯ã‚¿ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ hooks/              # ã‚«ã‚¹ã‚¿ãƒ  React ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ lib/                # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ types/              # ã‚¢ãƒ—ãƒªå›ºæœ‰å‹å®šç¾©
â”‚   â”œâ”€â”€ data/               # é™çš„ï¿½ï¿½ï¿½ãƒ¼ã‚¿ (é–‹ç™ºç”¨)
â”‚   â”œâ”€â”€ App.tsx             # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ PowerProvider.tsx   # SDK åˆæœŸåŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚   â””â”€â”€ main.tsx            # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ public/                 # é™çš„ã‚¢ã‚»ãƒƒãƒˆ
â”œâ”€â”€ power.config.json       # Power Platform è¨­å®š (è‡ªå‹•ç”Ÿæˆ)
â”œâ”€â”€ package.json            # npm ä¾å­˜é–¢ä¿‚
â”œâ”€â”€ vite.config.ts          # Vite ãƒ“ãƒ«ãƒ‰è¨­å®š
â””â”€â”€ tailwind.config.js      # TailwindCSS è¨­å®š
```

**é‡è¦ãªè¨­è¨ˆåŸå‰‡:**

1. **SPA (Single Page Application) å¿…é ˆ**: Code Apps ã¯ SPA ã®ã¿ã‚µãƒãƒ¼ãƒˆ
2. **SDK ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: `@microsoft/power-apps` SDK ã«ã‚ˆã‚‹ Power Platform çµ±åˆ
3. **è‡ªå‹•ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«**: `generated/` ãƒ•ã‚©ãƒ«ãƒ€ã¯ PAC CLI ãŒç®¡ç†ï¼ˆæ‰‹å‹•ç·¨é›†ç¦æ­¢ï¼‰
4. **power.config.json**: SDK ã¨CLI ãŒä½¿ç”¨ã™ã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰ã‹ã‚‰ç›´æ¥æ“ä½œã—ãªã„ï¼‰
5. **ã‚³ãƒã‚¯ã‚¿ãƒ¼ç®¡ç†**: PAC CLI ã‚³ãƒãƒ³ãƒ‰ã§ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹è¿½åŠ ãƒ»å‰Šé™¤

### æ¨å¥¨æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

**å¿…é ˆæŠ€è¡“ (Microsoft å…¬å¼ã‚µãƒ³ãƒ—ãƒ«æº–æ‹ ):**
- **@microsoft/power-apps**: Power Platform SDK (^0.3.1)
- **React 18**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **TypeScript**: å‹å®‰å…¨æ€§ã¨ã‚³ãƒ¼ãƒ‰å“è³ª
- **Vite**: é«˜é€Ÿãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã¨ãƒ‡ãƒãƒƒã‚°ç’°å¢ƒ

**UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (StaticAssetTracker + ãƒ†ãƒ¼ãƒå¯¾å¿œãƒ‘ã‚¿ãƒ¼ãƒ³):**
- **shadcn/ui**: é«˜å“è³ªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆDialog, DropdownMenu ãªã©ï¼‰
- **Radix UI**: ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãªãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–
- **Tailwind CSS**: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆCSS + ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
- **Lucide React**: ä¸€è²«ã—ãŸã‚¢ã‚¤ã‚³ãƒ³ã‚»ãƒƒãƒˆï¼ˆSun, Moon ãªã©ï¼‰
- **tailwindcss-animate**: ã‚¹ãƒ ãƒ¼ã‚ºãªãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

**çŠ¶æ…‹ç®¡ç†ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ:**
- **TanStack Query**: ã‚µãƒ¼ãƒçŠ¶æ…‹ç®¡ç†ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- **React Hook Form**: ãƒ•ã‚©ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†
- **Zod**: ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

**é–‹ç™ºãƒ„ãƒ¼ãƒ«:**
- **ESLint**: ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
- **Prettier**: ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ (æ¨å¥¨)
- **PostCSS**: CSSå‡¦ç†ã¨Tailwindçµ±åˆ

### 3.3 è¨­è¨ˆåŸå‰‡

**Power Apps Code Apps ç‰¹æœ‰ã®åŸå‰‡:**
1. **é™çš„ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: å®Ÿãƒ‡ãƒ¼ã‚¿çµ±åˆå‰ã®UIå®Œæˆ
2. **æ®µéšçš„ã‚³ãƒã‚¯ã‚¿çµ±åˆ**: é™çš„ â†’ ãƒ¢ãƒƒã‚¯ â†’ å®Ÿãƒ‡ãƒ¼ã‚¿
3. **Power Platform ãƒã‚¤ãƒ†ã‚£ãƒ–**: SDK ã¨ã‚³ãƒã‚¯ã‚¿æ´»ç”¨
4. **ãƒ¢ãƒ¼ãƒ€ãƒ«ä¸­å¿ƒ UI**: ãƒ–ãƒ©ã‚¦ã‚¶ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ä¸ä½¿ç”¨
5. **ãƒ†ãƒ¼ãƒå¯¾å¿œè¨­è¨ˆ**: ãƒ€ãƒ¼ã‚¯ãƒ»ãƒ©ã‚¤ãƒˆãƒ»ã‚·ã‚¹ãƒ†ãƒ è¨­å®šåˆ‡ã‚Šæ›¿ãˆ
6. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ»ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ

**SOLIDåŸå‰‡ã®é©ç”¨:**
- **Single Responsibility**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä¸€è²¬ä»»
- **Open/Closed**: æ‹¡å¼µå¯èƒ½ãƒ»å¤‰æ›´é–‰é–è¨­è¨ˆ
- **Interface Segregation**: å°ã•ãç‰¹åŒ–ã—ãŸhooksä½œæˆ

### ã‚³ãƒã‚¯ã‚¿çµ±åˆãƒ»ãƒ‡ãƒ¼ã‚¿æ¥ç¶š

#### 4.1 é–‹ç™ºãƒ•ãƒ­ãƒ¼ (Power Apps Code Apps)

```mermaid
graph LR
    A[feature/*ãƒ–ãƒ©ãƒ³ãƒä½œæˆ] --> B[PowerProviderå®Ÿè£…]
    B --> C[ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ]
    C --> D[pac code push ãƒ†ã‚¹ãƒˆ]
    D --> E[åŸºæœ¬æ©Ÿèƒ½å®Ÿè£…]
    E --> F[ã‚³ãƒã‚¯ã‚¿çµ±åˆ]
    F --> G[å˜ä½“ãƒ†ã‚¹ãƒˆ]
    G --> H[ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼]
    H --> I[developçµ±åˆ]
    I --> J[çµåˆãƒ†ã‚¹ãƒˆ]
    J --> K[mainçµ±åˆ]
    K --> L[Power Apps ãƒ‡ãƒ—ãƒ­ã‚¤]
```

**é‡è¦**: 
- PowerProvider ã® SDK åˆæœŸåŒ–ãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’æœ€åˆã«ç¢ºèª
- `pac code run` ã§ãƒ­ãƒ¼ã‚«ãƒ«å‹•ä½œç¢ºèªå¾Œã€æ©Ÿèƒ½é–‹ç™ºé–‹å§‹
- ã‚³ãƒã‚¯ã‚¿ã¯æ®µéšçš„ã«è¿½åŠ  (Office 365 â†’ SQL â†’ ã‚«ã‚¹ã‚¿ãƒ  API)

### 4.2 ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

**TypeScriptè¨­å®š (tsconfig.json)**
```json
{
  "compilerOptions": {
    "target": "es2020",
    "lib": ["dom", "dom.iterable", "es6"],
    "allowJs": true,
    "skipLibCheck": true,
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "noFallthroughCasesInSwitch": true,
    "module": "esnext",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx"
  }
}
```

**ESLintè¨­å®š (.eslintrc.json)**
```json
{
  "extends": [
    "react-app",
    "@typescript-eslint/recommended",
    "prettier"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "react-hooks/exhaustive-deps": "warn",
    "prefer-const": "error"
  }
}
```

### ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

#### 5.1 ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

**ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰**
```
        /\
       /  \ E2E ãƒ†ã‚¹ãƒˆ (5%)
      /    \ Playwright
     /______\ 
    /        \ çµ±åˆãƒ†ã‚¹ãƒˆ (15%)
   /  React   \ React Testing Library
  /  Testing   \
 /   Library    \
/______________\ å˜ä½“ãƒ†ã‚¹ãƒˆ (80%)
     Jest      
```

**ãƒ†ã‚¹ãƒˆç¨®åˆ¥ã¨ç›®æ¨™ã‚«ãƒãƒ¬ãƒƒã‚¸**
| ãƒ†ã‚¹ãƒˆç¨®åˆ¥ | ãƒ„ãƒ¼ãƒ« | ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ |
|-----------|--------|---------------|
| å˜ä½“ãƒ†ã‚¹ãƒˆ | Jest | 80%ä»¥ä¸Š |
| çµ±åˆãƒ†ã‚¹ãƒˆ | RTL | 70%ä»¥ä¸Š |
| E2Eãƒ†ã‚¹ãƒˆ | Playwright | ä¸»è¦ãƒ•ãƒ­ãƒ¼100% |

**Code Apps ãƒ‡ãƒ—ãƒ­ã‚¤:**
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ
npm run dev

# ãƒ“ãƒ«ãƒ‰
npm run build

# Power Apps ã« Code Apps ã¨ã—ã¦å…¬é–‹
pac code push

jobs:
  build-and-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Lint check
        run: npm run lint
      
      - name: Build application
        run: npm run build
      
      - name: Build development version
        run: npm run build:dev

  deploy:
    needs: build-and-test
    if: github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Build for production
        run: npm run build
      
      - name: Install Power Platform CLI
        run: |
          npm install -g @microsoft/powerplatform-cli
      
      - name: Deploy to Power Apps (Code Apps ã¨ã—ã¦)
        run: |
          echo "Deploying as Code Apps (not PCF component)"
          pac code push
        env:
          POWERPLATFORM_TENANT_ID: ${{ secrets.POWERPLATFORM_TENANT_ID }}
          POWERPLATFORM_CLIENT_ID: ${{ secrets.POWERPLATFORM_CLIENT_ID }}
          POWERPLATFORM_CLIENT_SECRET: ${{ secrets.POWERPLATFORM_CLIENT_SECRET }}
```

**é‡è¦**: 
- `pac code push` ã§ **Code Apps ã¨ã—ã¦** è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- PCF ç”¨ã® `pac pcf push` ã¯ä½¿ç”¨ã—ã¾ã›ã‚“
- StaticAssetTracker ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã build ã¨ build:dev
- èªè¨¼ã¯ Service Principal ã‚’ä½¿ç”¨

---

## ğŸ¨ TailwindCSS ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

### ã‚«ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ

**ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ (ä¼æ¥­ãƒ–ãƒ©ãƒ³ãƒ‰å¯¾å¿œ):**
```javascript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        // ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼
        brand: {
          50: '#f0f9ff',
          100: '#e0f2fe',
          200: '#bae6fd',
          300: '#7dd3fc',
          400: '#38bdf8',
          500: '#0ea5e9',  // ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼
          600: '#0284c7',
          700: '#0369a1',
          800: '#075985',
          900: '#0c4a6e',
        },
        // ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ã‚«ãƒ©ãƒ¼
        success: {
          50: '#f0fdf4',
          100: '#dcfce7',
          500: '#22c55e',
          600: '#16a34a',
          900: '#14532d',
        },
        warning: {
          50: '#fffbeb',
          100: '#fef3c7',
          500: '#f59e0b',
          600: '#d97706',
          900: '#78350f',
        },
        error: {
          50: '#fef2f2',
          100: '#fee2e2',
          500: '#ef4444',
          600: '#dc2626',
          900: '#7f1d1d',
        },
        // UI ã‚«ãƒ©ãƒ¼ (shadcn/ui æº–æ‹ )
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        card: 'hsl(var(--card))',
        'card-foreground': 'hsl(var(--card-foreground))',
        popover: 'hsl(var(--popover))',
        'popover-foreground': 'hsl(var(--popover-foreground))',
        primary: 'hsl(var(--primary))',
        'primary-foreground': 'hsl(var(--primary-foreground))',
        secondary: 'hsl(var(--secondary))',
        'secondary-foreground': 'hsl(var(--secondary-foreground))',
        muted: 'hsl(var(--muted))',
        'muted-foreground': 'hsl(var(--muted-foreground))',
        accent: 'hsl(var(--accent))',
        'accent-foreground': 'hsl(var(--accent-foreground))',
        destructive: 'hsl(var(--destructive))',
        'destructive-foreground': 'hsl(var(--destructive-foreground))',
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
      },
    },
  },
}
```

### ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ã‚·ã‚¹ãƒ†ãƒ 

**ãƒ•ã‚©ãƒ³ãƒˆéšå±¤ã¨ã‚¹ã‚±ãƒ¼ãƒ«:**
```javascript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
        mono: ['JetBrains Mono', 'Menlo', 'Monaco', 'monospace'],
      },
      fontSize: {
        'xs': ['0.75rem', { lineHeight: '1rem' }],
        'sm': ['0.875rem', { lineHeight: '1.25rem' }],
        'base': ['1rem', { lineHeight: '1.5rem' }],
        'lg': ['1.125rem', { lineHeight: '1.75rem' }],
        'xl': ['1.25rem', { lineHeight: '1.75rem' }],
        '2xl': ['1.5rem', { lineHeight: '2rem' }],
        '3xl': ['1.875rem', { lineHeight: '2.25rem' }],
        '4xl': ['2.25rem', { lineHeight: '2.5rem' }],
        '5xl': ['3rem', { lineHeight: '1' }],
        '6xl': ['3.75rem', { lineHeight: '1' }],
      },
      fontWeight: {
        light: '300',
        normal: '400',
        medium: '500',
        semibold: '600',
        bold: '700',
        extrabold: '800',
      },
    },
  },
}
```

### ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ãƒ»ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ 

**ä¸€è²«ã—ãŸã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°:**
```css
/* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ã‚¯ãƒ©ã‚¹ */
.space-xs { @apply p-2; }      /* 8px */
.space-sm { @apply p-3; }      /* 12px */
.space-md { @apply p-4; }      /* 16px */
.space-lg { @apply p-6; }      /* 24px */
.space-xl { @apply p-8; }      /* 32px */
.space-2xl { @apply p-12; }    /* 48px */

/* ãƒãƒ¼ã‚¸ãƒ³ãƒ˜ãƒ«ãƒ‘ãƒ¼ */
.margin-xs { @apply m-2; }
.margin-sm { @apply m-3; }
.margin-md { @apply m-4; }
.margin-lg { @apply m-6; }
.margin-xl { @apply m-8; }

/* ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹ãƒ»ã‚°ãƒªãƒƒãƒ‰ãƒ˜ãƒ«ãƒ‘ãƒ¼ */
.flex-center { @apply flex items-center justify-center; }
.flex-between { @apply flex items-center justify-between; }
.flex-start { @apply flex items-center justify-start; }
.grid-responsive { @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6; }
```

### ã‚·ãƒ£ãƒ‰ã‚¦ãƒ»ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

**éšå±¤è¡¨ç¾ã®ãŸã‚ã®ã‚·ãƒ£ãƒ‰ã‚¦:**
```javascript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      boxShadow: {
        'soft': '0 2px 4px rgba(0, 0, 0, 0.05)',
        'medium': '0 4px 6px rgba(0, 0, 0, 0.07)',
        'large': '0 10px 15px rgba(0, 0, 0, 0.1)',
        'xl': '0 20px 25px rgba(0, 0, 0, 0.15)',
        'inner-soft': 'inset 0 2px 4px rgba(0, 0, 0, 0.06)',
        'glow': '0 0 20px rgba(59, 130, 246, 0.15)',
        'glow-green': '0 0 20px rgba(34, 197, 94, 0.15)',
        'glow-red': '0 0 20px rgba(239, 68, 68, 0.15)',
      },
    },
  },
}
```

## ğŸ¨ ç¾ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

### ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**åŸºæœ¬ã‚«ãƒ¼ãƒ‰:**
```tsx
// components/ui/Card.tsx
import { cn } from "@/lib/utils";

interface CardProps {
  children: React.ReactNode;
  className?: string;
  variant?: 'default' | 'elevated' | 'outlined' | 'filled';
  padding?: 'none' | 'sm' | 'md' | 'lg';
}

export const Card: React.FC<CardProps> = ({
  children,
  className,
  variant = 'default',
  padding = 'md'
}) => {
  return (
    <div className={cn(
      // åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«
      "bg-card text-card-foreground rounded-lg border transition-all duration-200",
      
      // ãƒãƒªã‚¢ãƒ³ãƒˆ
      {
        'border-border shadow-soft hover:shadow-medium': variant === 'default',
        'border-border shadow-large hover:shadow-xl': variant === 'elevated',
        'border-2 border-primary/20 shadow-none': variant === 'outlined',
        'bg-primary/5 border-primary/20': variant === 'filled',
      },
      
      // ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°
      {
        'p-0': padding === 'none',
        'p-3': padding === 'sm',
        'p-6': padding === 'md',
        'p-8': padding === 'lg',
      },
      
      className
    )}>
      {children}
    </div>
  );
};
```

**çµ±è¨ˆã‚«ãƒ¼ãƒ‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:**
```tsx
// components/ui/StatCard.tsx
import { LucideIcon } from 'lucide-react';
import { Card } from '@/components/ui/Card';

interface StatCardProps {
  title: string;
  value: string | number;
  change?: string;
  changeType?: 'positive' | 'negative' | 'neutral';
  icon: LucideIcon;
  description?: string;
}

export const StatCard: React.FC<StatCardProps> = ({
  title,
  value,
  change,
  changeType = 'neutral',
  icon: Icon,
  description
}) => {
  return (
    <Card variant="elevated" className="hover:scale-105 transition-transform">
      <div className="flex items-start justify-between">
        <div className="space-y-2">
          <p className="text-sm font-medium text-muted-foreground">{title}</p>
          <p className="text-3xl font-bold text-foreground">{value}</p>
          {change && (
            <div className={cn(
              "text-sm font-medium flex items-center space-x-1",
              {
                'text-success-600': changeType === 'positive',
                'text-error-600': changeType === 'negative',
                'text-muted-foreground': changeType === 'neutral',
              }
            )}>
              <span>{change}</span>
            </div>
          )}
          {description && (
            <p className="text-xs text-muted-foreground">{description}</p>
          )}
        </div>
        <div className="p-3 bg-primary/10 rounded-lg">
          <Icon className="h-6 w-6 text-primary" />
        </div>
      </div>
    </Card>
  );
};
```

### ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**ç¾ã—ã„ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:**
```tsx
// components/ui/DataTable.tsx
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import { Card } from "@/components/ui/Card";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Input } from "@/components/ui/input";
import { Search, Filter, MoreHorizontal } from "lucide-react";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";

interface Column {
  key: string;
  label: string;
  sortable?: boolean;
  render?: (value: any, row: any) => React.ReactNode;
}

interface DataTableProps {
  data: any[];
  columns: Column[];
  searchable?: boolean;
  searchPlaceholder?: string;
  actions?: (row: any) => React.ReactNode;
  onRowClick?: (row: any) => void;
}

export const DataTable: React.FC<DataTableProps> = ({
  data,
  columns,
  searchable = true,
  searchPlaceholder = "æ¤œç´¢...",
  actions,
  onRowClick
}) => {
  const [search, setSearch] = React.useState("");
  
  const filteredData = React.useMemo(() => {
    if (!search) return data;
    return data.filter(row => 
      Object.values(row).some(value => 
        String(value).toLowerCase().includes(search.toLowerCase())
      )
    );
  }, [data, search]);

  return (
    <Card className="w-full">
      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
      {searchable && (
        <div className="p-6 border-b border-border">
          <div className="flex items-center space-x-4">
            <div className="relative flex-1">
              <Search className="absolute left-3 top-3 h-4 w-4 text-muted-foreground" />
              <Input
                placeholder={searchPlaceholder}
                value={search}
                onChange={(e) => setSearch(e.target.value)}
                className="pl-10 bg-background"
              />
            </div>
            <Button variant="outline" className="space-x-2">
              <Filter className="h-4 w-4" />
              <span>ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</span>
            </Button>
          </div>
        </div>
      )}

      {/* ãƒ†ãƒ¼ãƒ–ãƒ« */}
      <div className="overflow-x-auto">
        <Table>
          <TableHeader>
            <TableRow className="bg-muted/50">
              {columns.map((column) => (
                <TableHead key={column.key} className="font-semibold">
                  {column.label}
                </TableHead>
              ))}
              {actions && <TableHead className="w-12"></TableHead>}
            </TableRow>
          </TableHeader>
          <TableBody>
            {filteredData.map((row, index) => (
              <TableRow 
                key={index}
                className={`hover:bg-muted/50 transition-colors ${
                  onRowClick ? 'cursor-pointer' : ''
                }`}
                onClick={() => onRowClick?.(row)}
              >
                {columns.map((column) => (
                  <TableCell key={column.key}>
                    {column.render ? 
                      column.render(row[column.key], row) : 
                      row[column.key]
                    }
                  </TableCell>
                ))}
                {actions && (
                  <TableCell>
                    <DropdownMenu>
                      <DropdownMenuTrigger asChild>
                        <Button variant="ghost" size="icon">
                          <MoreHorizontal className="h-4 w-4" />
                        </Button>
                      </DropdownMenuTrigger>
                      <DropdownMenuContent align="end">
                        {actions(row)}
                      </DropdownMenuContent>
                    </DropdownMenu>
                  </TableCell>
                )}
              </TableRow>
            ))}
          </TableBody>
        </Table>
      </div>

      {/* ãƒ•ãƒƒã‚¿ãƒ¼ */}
      {filteredData.length === 0 && (
        <div className="p-12 text-center">
          <p className="text-muted-foreground">ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“</p>
        </div>
      )}
    </Card>
  );
};
```

**ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:**
```tsx
// components/ui/ListItem.tsx
import { Card } from "@/components/ui/Card";
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { ChevronRight } from "lucide-react";

interface ListItemProps {
  avatar?: string;
  fallback?: string;
  title: string;
  subtitle?: string;
  description?: string;
  status?: {
    text: string;
    variant?: 'default' | 'secondary' | 'destructive' | 'outline';
  };
  actions?: React.ReactNode;
  onClick?: () => void;
}

export const ListItem: React.FC<ListItemProps> = ({
  avatar,
  fallback,
  title,
  subtitle,
  description,
  status,
  actions,
  onClick
}) => {
  return (
    <Card 
      className={`hover:shadow-medium transition-all ${onClick ? 'cursor-pointer' : ''}`}
      onClick={onClick}
    >
      <div className="flex items-center space-x-4">
        {/* ã‚¢ãƒã‚¿ãƒ¼ */}
        {(avatar || fallback) && (
          <Avatar className="h-12 w-12">
            <AvatarImage src={avatar} alt={title} />
            <AvatarFallback className="bg-primary/10 text-primary font-medium">
              {fallback}
            </AvatarFallback>
          </Avatar>
        )}

        {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
        <div className="flex-1 space-y-1">
          <div className="flex items-center justify-between">
            <h3 className="font-semibold text-foreground">{title}</h3>
            {status && (
              <Badge variant={status.variant || 'default'}>
                {status.text}
              </Badge>
            )}
          </div>
          {subtitle && (
            <p className="text-sm text-primary font-medium">{subtitle}</p>
          )}
          {description && (
            <p className="text-sm text-muted-foreground">{description}</p>
          )}
        </div>

        {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}
        <div className="flex items-center space-x-2">
          {actions}
          {onClick && (
            <ChevronRight className="h-5 w-5 text-muted-foreground" />
          )}
        </div>
      </div>
    </Card>
  );
};
```

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**çµ±è¨ˆã‚«ãƒ¼ãƒ‰ï¼ˆKPIè¡¨ç¤ºï¼‰:**
```tsx
// components/ui/StatsCard.tsx
import { Card } from "@/components/ui/Card";
import { Badge } from "@/components/ui/badge";
import { TrendingUp, TrendingDown, Minus } from "lucide-react";

interface StatsCardProps {
  title: string;
  value: string | number;
  change?: {
    value: number;
    type: 'increase' | 'decrease' | 'neutral';
    period?: string;
  };
  description?: string;
  icon?: React.ReactNode;
}

export const StatsCard: React.FC<StatsCardProps> = ({
  title,
  value,
  change,
  description,
  icon
}) => {
  const getTrendIcon = () => {
    if (!change) return null;
    switch (change.type) {
      case 'increase':
        return <TrendingUp className="h-4 w-4 text-green-500" />;
      case 'decrease':
        return <TrendingDown className="h-4 w-4 text-red-500" />;
      default:
        return <Minus className="h-4 w-4 text-muted-foreground" />;
    }
  };

  const getChangeColor = () => {
    if (!change) return '';
    switch (change.type) {
      case 'increase':
        return 'text-green-600 bg-green-50 dark:bg-green-900/20';
      case 'decrease':
        return 'text-red-600 bg-red-50 dark:bg-red-900/20';
      default:
        return 'text-muted-foreground bg-muted';
    }
  };

  return (
    <Card>
      <div className="flex items-center justify-between">
        <div>
          <p className="text-sm font-medium text-muted-foreground">{title}</p>
          <div className="flex items-baseline space-x-2">
            <h3 className="text-2xl font-bold text-foreground">{value}</h3>
            {change && (
              <div className={`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${getChangeColor()}`}>
                {getTrendIcon()}
                <span>{change.value > 0 ? '+' : ''}{change.value}%</span>
              </div>
            )}
          </div>
          {description && (
            <p className="text-sm text-muted-foreground mt-1">{description}</p>
          )}
          {change?.period && (
            <p className="text-xs text-muted-foreground mt-1">{change.period}</p>
          )}
        </div>
        {icon && (
          <div className="flex-shrink-0 p-3 bg-primary/10 rounded-lg">
            {icon}
          </div>
        )}
      </div>
    </Card>
  );
};
```

**ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:**
```tsx
// components/layout/DashboardGrid.tsx
import { DollarSign, Users, TrendingUp, Activity } from "lucide-react";

export const DashboardGrid: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
      {children}
    </div>
  );
};

// ä½¿ç”¨ä¾‹
<DashboardGrid>
  <StatsCard
    title="ç·å£²ä¸Š"
    value="Â¥1,234,567"
    change={{ value: 12.5, type: 'increase', period: 'å‰æœˆæ¯”' }}
    icon={<DollarSign className="h-6 w-6 text-primary" />}
  />
  <StatsCard
    title="æ–°è¦é¡§å®¢"
    value="156"
    change={{ value: -2.1, type: 'decrease', period: 'å‰é€±æ¯”' }}
    icon={<Users className="h-6 w-6 text-primary" />}
  />
</DashboardGrid>
```

**ãƒãƒ£ãƒ¼ãƒˆãƒ»ã‚°ãƒ©ãƒ•ã‚¨ãƒªã‚¢:**
```tsx
// components/ui/ChartContainer.tsx
import { Card } from "@/components/ui/Card";

interface ChartContainerProps {
  title: string;
  subtitle?: string;
  children: React.ReactNode;
  actions?: React.ReactNode;
}

export const ChartContainer: React.FC<ChartContainerProps> = ({
  title,
  subtitle,
  children,
  actions
}) => {
  return (
    <Card className="col-span-full lg:col-span-2">
      <div className="flex items-center justify-between mb-6">
        <div>
          <h3 className="text-lg font-semibold text-foreground">{title}</h3>
          {subtitle && (
            <p className="text-sm text-muted-foreground">{subtitle}</p>
          )}
        </div>
        {actions && <div className="flex space-x-2">{actions}</div>}
      </div>
      <div className="h-64 md:h-80">
        {children}
      </div>
    </Card>
  );
};
```

### ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ»ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä»˜ãï¼‰:**
```tsx
// components/layout/AppHeader.tsx
import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import { Badge } from '@/components/ui/badge';
import { useCurrentUser } from '@/hooks/useCurrentUser';
import { useTheme } from '@/hooks/useTheme';
import { 
  Menu, 
  Settings, 
  LogOut, 
  Sun, 
  Moon, 
  Monitor,
  User,
  Bell,
  Search
} from 'lucide-react';
import { Input } from '@/components/ui/input';

interface AppHeaderProps {
  onMenuToggle: () => void;
  title: string;
  showSearch?: boolean;
  notifications?: number;
}

export const AppHeader: React.FC<AppHeaderProps> = ({
  onMenuToggle,
  title,
  showSearch = true,
  notifications = 0
}) => {
  const { data: user } = useCurrentUser();
  const { theme, setTheme } = useTheme();
  const [searchQuery, setSearchQuery] = useState('');

  const getThemeIcon = () => {
    switch (theme) {
      case 'light': return <Sun className="h-4 w-4" />;
      case 'dark': return <Moon className="h-4 w-4" />;
      default: return <Monitor className="h-4 w-4" />;
    }
  };

  const getUserInitials = () => {
    if (!user?.displayName) return 'U';
    const names = user.displayName.split(' ');
    return names.length >= 2 
      ? `${names[0][0]}${names[names.length - 1][0]}`
      : names[0][0];
  };

  return (
    <header className="sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
      <div className="flex h-16 items-center px-4 gap-4">
        {/* ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
        <Button
          variant="ghost"
          size="icon"
          onClick={onMenuToggle}
          className="md:hidden"
        >
          <Menu className="h-5 w-5" />
        </Button>

        {/* ã‚¢ãƒ—ãƒªã‚¿ã‚¤ãƒˆãƒ« */}
        <div className="flex items-center space-x-2">
          <h1 className="text-lg font-semibold text-foreground">{title}</h1>
        </div>

        {/* æ¤œç´¢ãƒãƒ¼ï¼ˆä¸­å¤®ï¼‰ */}
        {showSearch && (
          <div className="flex-1 max-w-sm mx-4">
            <div className="relative">
              <Search className="absolute left-3 top-3 h-4 w-4 text-muted-foreground" />
              <Input
                placeholder="æ¤œç´¢..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                className="pl-10 bg-muted/50"
              />
            </div>
          </div>
        )}

        {/* å³å´ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
        <div className="flex items-center space-x-2 ml-auto">
          {/* é€šçŸ¥ãƒ™ãƒ« */}
          <Button variant="ghost" size="icon" className="relative">
            <Bell className="h-5 w-5" />
            {notifications > 0 && (
              <Badge 
                variant="destructive" 
                className="absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs p-0"
              >
                {notifications > 9 ? '9+' : notifications}
              </Badge>
            )}
          </Button>

          {/* ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ */}
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button variant="ghost" size="icon">
                {getThemeIcon()}
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="end">
              <DropdownMenuItem onClick={() => setTheme('light')}>
                <Sun className="mr-2 h-4 w-4" />
                ãƒ©ã‚¤ãƒˆ
              </DropdownMenuItem>
              <DropdownMenuItem onClick={() => setTheme('dark')}>
                <Moon className="mr-2 h-4 w-4" />
                ãƒ€ãƒ¼ã‚¯
              </DropdownMenuItem>
              <DropdownMenuItem onClick={() => setTheme('system')}>
                <Monitor className="mr-2 h-4 w-4" />
                ã‚·ã‚¹ãƒ†ãƒ 
              </DropdownMenuItem>
            </DropdownMenuContent>
          </DropdownMenu>

          {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« */}
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button variant="ghost" className="relative h-8 w-8 rounded-full">
                <Avatar className="h-8 w-8">
                  <AvatarImage src={user?.photoUrl} alt={user?.displayName} />
                  <AvatarFallback className="bg-primary/10 text-primary font-medium">
                    {getUserInitials()}
                  </AvatarFallback>
                </Avatar>
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent className="w-56" align="end" forceMount>
              <DropdownMenuLabel className="font-normal">
                <div className="flex flex-col space-y-1">
                  <p className="text-sm font-medium leading-none">
                    {user?.displayName || 'ã‚²ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼'}
                  </p>
                  <p className="text-xs leading-none text-muted-foreground">
                    {user?.mail || 'guest@example.com'}
                  </p>
                  {user?.jobTitle && (
                    <p className="text-xs leading-none text-muted-foreground">
                      {user.jobTitle}
                    </p>
                  )}
                </div>
              </DropdownMenuLabel>
              <DropdownMenuSeparator />
              <DropdownMenuItem>
                <User className="mr-2 h-4 w-4" />
                ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
              </DropdownMenuItem>
              <DropdownMenuItem>
                <Settings className="mr-2 h-4 w-4" />
                è¨­å®š
              </DropdownMenuItem>
              <DropdownMenuSeparator />
              <DropdownMenuItem className="text-red-600">
                <LogOut className="mr-2 h-4 w-4" />
                ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
              </DropdownMenuItem>
            </DropdownMenuContent>
          </DropdownMenu>
        </div>
      </div>
    </header>
  );
};
```

**å®Œå…¨ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:**
```tsx
// components/layout/AppLayout.tsx
import { useState } from 'react';
import { AppHeader } from './AppHeader';
import { AppSidebar } from './AppSidebar';
import { cn } from '@/lib/utils';

interface AppLayoutProps {
  children: React.ReactNode;
  title: string;
  sidebarItems: SidebarItem[];
}

export const AppLayout: React.FC<AppLayoutProps> = ({
  children,
  title,
  sidebarItems
}) => {
  const [sidebarOpen, setSidebarOpen] = useState(false);
  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);

  return (
    <div className="min-h-screen bg-background">
      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
      <AppHeader
        title={title}
        onMenuToggle={() => setSidebarOpen(!sidebarOpen)}
      />

      <div className="flex h-[calc(100vh-4rem)]">
        {/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼‰ */}
        <aside className={cn(
          "hidden md:flex flex-col border-r border-border bg-card transition-all duration-300",
          sidebarCollapsed ? "w-16" : "w-64"
        )}>
          <AppSidebar
            items={sidebarItems}
            collapsed={sidebarCollapsed}
            onToggleCollapse={() => setSidebarCollapsed(!sidebarCollapsed)}
          />
        </aside>

        {/* ãƒ¢ãƒã‚¤ãƒ«ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */}
        {sidebarOpen && (
          <div className="fixed inset-0 z-50 md:hidden">
            <div 
              className="absolute inset-0 bg-black/20 backdrop-blur-sm"
              onClick={() => setSidebarOpen(false)}
            />
            <aside className="absolute left-0 top-0 h-full w-64 border-r border-border bg-card">
              <AppSidebar
                items={sidebarItems}
                onItemSelect={() => setSidebarOpen(false)}
              />
            </aside>
          </div>
        )}

        {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
        <main className="flex-1 overflow-auto">
          <div className="container mx-auto p-6">
            {children}
          </div>
        </main>
      </div>
    </div>
  );
};
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚µã‚¤ãƒ‰ãƒãƒ¼:**
```tsx
// components/layout/AppSidebar.tsx
import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { ScrollArea } from '@/components/ui/scroll-area';
import { Badge } from '@/components/ui/badge';
import { cn } from '@/lib/utils';
import { ChevronLeft, ChevronRight } from 'lucide-react';

export interface SidebarItem {
  id: string;
  label: string;
  icon: React.ReactNode;
  href?: string;
  badge?: string;
  children?: SidebarItem[];
}

interface AppSidebarProps {
  items: SidebarItem[];
  collapsed?: boolean;
  activeItem?: string;
  onItemSelect?: (id: string) => void;
  onToggleCollapse?: () => void;
}

export const AppSidebar: React.FC<AppSidebarProps> = ({
  items,
  collapsed = false,
  activeItem,
  onItemSelect,
  onToggleCollapse
}) => {
  const [expandedItems, setExpandedItems] = useState<string[]>([]);

  const toggleExpanded = (itemId: string) => {
    setExpandedItems(prev =>
      prev.includes(itemId)
        ? prev.filter(id => id !== itemId)
        : [...prev, itemId]
    );
  };

  const handleItemClick = (item: SidebarItem) => {
    if (item.children) {
      toggleExpanded(item.id);
    } else {
      onItemSelect?.(item.id);
    }
  };

  return (
    <div className="flex flex-col h-full">
      {/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ˜ãƒƒãƒ€ãƒ¼ */}
      <div className="flex items-center justify-between p-4 border-b border-border">
        {!collapsed && (
          <h2 className="text-lg font-semibold text-foreground">ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h2>
        )}
        {onToggleCollapse && (
          <Button
            variant="ghost"
            size="icon"
            onClick={onToggleCollapse}
            className="h-8 w-8"
          >
            {collapsed ? (
              <ChevronRight className="h-4 w-4" />
            ) : (
              <ChevronLeft className="h-4 w-4" />
            )}
          </Button>
        )}
      </div>

      {/* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
      <ScrollArea className="flex-1">
        <nav className="space-y-2 p-4">
          {items.map((item) => (
            <SidebarMenuItem
              key={item.id}
              item={item}
              collapsed={collapsed}
              isActive={activeItem === item.id}
              isExpanded={expandedItems.includes(item.id)}
              onSelect={() => handleItemClick(item)}
            />
          ))}
        </nav>
      </ScrollArea>
    </div>
  );
};

const SidebarMenuItem: React.FC<{
  item: SidebarItem;
  collapsed: boolean;
  isActive: boolean;
  isExpanded: boolean;
  onSelect: () => void;
}> = ({ item, collapsed, isActive, isExpanded, onSelect }) => {
  return (
    <div>
      <Button
        variant={isActive ? "default" : "ghost"}
        className={cn(
          "w-full justify-start space-x-3 h-10",
          collapsed && "px-3 justify-center"
        )}
        onClick={onSelect}
      >
        <span className="flex-shrink-0">{item.icon}</span>
        {!collapsed && (
          <>
            <span className="truncate flex-1 text-left">{item.label}</span>
            {item.badge && (
              <Badge variant="secondary" className="text-xs">
                {item.badge}
              </Badge>
            )}
          </>
        )}
      </Button>

      {/* ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
      {!collapsed && item.children && isExpanded && (
        <div className="ml-6 mt-2 space-y-1">
          {item.children.map((child) => (
            <Button
              key={child.id}
              variant="ghost"
              className="w-full justify-start text-sm h-8"
              onClick={() => onSelect()}
            >
              <span className="flex-shrink-0 mr-3">{child.icon}</span>
              <span className="truncate">{child.label}</span>
            </Button>
          ))}
        </div>
      )}
    </div>
  );
};
```

**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä½¿ç”¨ä¾‹ï¼ˆãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼‰:**
```tsx
// src/pages/Index.tsx - å®Œå…¨ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆçµ±åˆä¾‹
import { AppLayout } from '@/components/layout/AppLayout';
import { DashboardGrid } from '@/components/layout/DashboardGrid';
import { StatsCard } from '@/components/ui/StatsCard';
import { useCurrentUser } from '@/hooks/useCurrentUser';
import { 
  Home, 
  Users, 
  Settings, 
  FileText, 
  BarChart,
  DollarSign,
  TrendingUp 
} from 'lucide-react';

const sidebarItems = [
  {
    id: 'dashboard',
    label: 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰',
    icon: <Home className="h-4 w-4" />,
  },
  {
    id: 'users',
    label: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†',
    icon: <Users className="h-4 w-4" />,
    badge: '12',
  },
  {
    id: 'reports',
    label: 'ãƒ¬ãƒãƒ¼ãƒˆ',
    icon: <BarChart className="h-4 w-4" />,
    children: [
      {
        id: 'sales-report',
        label: 'å£²ä¸Šãƒ¬ãƒãƒ¼ãƒˆ',
        icon: <DollarSign className="h-4 w-4" />,
      },
      {
        id: 'analytics',
        label: 'ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹',
        icon: <TrendingUp className="h-4 w-4" />,
      }
    ]
  },
  {
    id: 'documents',
    label: 'ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ',
    icon: <FileText className="h-4 w-4" />,
  },
  {
    id: 'settings',
    label: 'è¨­å®š',
    icon: <Settings className="h-4 w-4" />,
  },
];

export default function Index() {
  const { data: user, isLoading } = useCurrentUser();

  if (isLoading) {
    return <div className="flex items-center justify-center min-h-screen">èª­ã¿è¾¼ã¿ä¸­...</div>;
  }

  return (
    <AppLayout title="Power Apps Code Apps" sidebarItems={sidebarItems}>
      {/* ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */}
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-foreground mb-2">
          ãŠã‹ãˆã‚Šãªã•ã„ã€{user?.displayName || 'ã‚²ã‚¹ãƒˆ'}ã•ã‚“
        </h1>
        <p className="text-muted-foreground">
          ä»Šæ—¥ã‚‚ä¸€æ—¥ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚
        </p>
      </div>

      {/* KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ */}
      <DashboardGrid>
        <StatsCard
          title="ç·å£²ä¸Š"
          value="Â¥1,234,567"
          change={{ value: 12.5, type: 'increase', period: 'å‰æœˆæ¯”' }}
          icon={<DollarSign className="h-6 w-6 text-primary" />}
        />
        <StatsCard
          title="æ–°è¦é¡§å®¢"
          value="156"
          change={{ value: -2.1, type: 'decrease', period: 'å‰é€±æ¯”' }}
          icon={<Users className="h-6 w-6 text-primary" />}
        />
        <StatsCard
          title="å®Œäº†ã‚¿ã‚¹ã‚¯"
          value="89%"
          change={{ value: 5.3, type: 'increase', period: 'ä»Šæœˆ' }}
          icon={<TrendingUp className="h-6 w-6 text-primary" />}
        />
        <StatsCard
          title="ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼"
          value="1,423"
          description="ã‚ªãƒ³ãƒ©ã‚¤ãƒ³: 234"
          icon={<BarChart className="h-6 w-6 text-primary" />}
        />
      </DashboardGrid>

      {/* ãã®ä»–ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
      <div className="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6">
        {/* è¿½åŠ ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
      </div>
    </AppLayout>
  );
}
```

**App.tsx ã§ã®çµ±åˆ:**
```tsx
// src/App.tsx - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆçµ±åˆç‰ˆ
import { Toaster } from "@/components/ui/toaster";
import { Toaster as Sonner } from "@/components/ui/sonner";
import { TooltipProvider } from "@/components/ui/tooltip";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { ThemeProvider } from "@/components/theme/ThemeContext";
import Index from "./pages/Index";

const queryClient = new QueryClient();

const App = () => (
  <QueryClientProvider client={queryClient}>
    <ThemeProvider>
      <TooltipProvider>
        <Toaster />
        <Sonner />
        <Index />
      </TooltipProvider>
    </ThemeProvider>
  </QueryClientProvider>
);

export default App;
```

### ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**ç¾ã—ã„ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³:**
```tsx
// components/layout/Sidebar.tsx
import { cn } from "@/lib/utils";
import { Button } from "@/components/ui/button";
import { ScrollArea } from "@/components/ui/scroll-area";
import { LucideIcon } from "lucide-react";

interface SidebarItem {
  id: string;
  label: string;
  icon: LucideIcon;
  href?: string;
  badge?: string;
  children?: SidebarItem[];
}

interface SidebarProps {
  items: SidebarItem[];
  activeItem: string;
  onItemSelect: (id: string) => void;
  collapsed?: boolean;
}

export const Sidebar: React.FC<SidebarProps> = ({
  items,
  activeItem,
  onItemSelect,
  collapsed = false
}) => {
  return (
    <div className={cn(
      "bg-card border-r border-border transition-all duration-300",
      collapsed ? "w-16" : "w-64"
    )}>
      <ScrollArea className="h-full">
        <nav className="space-y-2 p-4">
          {items.map((item) => (
            <SidebarItem
              key={item.id}
              item={item}
              isActive={activeItem === item.id}
              onSelect={onItemSelect}
              collapsed={collapsed}
            />
          ))}
        </nav>
      </ScrollArea>
    </div>
  );
};

const SidebarItem: React.FC<{
  item: SidebarItem;
  isActive: boolean;
  onSelect: (id: string) => void;
  collapsed: boolean;
}> = ({ item, isActive, onSelect, collapsed }) => {
  const Icon = item.icon;
  
  return (
    <Button
      variant={isActive ? "default" : "ghost"}
      className={cn(
        "w-full justify-start space-x-3",
        collapsed && "px-3"
      )}
      onClick={() => onSelect(item.id)}
    >
      <Icon className="h-4 w-4 flex-shrink-0" />
      {!collapsed && (
        <>
          <span className="truncate">{item.label}</span>
          {item.badge && (
            <span className="ml-auto bg-primary/20 text-primary text-xs px-2 py-1 rounded-full">
              {item.badge}
            </span>
          )}
        </>
      )}
    </Button>
  );
};
```

### ãƒ•ã‚©ãƒ¼ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**ç¾ã—ã„ãƒ•ã‚©ãƒ¼ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:**
```tsx
// components/ui/FormTemplate.tsx
import { Card } from "@/components/ui/Card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Textarea } from "@/components/ui/textarea";

interface FormFieldProps {
  label: string;
  error?: string;
  required?: boolean;
  children: React.ReactNode;
}

export const FormField: React.FC<FormFieldProps> = ({
  label,
  error,
  required,
  children
}) => {
  return (
    <div className="space-y-2">
      <Label className="text-sm font-medium text-foreground">
        {label}
        {required && <span className="text-error-500 ml-1">*</span>}
      </Label>
      {children}
      {error && (
        <p className="text-sm text-error-500">{error}</p>
      )}
    </div>
  );
};

export const FormTemplate: React.FC<{
  title: string;
  description?: string;
  children: React.ReactNode;
  actions: React.ReactNode;
}> = ({ title, description, children, actions }) => {
  return (
    <Card variant="elevated" padding="lg" className="max-w-2xl mx-auto">
      <div className="space-y-6">
        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
        <div className="space-y-2">
          <h2 className="text-2xl font-bold text-foreground">{title}</h2>
          {description && (
            <p className="text-muted-foreground">{description}</p>
          )}
        </div>
        
        {/* ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}
        <div className="space-y-6">
          {children}
        </div>
        
        {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}
        <div className="flex justify-end space-x-3 pt-4 border-t border-border">
          {actions}
        </div>
      </div>
    </Card>
  );
};
```

## ğŸ¨ UI ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆ

### ãƒ¢ãƒ¼ãƒ€ãƒ«å„ªå…ˆè¨­è¨ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

**ğŸš¨ é‡è¦æ–¹é‡: ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å®Œå…¨ç¦æ­¢ã€ãƒ¢ãƒ¼ãƒ€ãƒ«å¿…é ˆä½¿ç”¨**

Code Apps ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®ä¸€è²«æ€§ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã®çµ±ä¸€æ€§ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã€**ã™ã¹ã¦ã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç³»UIã‚’ç¦æ­¢**ã—ã€TailwindCSS + shadcn/ui ãƒ™ãƒ¼ã‚¹ã®ç¾ã—ã„ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å¿…é ˆä½¿ç”¨ã—ã¾ã™ã€‚

**âŒ çµ¶å¯¾ã«ä½¿ç”¨ç¦æ­¢:**
- `window.alert()`
- `window.confirm()`
- `window.prompt()`
- ãƒ–ãƒ©ã‚¦ã‚¶ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

**âœ… å¿…é ˆä½¿ç”¨:**
- shadcn/ui Dialog ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- TailwindCSS ã«ã‚ˆã‚‹ç¾ã—ã„ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãªãƒ¢ãƒ¼ãƒ€ãƒ«å®Ÿè£…
- ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

#### ãƒ¢ãƒ¼ãƒ€ãƒ«å®Ÿè£…ä¾‹

**åŸºæœ¬çš„ãªãƒ¢ãƒ¼ãƒ€ãƒ«å®Ÿè£…:**
```typescript
// components/ui/modal.tsx (shadcn/ui ãƒ™ãƒ¼ã‚¹)
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";

interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  title: string;
  children: React.ReactNode;
  actions?: React.ReactNode;
}

export const Modal: React.FC<ModalProps> = ({
  isOpen,
  onClose,
  title,
  children,
  actions
}) => {
  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent className="sm:max-w-md">
        <DialogHeader>
          <DialogTitle>{title}</DialogTitle>
        </DialogHeader>
        <div className="py-4">
          {children}
        </div>
        {actions && (
          <DialogFooter>
            {actions}
          </DialogFooter>
        )}
      </DialogContent>
    </Dialog>
  );
};
```

**ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ«ã®å®Ÿè£…ä¾‹:**
```typescript
// components/ConfirmationModal.tsx
import { Modal } from "@/components/ui/modal";
import { Button } from "@/components/ui/button";

interface ConfirmationModalProps {
  isOpen: boolean;
  onClose: () => void;
  onConfirm: () => void;
  title: string;
  message: string;
  confirmText?: string;
  cancelText?: string;
}

export const ConfirmationModal: React.FC<ConfirmationModalProps> = ({
  isOpen,
  onClose,
  onConfirm,
  title,
  message,
  confirmText = "ç¢ºèª",
  cancelText = "ã‚­ãƒ£ãƒ³ã‚»ãƒ«"
}) => {
  const handleConfirm = () => {
    onConfirm();
    onClose();
  };

  return (
    <Modal
      isOpen={isOpen}
      onClose={onClose}
      title={title}
      actions={
        <>
          <Button variant="outline" onClick={onClose}>
            {cancelText}
          </Button>
          <Button onClick={handleConfirm}>
            {confirmText}
          </Button>
        </>
      }
    >
      <p className="text-sm text-muted-foreground">{message}</p>
    </Modal>
  );
};
```

**ç¾ã—ã„ãƒ•ã‚©ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:**
```typescript
// components/FormModal.tsx
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Badge } from "@/components/ui/badge";
import { useForm } from "react-hook-form";
import { User, Mail, Phone } from "lucide-react";

interface FormModalProps {
  isOpen: boolean;
  onClose: () => void;
  onSubmit: (data: any) => void;
  title: string;
  description?: string;
}

export const FormModal: React.FC<FormModalProps> = ({
  isOpen,
  onClose,
  onSubmit,
  title,
  description
}) => {
  const { register, handleSubmit, reset, formState: { errors } } = useForm();

  const handleFormSubmit = (data: any) => {
    onSubmit(data);
    reset();
    onClose();
  };

  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent className="sm:max-w-md bg-card border-border shadow-xl">
        <DialogHeader className="space-y-3">
          <DialogTitle className="text-xl font-semibold text-foreground flex items-center space-x-2">
            <User className="h-5 w-5 text-primary" />
            <span>{title}</span>
          </DialogTitle>
          {description && (
            <DialogDescription className="text-muted-foreground">
              {description}
            </DialogDescription>
          )}
        </DialogHeader>
        
        <form onSubmit={handleSubmit(handleFormSubmit)} className="space-y-6">
          {/* åå‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}
          <div className="space-y-2">
            <Label htmlFor="name" className="text-sm font-medium text-foreground">
              åå‰ <Badge variant="destructive" className="ml-1 text-xs">å¿…é ˆ</Badge>
            </Label>
            <div className="relative">
              <User className="absolute left-3 top-3 h-4 w-4 text-muted-foreground" />
              <Input
                id="name"
                {...register("name", { required: "åå‰ã¯å¿…é ˆã§ã™" })}
                placeholder="ç”°ä¸­å¤ªéƒ"
                className="pl-10 bg-background border-input focus:border-primary focus:ring-2 focus:ring-primary/20"
              />
            </div>
            {errors.name && (
              <p className="text-sm text-error-500">{errors.name.message}</p>
            )}
          </div>

          {/* ãƒ¡ãƒ¼ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}
          <div className="space-y-2">
            <Label htmlFor="email" className="text-sm font-medium text-foreground">
              ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ <Badge variant="destructive" className="ml-1 text-xs">å¿…é ˆ</Badge>
            </Label>
            <div className="relative">
              <Mail className="absolute left-3 top-3 h-4 w-4 text-muted-foreground" />
              <Input
                id="email"
                type="email"
                {...register("email", { 
                  required: "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¿…é ˆã§ã™",
                  pattern: {
                    value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,
                    message: "æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
                  }
                })}
                placeholder="tanaka@example.com"
                className="pl-10 bg-background border-input focus:border-primary focus:ring-2 focus:ring-primary/20"
              />
            </div>
            {errors.email && (
              <p className="text-sm text-error-500">{errors.email.message}</p>
            )}
          </div>

          {/* é›»è©±ç•ªå·ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}
          <div className="space-y-2">
            <Label htmlFor="phone" className="text-sm font-medium text-foreground">
              é›»è©±ç•ªå· <Badge variant="secondary" className="ml-1 text-xs">ä»»æ„</Badge>
            </Label>
            <div className="relative">
              <Phone className="absolute left-3 top-3 h-4 w-4 text-muted-foreground" />
              <Input
                id="phone"
                {...register("phone")}
                placeholder="03-1234-5678"
                className="pl-10 bg-background border-input focus:border-primary focus:ring-2 focus:ring-primary/20"
              />
            </div>
          </div>
        </form>

        <DialogFooter className="space-x-2 pt-4">
          <Button 
            variant="outline" 
            onClick={onClose}
            className="border-border hover:bg-secondary"
          >
            ã‚­ãƒ£ãƒ³ã‚»ãƒ«
          </Button>
          <Button 
            type="submit" 
            onClick={handleSubmit(handleFormSubmit)}
            className="bg-primary hover:bg-primary/90 text-primary-foreground shadow-md hover:shadow-lg transition-all"
          >
            ä¿å­˜
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
};
```

**é«˜åº¦ãªç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:**
```typescript
// components/AdvancedConfirmModal.tsx
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { AlertTriangle, Trash2, CheckCircle, XCircle } from "lucide-react";

interface ConfirmModalProps {
  isOpen: boolean;
  onClose: () => void;
  onConfirm: () => void;
  title: string;
  message: string;
  type?: 'danger' | 'warning' | 'info' | 'success';
  confirmText?: string;
  cancelText?: string;
}

export const AdvancedConfirmModal: React.FC<ConfirmModalProps> = ({
  isOpen,
  onClose,
  onConfirm,
  title,
  message,
  type = 'info',
  confirmText = 'ç¢ºèª',
  cancelText = 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'
}) => {
  const iconMap = {
    danger: Trash2,
    warning: AlertTriangle,
    info: CheckCircle,
    success: CheckCircle,
  };

  const colorMap = {
    danger: 'text-error-500',
    warning: 'text-warning-500',
    info: 'text-primary',
    success: 'text-success-500',
  };

  const bgColorMap = {
    danger: 'bg-error-50 dark:bg-error-950',
    warning: 'bg-warning-50 dark:bg-warning-950',
    info: 'bg-primary/10',
    success: 'bg-success-50 dark:bg-success-950',
  };

  const Icon = iconMap[type];

  const handleConfirm = () => {
    onConfirm();
    onClose();
  };

  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent className="sm:max-w-md bg-card border-border shadow-xl">
        <DialogHeader className="space-y-4">
          <div className={`mx-auto w-12 h-12 rounded-full ${bgColorMap[type]} flex items-center justify-center`}>
            <Icon className={`h-6 w-6 ${colorMap[type]}`} />
          </div>
          <DialogTitle className="text-center text-lg font-semibold text-foreground">
            {title}
          </DialogTitle>
          <DialogDescription className="text-center text-muted-foreground">
            {message}
          </DialogDescription>
        </DialogHeader>

        <DialogFooter className="space-x-2 pt-4">
          <Button 
            variant="outline" 
            onClick={onClose}
            className="flex-1 border-border hover:bg-secondary"
          >
            {cancelText}
          </Button>
          <Button 
            variant={type === 'danger' ? 'destructive' : 'default'}
            onClick={handleConfirm}
            className="flex-1 shadow-md hover:shadow-lg transition-all"
          >
            {confirmText}
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
};
```

### ãƒ¢ãƒ¼ãƒ€ãƒ«ä½¿ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

**æ¨å¥¨ã•ã‚Œã‚‹ä½¿ç”¨å ´é¢:**
- âœ… ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼ˆå‰Šé™¤ç¢ºèªã€ä¿å­˜ç¢ºèªãªã©ï¼‰
- âœ… ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ï¼ˆæ–°è¦ä½œæˆã€ç·¨é›†ãªã©ï¼‰
- âœ… è©³ç´°æƒ…å ±è¡¨ç¤º
- âœ… è¨­å®šç”»é¢
- âœ… ç”»åƒãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

**é¿ã‘ã‚‹ã¹ãä½¿ç”¨:**
- âŒ ãƒ–ãƒ©ã‚¦ã‚¶ã® `window.alert()`
- âŒ ãƒ–ãƒ©ã‚¦ã‚¶ã® `window.confirm()`
- âŒ ãƒ–ãƒ©ã‚¦ã‚¶ã® `window.prompt()`
- âŒ æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦/ã‚¿ãƒ–ã§ã®è¡¨ç¤º

## ğŸŒ“ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ãƒ»ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ

### ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆã‚·ã‚¹ãƒ†ãƒ 

Code Apps ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šã®ãŸã‚ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ãƒ»ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã®åˆ‡ã‚Šæ›¿ãˆã‚’æ¨™æº–å®Ÿè£…ã—ã¾ã™ã€‚

#### ãƒ†ãƒ¼ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å®Ÿè£…

**ThemeContext ã®ä½œæˆ:**
```typescript
// contexts/ThemeContext.tsx
import React, { createContext, useContext, useEffect, useState } from 'react';

type Theme = 'dark' | 'light' | 'system';

type ThemeProviderProps = {
  children: React.ReactNode;
  defaultTheme?: Theme;
  storageKey?: string;
};

type ThemeProviderState = {
  theme: Theme;
  setTheme: (theme: Theme) => void;
};

const initialState: ThemeProviderState = {
  theme: 'system',
  setTheme: () => null,
};

const ThemeProviderContext = createContext<ThemeProviderState>(initialState);

export function ThemeProvider({
  children,
  defaultTheme = 'system',
  storageKey = 'code-app-ui-theme',
  ...props
}: ThemeProviderProps) {
  const [theme, setTheme] = useState<Theme>(
    () => (localStorage.getItem(storageKey) as Theme) || defaultTheme
  );

  useEffect(() => {
    const root = window.document.documentElement;

    root.classList.remove('light', 'dark');

    if (theme === 'system') {
      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)')
        .matches
        ? 'dark'
        : 'light';

      root.classList.add(systemTheme);
      return;
    }

    root.classList.add(theme);
  }, [theme]);

  const value = {
    theme,
    setTheme: (theme: Theme) => {
      localStorage.setItem(storageKey, theme);
      setTheme(theme);
    },
  };

  return (
    <ThemeProviderContext.Provider {...props} value={value}>
      {children}
    </ThemeProviderContext.Provider>
  );
}

export const useTheme = () => {
  const context = useContext(ThemeProviderContext);

  if (context === undefined)
    throw new Error('useTheme must be used within a ThemeProvider');

  return context;
};
```

**ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:**
```typescript
// components/ThemeToggle.tsx
import { Moon, Sun } from "lucide-react";
import { Button } from "@/components/ui/button";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { useTheme } from "@/contexts/ThemeContext";

export function ThemeToggle() {
  const { setTheme } = useTheme();

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="outline" size="icon">
          <Sun className="h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0" />
          <Moon className="absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100" />
          <span className="sr-only">ãƒ†ãƒ¼ãƒã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹</span>
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent align="end">
        <DropdownMenuItem onClick={() => setTheme("light")}>
          ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => setTheme("dark")}>
          ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => setTheme("system")}>
          ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã«å¾“ã†
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}
```

**App.tsx ã§ã®çµ±åˆ:**
```typescript
// App.tsx
import { ThemeProvider } from "@/contexts/ThemeContext";
import { Toaster } from "@/components/ui/toaster";
import { Toaster as Sonner } from "@/components/ui/sonner";
import { TooltipProvider } from "@/components/ui/tooltip";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import Index from "./pages/Index";

const queryClient = new QueryClient();

const App = () => (
  <ThemeProvider defaultTheme="system" storageKey="code-app-ui-theme">
    <QueryClientProvider client={queryClient}>
      <TooltipProvider>
        <div className="min-h-screen bg-background text-foreground">
          <Toaster />
          <Sonner />
          <Index />
        </div>
      </TooltipProvider>
    </QueryClientProvider>
  </ThemeProvider>
);

export default App;
```

### CSS å¤‰æ•°ã«ã‚ˆã‚‹ãƒ†ãƒ¼ãƒå®šç¾©

**globals.css ã§ã®ãƒ†ãƒ¼ãƒè¨­å®š:**
```css
/* globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 84% 4.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 222.2 84% 4.9%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 94.1%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}
```

**Tailwind Config ã§ã®ãƒ†ãƒ¼ãƒè¨­å®š:**
```javascript
// tailwind.config.js
module.exports = {
  darkMode: ["class"],
  content: [
    './pages/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}',
    './app/**/*.{ts,tsx}',
    './src/**/*.{ts,tsx}',
  ],
  theme: {
    extend: {
      colors: {
        border: "hsl(var(--border))",
        input: "hsl(var(--input))",
        ring: "hsl(var(--ring))",
        background: "hsl(var(--background))",
        foreground: "hsl(var(--foreground))",
        primary: {
          DEFAULT: "hsl(var(--primary))",
          foreground: "hsl(var(--primary-foreground))",
        },
        secondary: {
          DEFAULT: "hsl(var(--secondary))",
          foreground: "hsl(var(--secondary-foreground))",
        },
        destructive: {
          DEFAULT: "hsl(var(--destructive))",
          foreground: "hsl(var(--destructive-foreground))",
        },
        muted: {
          DEFAULT: "hsl(var(--muted))",
          foreground: "hsl(var(--muted-foreground))",
        },
        accent: {
          DEFAULT: "hsl(var(--accent))",
          foreground: "hsl(var(--accent-foreground))",
        },
        popover: {
          DEFAULT: "hsl(var(--popover))",
          foreground: "hsl(var(--popover-foreground))",
        },
        card: {
          DEFAULT: "hsl(var(--card))",
          foreground: "hsl(var(--card-foreground))",
        },
      },
    },
  },
  plugins: [require("tailwindcss-animate")],
}
```

### ãƒ†ãƒ¼ãƒå¯¾å¿œã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

**å¿…é ˆå®Ÿè£…é …ç›®:**
- [ ] ThemeProvider ã‚’ã‚¢ãƒ—ãƒªã®ãƒ«ãƒ¼ãƒˆã«é…ç½®
- [ ] ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ã‚’ãƒ˜ãƒƒãƒ€ãƒ¼ã«é…ç½®
- [ ] ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ãƒ»ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ãƒ»ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã®3ã¤ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- [ ] ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã‚’ä¿å­˜
- [ ] CSSå¤‰æ•°ãƒ™ãƒ¼ã‚¹ã®ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ 

**æ¨å¥¨è¨­å®š:**
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã«å¾“ã†
- åˆ‡ã‚Šæ›¿ãˆ: ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼å½¢å¼
- ã‚¢ã‚¤ã‚³ãƒ³: Sun (ãƒ©ã‚¤ãƒˆ) / Moon (ãƒ€ãƒ¼ã‚¯)
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³: smooth transition

## ğŸ¨ ãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

### ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

æœ€æ–°ã®UXãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å–ã‚Šå…¥ã‚ŒãŸã€Power Apps Code Appså°‚ç”¨ã®ãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ãƒ»ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰å¯¾å¿œã€ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚’çµ±åˆã—ã¦ã„ã¾ã™ã€‚

### ãƒ‡ã‚¶ã‚¤ãƒ³åŸå‰‡
1. **ã‚·ãƒ³ãƒ—ãƒªã‚·ãƒ†ã‚£**: ç›´æ„Ÿçš„ã§ç†è§£ã—ã‚„ã™ã„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
2. **ä¸€è²«æ€§**: çµ±ä¸€ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³è¨€èªã¨ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ 
3. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 AAæº–æ‹ ã€ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
4. **ãƒ¢ãƒ¼ãƒ€ãƒ«ä¸­å¿ƒè¨­è¨ˆ**: ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ä¸ä½¿ç”¨ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
5. **ãƒ†ãƒ¼ãƒé©å¿œæ€§**: ãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ãƒ»ã‚·ã‚¹ãƒ†ãƒ è¨­å®šå¯¾å¿œ
6. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: ã‚ã‚‰ã‚†ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã§æœ€é©åŒ–
7. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: é«˜é€Ÿèª­ã¿è¾¼ã¿ã¨ã‚¹ãƒ ãƒ¼ã‚ºãªæ“ä½œ

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

#### 1. ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/layout/MainLayout.tsx
import React, { useState } from 'react';
import { 
  FluentProvider, 
  webLightTheme,
  makeStyles,
  tokens
} from '@fluentui/react-components';
import { Sidebar } from './Sidebar';
import { Header } from './Header';
import { Navigation24Regular } from '@fluentui/react-icons';

const useStyles = makeStyles({
  root: {
    display: 'grid',
    gridTemplateColumns: 'auto 1fr',
    gridTemplateRows: '60px 1fr',
    gridTemplateAreas: `
      "sidebar header"
      "sidebar main"
    `,
    minHeight: '100vh',
    fontFamily: tokens.fontFamilyBase,
    backgroundColor: tokens.colorNeutralBackground1,
  },
  sidebarCollapsed: {
    gridTemplateColumns: '60px 1fr',
  },
  header: {
    gridArea: 'header',
    backgroundColor: tokens.colorNeutralBackground2,
    borderBottom: `1px solid ${tokens.colorNeutralStroke2}`,
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'space-between',
    padding: '0 24px',
    zIndex: 1000,
  },
  sidebar: {
    gridArea: 'sidebar',
    backgroundColor: tokens.colorNeutralBackground2,
    borderRight: `1px solid ${tokens.colorNeutralStroke2}`,
    transition: 'width 0.3s ease',
    zIndex: 999,
  },
  main: {
    gridArea: 'main',
    padding: '24px',
    overflow: 'auto',
    backgroundColor: tokens.colorNeutralBackground1,
  },
  hamburger: {
    display: 'none',
    '@media (max-width: 768px)': {
      display: 'block',
    },
  },
  mobileOverlay: {
    position: 'fixed',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    backgroundColor: 'rgba(0, 0, 0, 0.5)',
    zIndex: 998,
    display: 'none',
    '@media (max-width: 768px)': {
      display: 'block',
    },
  },
});

interface MainLayoutProps {
  children: React.ReactNode;
}

export const MainLayout: React.FC<MainLayoutProps> = ({ children }) => {
  const styles = useStyles();
  const [isSidebarOpen, setIsSidebarOpen] = useState(true);
  const [isMobile, setIsMobile] = useState(false);

  React.useEffect(() => {
    const checkMobile = () => {
      setIsMobile(window.innerWidth <= 768);
    };
    
    checkMobile();
    window.addEventListener('resize', checkMobile);
    return () => window.removeEventListener('resize', checkMobile);
  }, []);

  const toggleSidebar = () => {
    setIsSidebarOpen(!isSidebarOpen);
  };

  return (
    <FluentProvider theme={webLightTheme}>
      <div className={`${styles.root} ${!isSidebarOpen ? styles.sidebarCollapsed : ''}`}>
        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
        <header className={styles.header}>
          <Header 
            onToggleSidebar={toggleSidebar}
            isSidebarOpen={isSidebarOpen}
          />
        </header>

        {/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */}
        <aside className={styles.sidebar}>
          <Sidebar 
            isOpen={isSidebarOpen}
            onClose={() => isMobile && setIsSidebarOpen(false)}
          />
        </aside>

        {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
        <main className={styles.main}>
          {children}
        </main>

        {/* ãƒ¢ãƒã‚¤ãƒ«ç”¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */}
        {isMobile && isSidebarOpen && (
          <div 
            className={styles.mobileOverlay}
            onClick={() => setIsSidebarOpen(false)}
          />
        )}
      </div>
    </FluentProvider>
  );
};
```

#### 2. ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆçµ±åˆ)

```tsx
// src/components/layout/Header.tsx
import React from 'react';
import { Button } from '@/components/ui/button';
import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';
import { ThemeToggle } from '@/components/ThemeToggle';
import { 
  Navigation24Regular,
  Person24Regular,
  Settings24Regular,
  SignOut24Regular
} from '@fluentui/react-icons';

interface HeaderProps {
  onToggleSidebar: () => void;
  isSidebarOpen: boolean;
}

export const Header: React.FC<HeaderProps> = ({
  onToggleSidebar,
  isSidebarOpen
}) => {
  return (
    <header className="flex items-center justify-between w-full h-16 px-6 bg-card border-b border-border">
      <div className="flex items-center space-x-4">
        <Button
          variant="ghost"
          size="icon"
          onClick={onToggleSidebar}
          className="md:hidden"
        >
          <Navigation24Regular />
        </Button>
        <h1 className="text-xl font-semibold text-foreground">
          Code Apps ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
        </h1>
      </div>

      <div className="flex items-center space-x-4">
        {/* ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ */}
        <ThemeToggle />
        
        {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒã‚¿ãƒ¼ */}
        <Avatar className="h-8 w-8">
          <AvatarImage src="/placeholder-avatar.jpg" alt="User" />
          <AvatarFallback>U</AvatarFallback>
        </Avatar>
      </div>
    </header>
  );
};
    alignItems: 'center',
    gap: '16px',
  },
  rightSection: {
    display: 'flex',
    alignItems: 'center',
    gap: '12px',
  },
  logo: {
    fontSize: tokens.fontSizeBase500,
    fontWeight: tokens.fontWeightSemibold,
    color: tokens.colorBrandForeground1,
  },
  userMenu: {
    padding: '8px 0',
  },
  menuItem: {
    width: '100%',
    justifyContent: 'flex-start',
    gap: '8px',
  },
});

interface HeaderProps {
  onToggleSidebar: () => void;
  isSidebarOpen: boolean;
}

export const Header: React.FC<HeaderProps> = ({ onToggleSidebar, isSidebarOpen }) => {
  const styles = useStyles();

  return (
    <div className={styles.header}>
      <div className={styles.leftSection}>
        <Button 
          appearance="subtle" 
          icon={<Navigation24Regular />}
          onClick={onToggleSidebar}
          aria-label={isSidebarOpen ? "ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‰ã˜ã‚‹" : "ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‹ã"}
        />
        <Text className={styles.logo}>Power Apps Code Apps</Text>
      </div>

      <div className={styles.rightSection}>
        <Popover>
          <PopoverTrigger disableButtonEnhancement>
            <Button 
              appearance="subtle"
              icon={<Avatar name="User" size={32} />}
              aria-label="ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼"
            />
          </PopoverTrigger>
          <PopoverSurface>
            <div className={styles.userMenu}>
              <Button 
                className={styles.menuItem}
                appearance="subtle"
                icon={<Person24Regular />}
              >
                ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
              </Button>
              <Button 
                className={styles.menuItem}
                appearance="subtle"
                icon={<Settings24Regular />}
              >
                è¨­å®š
              </Button>
              <Button 
                className={styles.menuItem}
                appearance="subtle"
                icon={<SignOut24Regular />}
              >
                ã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆ
              </Button>
            </div>
          </PopoverSurface>
        </Popover>
      </div>
    </div>
  );
};
```

#### 3. ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/layout/Sidebar.tsx
import React from 'react';
import {
  Button,
  Text,
  makeStyles,
  tokens
} from '@fluentui/react-components';
import {
  Home24Regular,
  Home24Filled,
  DataTrending24Regular,
  DataTrending24Filled,
  People24Regular,
  People24Filled,
  Settings24Regular,
  Settings24Filled,
  bundleIcon
} from '@fluentui/react-icons';

const HomeIcon = bundleIcon(Home24Filled, Home24Regular);
const AnalyticsIcon = bundleIcon(DataTrending24Filled, DataTrending24Regular);
const UsersIcon = bundleIcon(People24Filled, People24Regular);
const SettingsIcon = bundleIcon(Settings24Filled, Settings24Regular);

const useStyles = makeStyles({
  sidebar: {
    width: '280px',
    height: '100vh',
    padding: '16px 0',
    display: 'flex',
    flexDirection: 'column',
    transition: 'width 0.3s ease',
  },
  sidebarCollapsed: {
    width: '60px',
  },
  nav: {
    display: 'flex',
    flexDirection: 'column',
    gap: '4px',
    padding: '0 8px',
  },
  navItem: {
    width: '100%',
    justifyContent: 'flex-start',
    gap: '12px',
    padding: '12px 16px',
    borderRadius: tokens.borderRadiusMedium,
    '&:hover': {
      backgroundColor: tokens.colorNeutralBackground1Hover,
    },
  },
  navItemActive: {
    backgroundColor: tokens.colorBrandBackground2,
    color: tokens.colorBrandForeground2,
    '&:hover': {
      backgroundColor: tokens.colorBrandBackground2Hover,
    },
  },
  navItemText: {
    fontSize: tokens.fontSizeBase300,
    fontWeight: tokens.fontWeightMedium,
  },
  footer: {
    marginTop: 'auto',
    padding: '16px',
    borderTop: `1px solid ${tokens.colorNeutralStroke2}`,
  },
});

interface SidebarProps {
  isOpen: boolean;
  onClose?: () => void;
}

interface NavItem {
  id: string;
  label: string;
  icon: React.ComponentType;
  href?: string;
  active?: boolean;
}

const navigationItems: NavItem[] = [
  { id: 'home', label: 'ãƒ›ãƒ¼ãƒ ', icon: HomeIcon, href: '/', active: true },
  { id: 'analytics', label: 'ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹', icon: AnalyticsIcon, href: '/analytics' },
  { id: 'users', label: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼', icon: UsersIcon, href: '/users' },
  { id: 'settings', label: 'è¨­å®š', icon: SettingsIcon, href: '/settings' },
];

export const Sidebar: React.FC<SidebarProps> = ({ isOpen, onClose }) => {
  const styles = useStyles();

  return (
    <div className={`${styles.sidebar} ${!isOpen ? styles.sidebarCollapsed : ''}`}>
      <nav className={styles.nav}>
        {navigationItems.map((item) => (
          <Button
            key={item.id}
            className={`${styles.navItem} ${item.active ? styles.navItemActive : ''}`}
            appearance="subtle"
            icon={<item.icon />}
            onClick={onClose}
          >
            {isOpen && (
              <Text className={styles.navItemText}>
                {item.label}
              </Text>
            )}
          </Button>
        ))}
      </nav>
      
      {isOpen && (
        <div className={styles.footer}>
          <Text size={200}>
            Â© 2025 Power Apps Code Apps
          </Text>
        </div>
      )}
    </div>
  );
};
```

### ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³å®šç¾©

#### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ

```scss
// src/styles/design-tokens.scss
:root {
  /* Primary Colors */
  --color-primary-50: #e6f3ff;
  --color-primary-100: #b3daff;
  --color-primary-500: #0078d4;
  --color-primary-600: #106ebe;
  --color-primary-900: #003a5c;

  /* Neutral Colors */
  --color-neutral-50: #fafafa;
  --color-neutral-100: #f5f5f5;
  --color-neutral-200: #eeeeee;
  --color-neutral-500: #737373;
  --color-neutral-900: #171717;

  /* Semantic Colors */
  --color-success: #107c10;
  --color-warning: #ff8c00;
  --color-error: #d13438;
  --color-info: #0078d4;

  /* Spacing Scale */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;

  /* Typography Scale */
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-md: 16px;
  --font-size-lg: 18px;
  --font-size-xl: 20px;
  --font-size-2xl: 24px;
  --font-size-3xl: 32px;

  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
}
```

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

#### ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆå®šç¾©

```typescript
// src/utils/breakpoints.ts
export const breakpoints = {
  xs: '0px',      // Extra small devices
  sm: '576px',    // Small devices (landscape phones)
  md: '768px',    // Medium devices (tablets)
  lg: '992px',    // Large devices (desktops)
  xl: '1200px',   // Extra large devices (large desktops)
  xxl: '1400px'   // Extra extra large devices
} as const;

export const mediaQueries = {
  xs: `(min-width: ${breakpoints.xs})`,
  sm: `(min-width: ${breakpoints.sm})`,
  md: `(min-width: ${breakpoints.md})`,
  lg: `(min-width: ${breakpoints.lg})`,
  xl: `(min-width: ${breakpoints.xl})`,
  xxl: `(min-width: ${breakpoints.xxl})`,
} as const;
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

```tsx
// src/hooks/useResponsive.ts
import { useState, useEffect } from 'react';
import { breakpoints } from '../utils/breakpoints';

export const useResponsive = () => {
  const [screenSize, setScreenSize] = useState<keyof typeof breakpoints>('lg');

  useEffect(() => {
    const getScreenSize = (): keyof typeof breakpoints => {
      const width = window.innerWidth;
      if (width < 576) return 'xs';
      if (width < 768) return 'sm';
      if (width < 992) return 'md';
      if (width < 1200) return 'lg';
      if (width < 1400) return 'xl';
      return 'xxl';
    };

    const handleResize = () => {
      setScreenSize(getScreenSize());
    };

    handleResize();
    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
  }, []);

  return {
    screenSize,
    isMobile: screenSize === 'xs' || screenSize === 'sm',
    isTablet: screenSize === 'md',
    isDesktop: screenSize === 'lg' || screenSize === 'xl' || screenSize === 'xxl',
  };
};
```

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

#### 1. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

```tsx
// src/components/common/AccessibleButton.tsx
import React from 'react';
import { Button, ButtonProps } from '@fluentui/react-components';

interface AccessibleButtonProps extends ButtonProps {
  ariaLabel?: string;
  ariaDescription?: string;
}

export const AccessibleButton: React.FC<AccessibleButtonProps> = ({
  ariaLabel,
  ariaDescription,
  children,
  ...props
}) => {
  return (
    <Button
      aria-label={ariaLabel}
      aria-describedby={ariaDescription}
      {...props}
    >
      {children}
    </Button>
  );
};
```

#### 2. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ

```tsx
// src/components/common/SkipLink.tsx
import React from 'react';
import { makeStyles } from '@fluentui/react-components';

const useStyles = makeStyles({
  skipLink: {
    position: 'absolute',
    top: '-40px',
    left: '6px',
    backgroundColor: '#000',
    color: '#fff',
    padding: '8px',
    zIndex: 9999,
    textDecoration: 'none',
    '&:focus': {
      top: '6px',
    },
  },
});

export const SkipLink: React.FC = () => {
  const styles = useStyles();

  return (
    <a href="#main-content" className={styles.skipLink}>
      ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã‚¹ã‚­ãƒƒãƒ—
    </a>
  );
};
```

---

## å¿…é ˆå®Ÿè£…è¦ä»¶

### 1. æ­£å¼ãªPowerProvider ã®å®Ÿè£…
**Microsoftå…¬å¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ãPowerProvider:**

```typescript
// src/PowerProvider.tsx
import { initialize } from "@microsoft/power-apps/app";
import { useEffect, type ReactNode } from "react";

interface PowerProviderProps {
  children: ReactNode;
}

export default function PowerProvider({ children }: PowerProviderProps) {
  useEffect(() => {
    const initApp = async () => {
      try {
        await initialize();
        console.log('Power Platform SDK initialized successfully');
      } catch (error) {
        console.error('Failed to initialize Power Platform SDK:', error);
      }
    };
    
    initApp();
  }, []);

  return <>{children}</>;
}
```

**FluentUIã¨ã®çµ„ã¿åˆã‚ã›ï¼ˆæ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰:**

```typescript
// src/App.tsx
import { FluentProvider, webLightTheme, webDarkTheme } from '@fluentui/react-components';

const App = () => {
  const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const theme = prefersDarkMode ? webDarkTheme : webLightTheme;

  return (
    <FluentProvider theme={theme}>
      {/* ã‚¢ãƒ—ãƒªã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
    </FluentProvider>
  );
};
```

### 2. ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã®æœ€é©åŒ–
```typescript
// src/index.tsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import PowerProvider from './PowerProvider';

const root = ReactDOM.createRoot(
  document.getElementById('root') as HTMLElement
);

// Power Appsç’°å¢ƒã§ã¯ React.StrictMode ã‚’æ¡ä»¶ä»˜ãã§ä½¿ç”¨
const isDevelopment = process.env.NODE_ENV === 'development';

root.render(
  isDevelopment ? (
    <React.StrictMode>
      <PowerProvider>
        <App />
      </PowerProvider>
    </React.StrictMode>
  ) : (
    <PowerProvider>
      <App />
    </PowerProvider>
  )
);
```

### 3. Webpackè¨­å®šã®æœ€é©åŒ–

#### é‡è¦ãªè¨­å®šé …ç›®
```javascript
module.exports = (env, argv) => {
  const isProduction = argv.mode === 'production';
  
  return {
    output: {
      publicPath: './',  // Power Appsç’°å¢ƒã§ã¯ './' ãŒå¿…é ˆ
      clean: true,
      filename: isProduction ? 'static/js/[name].[contenthash].js' : 'bundle.js',
      chunkFilename: isProduction ? 'static/js/[name].[contenthash].chunk.js' : '[name].chunk.js',
    },
    optimization: {
      splitChunks: isProduction ? {
        cacheGroups: {
          react: {
            test: /[\\/]node_modules[\\/](react|react-dom)[\\/]/,
            name: 'react',
            priority: 10,
            chunks: 'all',
          },
          fluentui: {
            test: /[\\/]node_modules[\\/]@fluentui[\\/]/,
            name: 'fluentui',
            priority: 20,
            chunks: 'all',
          }
        }
      } : false,
    },
    performance: {
      maxEntrypointSize: 512000,  // 512KBåˆ¶é™
      maxAssetSize: 512000,
    }
  };
};
```

### 4. å¿…é ˆä¾å­˜é–¢ä¿‚

**Power Apps SDK (å¿…é ˆ):**

```json
{
  "dependencies": {
    "@microsoft/power-apps": "latest"
  }
}
```

**UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (æ¨å¥¨):**

```json
{
  "dependencies": {
    "@fluentui/react-components": "^9.64.0",
    "@fluentui/react-icons": "^2.0.281",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  }
}
```

**âš ï¸é‡è¦**: React 19ã¯ç¾æ™‚ç‚¹ã§Power Platform SDKã¨äº’æ›æ€§ã®å•é¡ŒãŒã‚ã‚‹ãŸã‚ã€React 18.2.0ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

### 5. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã¨ãƒ•ã‚¡ã‚¤ãƒ«

**åŸºæœ¬æ§‹é€  (Microsoftå…¬å¼æ¨å¥¨):**

```
your-code-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ PowerProvider.tsx    # Power Apps SDKåˆæœŸåŒ– (å¿…é ˆ)
â”‚   â”œâ”€â”€ App.tsx              # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ main.tsx             # ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ power.config.json        # Power Appsè¨­å®š (è‡ªå‹•ç”Ÿæˆ)
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

**power.config.json (pac code initã§è‡ªå‹•ç”Ÿæˆ):**

```json
{
  "appId": "generated-by-pac-code-init",
  "appDisplayName": "ã‚¢ãƒ—ãƒªå",
  "description": "ã‚¢ãƒ—ãƒªã®èª¬æ˜",
  "environmentId": "environment-id",
  "buildPath": "./dist",
  "buildEntryPoint": "index.html"
}
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºç®¡ç†
- **ç›®æ¨™**: åˆè¨ˆãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º < 300KB
- **åˆ†æ**: `npm run analyze` ã§ãƒãƒ³ãƒ‰ãƒ«åˆ†æã‚’å®Ÿè¡Œ
- **ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²**: Reactã€FluentUIã€ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰ã‚’åˆ†é›¢

### ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```json
{
  "scripts": {
    "build": "webpack --mode production --stats-children",
    "build:dev": "webpack --mode development",
    "analyze": "webpack-bundle-analyzer build/static/js/*.js"
  }
}
```

## æ¨™æº–é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ï¼ˆMicrosoftå…¬å¼æ‰‹é †ï¼‰

**PowerAppsCodeAppsãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³:**

```bash
git clone https://github.com/microsoft/PowerAppsCodeApps.git
cd PowerAppsCodeApps/samples/HelloWorld
```

**ã¾ãŸã¯æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:**

```bash
# ç’°å¢ƒèªè¨¼
pac auth create --environment {environment-id}

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# Power Apps CodeåˆæœŸåŒ–
pac code init --displayName 'Your App Name'
```

### 2. é–‹ç™ºã‚µã‚¤ã‚¯ãƒ«ï¼ˆæ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º
npm run dev | pac code run

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build

# Power Appsã«ãƒ‡ãƒ—ãƒ­ã‚¤
pac code push
```

### 3. å“è³ªç®¡ç†ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

```bash
# TypeScriptå‹ãƒã‚§ãƒƒã‚¯
tsc --noEmit

# ãƒªãƒ³ãƒ†ã‚£ãƒ³ã‚°
eslint .

# ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºåˆ†æ
npm run analyze
```

# ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ãƒ»ãƒ‡ãƒãƒƒã‚°æ‰‹æ³• (AIæ´»ç”¨)

## åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆç¨®åˆ¥ã¨å®Ÿè£…æ–¹é‡

```mermaid
graph TD
    A[è¦ä»¶å®šç¾©] --> B[ãƒ†ã‚¹ãƒˆè¨ˆç”»ç­–å®š]
    B --> C[å˜ä½“ãƒ†ã‚¹ãƒˆè¨­è¨ˆ]
    C --> D[çµ±åˆãƒ†ã‚¹ãƒˆè¨­è¨ˆ]  
    D --> E[E2Eãƒ†ã‚¹ãƒˆè¨­è¨ˆ]
    E --> F[ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ]
    F --> G[ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ]
    G --> H[ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ]
    H --> I[AIæ”¯æ´ãƒ†ã‚¹ãƒˆ]
    I --> J[æœ¬ç•ªç›£è¦–]
```

### 1. AIæ”¯æ´ãƒ†ã‚¹ãƒˆç”Ÿæˆ

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è‡ªå‹•ç”Ÿæˆ
```typescript
// src/utils/ai-test-generator.ts
import { OpenAI } from 'openai';

interface TestGeneratorConfig {
  componentPath: string;
  functionalRequirements: string[];
  edgeCases: string[];
}

export class AITestGenerator {
  private openai: OpenAI;

  constructor(apiKey: string) {
    this.openai = new OpenAI({ apiKey });
  }

  async generateTestCases(config: TestGeneratorConfig): Promise<string> {
    const prompt = `
    Generate comprehensive Jest test cases for a React component:
    
    Component: ${config.componentPath}
    Requirements: ${config.functionalRequirements.join(', ')}
    Edge Cases: ${config.edgeCases.join(', ')}
    
    Include render, interaction, accessibility, and performance tests.
    Use React Testing Library patterns.
    `;

    const response = await this.openai.chat.completions.create({
      model: "gpt-4",
      messages: [{ role: "user", content: prompt }],
      temperature: 0.3,
    });

    return response.choices[0].message.content || '';
  }
}
```

### 2. å˜ä½“ãƒ†ã‚¹ãƒˆè¨­å®š (Jest + RTL)

```javascript
// jest.config.js
module.exports = {
  testEnvironment: 'jsdom',
  setupFilesAfterEnv: ['<rootDir>/src/setupTests.ts'],
  collectCoverageFrom: [
    'src/**/*.{ts,tsx}',
    '!src/**/*.d.ts',
    '!src/index.tsx',
  ],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
};
```

### 3. E2Eãƒ†ã‚¹ãƒˆ (Playwright)

```typescript
// e2e/app.spec.ts
import { test, expect } from '@playwright/test';

test('main user journey', async ({ page }) => {
  await page.goto('/');
  
  // ã‚¢ãƒ—ãƒªèª­ã¿è¾¼ã¿ç¢ºèª
  await expect(page.locator('h1')).toContainText('Power Apps Code Apps');
  
  // ã‚µã‚¤ãƒ‰ãƒãƒ¼æ“ä½œ
  await page.click('[aria-label*="ã‚µã‚¤ãƒ‰ãƒãƒ¼"]');
  await expect(page.locator('nav')).toBeVisible();
  
  // ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ†ã‚¹ãƒˆ
  await page.setViewportSize({ width: 375, height: 667 });
  await expect(page.locator('[class*="mobileOverlay"]')).toBeVisible();
});
```

### 4. AIæ”¯æ´ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«

```typescript
// src/utils/ai-debugger.ts
export class AIDebugger {
  async analyzeError(error: Error, context: any): Promise<string> {
    const prompt = `
    Analyze this error for Power Apps Code Apps:
    Error: ${error.message}
    Context: ${JSON.stringify(context)}
    
    Provide root cause and solution steps.
    `;

    return await this.callAIAPI(prompt);
  }

  static logPowerPlatformInfo() {
    console.group('ğŸ” Power Platform Debug Info');
    console.log('SDK Initialized:', window.powerApps?.initialized || false);
    console.log('Environment:', process.env.NODE_ENV);
    console.log('Bundle Size:', performance.getEntriesByType('resource').length);
    console.groupEnd();
  }
}
```

### 5. ãƒ‡ãƒãƒƒã‚°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### é–‹ç™ºæ™‚ãƒ‡ãƒãƒƒã‚°æ‰‹é †
- [ ] PowerProvider ã®åˆæœŸåŒ–ç¢ºèª
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºåˆ†æ (< 300KBç›®æ¨™)
- [ ] React Strict Mode ç„¡åŠ¹åŒ–
- [ ] webpack publicPath è¨­å®šç¢ºèª
- [ ] æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯

#### æœ¬ç•ªç’°å¢ƒãƒ‡ãƒãƒƒã‚°
- [ ] ãƒ–ãƒ©ã‚¦ã‚¶é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç¢ºèª
- [ ] Power Appsç’°å¢ƒã§ã®ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œãƒ†ã‚¹ãƒˆ  
- [ ] Application Insights ãƒ­ã‚°ç¢ºèª
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ç›£è¦–

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

#### 1. "App timed out" ã‚¨ãƒ©ãƒ¼
**åŸå› **: ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã™ãã‚‹ã€ã¾ãŸã¯PowerProviderãŒä¸è¶³
**è§£æ±ºç­–**: 
- PowerProviderã‚’å®Ÿè£…
- webpackè¨­å®šã§ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã‚’æœ‰åŠ¹åŒ–
- ä¸è¦ãªä¾å­˜é–¢ä¿‚ã‚’å‰Šé™¤

#### 2. "Fetching your app" ã§åœæ­¢
**åŸå› **: publicPathè¨­å®šãŒé–“é•ã£ã¦ã„ã‚‹
**è§£æ±ºç­–**: webpack.config.js ã§ `publicPath: './'` ã‚’è¨­å®š

#### 3. CSS/ã‚¢ã‚»ãƒƒãƒˆãŒèª­ã¿è¾¼ã¾ã‚Œãªã„
**åŸå› **: ç›¸å¯¾ãƒ‘ã‚¹ã®è¨­å®šãƒŸã‚¹
**è§£æ±ºç­–**: ã™ã¹ã¦ã®ãƒ‘ã‚¹ã‚’ç›¸å¯¾ãƒ‘ã‚¹ï¼ˆ`./`ï¼‰ã«çµ±ä¸€

### 4. React Strict Modeã®å•é¡Œ
**åŸå› **: æœ¬ç•ªç’°å¢ƒã§ã®ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯
**è§£æ±ºç­–**: æœ¬ç•ªç’°å¢ƒã§ã¯Strict Modeã‚’ç„¡åŠ¹åŒ–

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ã‚³ãƒ¼ãƒ‰å“è³ª
- TypeScriptã®å³å¯†ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨
- ESLintã¨Prettierã§ä¸€è²«ã—ãŸå“è³ªã‚’ç¶­æŒ
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é©åˆ‡ãªåˆ†å‰²

### UI/UX
- FluentUIã‚’ä½¿ç”¨ã—ã¦ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®å®Ÿè£…
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®è€ƒæ…®

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- ã‚³ãƒ¼ãƒ‰åˆ†å‰²ã¨ãƒ¬ã‚¤ã‚¸ãƒ¼ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®é˜²æ­¢
- ãƒ¡ãƒ¢åŒ–ã®é©åˆ‡ãªä½¿ç”¨

# ğŸš€ å“è³ªå‘ä¸Šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

## ç¶™ç¶šçš„å“è³ªæ”¹å–„ã‚·ã‚¹ãƒ†ãƒ 

### 1. AIæ”¯æ´ã‚³ãƒ¼ãƒ‰å“è³ªåˆ†æ

```typescript
// src/utils/ai-quality-analyzer.ts
export class AIQualityAnalyzer {
  async analyzeCodeQuality(filePath: string, content: string): Promise<QualityReport> {
    const prompt = `
    Analyze this TypeScript/React code for Power Apps Code Apps:
    
    File: ${filePath}
    
    Focus on:
    1. Performance issues
    2. Security vulnerabilities  
    3. Accessibility concerns
    4. Power Apps compatibility
    5. Best practices adherence
    
    Return JSON with score and specific suggestions.
    `;
    
    const analysis = await this.callAIAPI(prompt);
    return JSON.parse(analysis);
  }

  async suggestRefactoring(code: string): Promise<string> {
    return await this.callAIAPI(`
      Suggest Power Apps Code Apps optimizations for:
      ${code}
      
      Focus on performance, maintainability, and Power Platform integration.
    `);
  }
}
```

### 2. è‡ªå‹•åŒ–ã•ã‚ŒãŸå“è³ªãƒã‚§ãƒƒã‚¯

#### GitHub Actionså“è³ªã‚²ãƒ¼ãƒˆ
```yaml
# .github/workflows/quality-gate.yml
name: Quality Gate

on:
  pull_request:
    branches: [main]

jobs:
  quality-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install & Test
        run: |
          npm ci
          npm run test -- --coverage --watchAll=false
          npm run lint
          npm run build
          
      - name: Bundle Analysis
        run: npm run analyze
        
      - name: Security Scan  
        run: npm audit --audit-level high
```

### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

```typescript
// src/utils/performance-monitor.ts
export class PerformanceMonitor {
  measureCustomMetric(name: string, fn: () => void) {
    const start = performance.now();
    fn();
    const duration = performance.now() - start;
    
    if (duration > 100) {
      console.warn(`ğŸŒ Slow operation: ${name} took ${duration}ms`);
    }
    
    // Application Insightsé€ä¿¡
    this.trackMetric(name, duration);
  }
  
  trackCoreWebVitals() {
    // LCP, FID, CLSç›£è¦–
    new PerformanceObserver((list) => {
      list.getEntries().forEach((entry) => {
        this.checkThresholds(entry);
      });
    }).observe({ entryTypes: ['largest-contentful-paint'] });
  }
  
  private checkThresholds(entry: PerformanceEntry) {
    const thresholds = {
      'largest-contentful-paint': 2500,
      'first-input-delay': 100
    };
    
    if (entry.startTime > thresholds[entry.name]) {
      this.alertPerformanceIssue(entry);
    }
  }
}
```

### 4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

```typescript
// src/utils/security-checker.ts
export class SecurityChecker {
  validateInput(input: string, type: 'email' | 'url' | 'text'): boolean {
    const patterns = {
      email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
      url: /^https?:\/\/[^\s$.?#].[^\s]*$/,
      text: /^[a-zA-Z0-9\s\-._]+$/
    };
    return patterns[type].test(input);
  }
  
  sanitizeHtml(html: string): string {
    const div = document.createElement('div');
    div.textContent = html;
    return div.innerHTML;
  }
  
  checkPowerAppsSecurityConfig() {
    // CSPè¨­å®šç¢ºèª
    if (!document.querySelector('meta[http-equiv="Content-Security-Policy"]')) {
      console.warn('ğŸ”’ CSP not configured');
    }
    
    // HTTPSç¢ºèª
    if (location.protocol !== 'https:' && location.hostname !== 'localhost') {
      console.error('ğŸ”’ HTTPS required');
    }
  }
}
```

### 5. å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹

#### ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] TypeScriptå‹å®‰å…¨æ€§
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ (80%ä»¥ä¸Š)
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å½±éŸ¿ç¢ºèª
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ¤œè¨¼
- [ ] Power Appså›ºæœ‰è¦ä»¶ç¢ºèª
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå½±éŸ¿è©•ä¾¡

#### å“è³ªã‚²ãƒ¼ãƒˆåŸºæº–
| é …ç›® | ç›®æ¨™å€¤ | å¿…é ˆ/æ¨å¥¨ |
|------|--------|-----------|
| ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ | 80%ä»¥ä¸Š | å¿…é ˆ |
| ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º | 300KBä»¥ä¸‹ | å¿…é ˆ |
| LCP | 2.5ç§’ä»¥ä¸‹ | æ¨å¥¨ |
| FID | 100msä»¥ä¸‹ | æ¨å¥¨ |
| Lighthouse Score | 90ä»¥ä¸Š | æ¨å¥¨ |

---

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- å…¥åŠ›å€¤ã®é©åˆ‡ãªæ¤œè¨¼
- XSSã®é˜²æ­¢
- é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç†è§£

### Power Apps Code Apps ã®æ§‹æˆè¦ç´ 

1. **Power Apps SDK** - `@microsoft/power-apps/app`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
2. **ç”Ÿæˆã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«/ã‚µãƒ¼ãƒ“ã‚¹** - ã‚³ãƒã‚¯ã‚¿ç”¨ã®è‡ªå‹•ç”Ÿæˆã‚³ãƒ¼ãƒ‰
3. **power.config.json** - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
4. **Power Apps ãƒ›ã‚¹ãƒˆ** - ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ç’°å¢ƒ

### ãƒ©ãƒ³ã‚¿ã‚¤ãƒ å‹•ä½œ

- **ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰** â†” **Power Apps SDK** â†” **Power Apps ãƒ›ã‚¹ãƒˆ**
- SDKãŒPower Platformã‚³ãƒã‚¯ã‚¿ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›
- ãƒ›ã‚¹ãƒˆãŒèªè¨¼ãƒ»æ‰¿èªãƒ»ã‚¢ãƒ—ãƒªèª­ã¿è¾¼ã¿ã‚’ç®¡ç†

## åˆ¶é™äº‹é …ãƒ»ã‚µãƒãƒ¼ãƒˆçŠ¶æ³ (Microsoft å…¬å¼ãƒ»2025å¹´ç¾åœ¨)

### âŒ **ç¾åœ¨ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„æ©Ÿèƒ½**

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ãƒãƒªã‚·ãƒ¼:**
- **Content Security Policy (CSP)** ã‚µãƒãƒ¼ãƒˆ
- **Storage Shared Access Signature (SAS) IPåˆ¶é™** ã‚µãƒãƒ¼ãƒˆ  

**é–‹ç™ºãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ:**
- **Power Platform Git çµ±åˆ**
- **Dataverse ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³** çµ±åˆ
- **Power Platform ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³** ä½¿ç”¨ã«ã‚ˆã‚‹é…å¸ƒ

**ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ çµ±åˆ:**
- **Power Apps ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª** ã§ã®å®Ÿè¡Œ
- **Power Apps for Windows** ã§ã®å®Ÿè¡Œ
- **Azure Application Insights** ãƒã‚¤ãƒ†ã‚£ãƒ–çµ±åˆ (æ±ç”¨Webã‚¢ãƒ—ãƒªã¨ã—ã¦ã¯è¿½åŠ å¯èƒ½)

**API ã‚¢ã‚¯ã‚»ã‚¹:**
- âœ… **Power Platform ã‚³ãƒã‚¯ã‚¿ãƒ¼å¤–éƒ¨API** å‘¼ã³å‡ºã—å¯èƒ½

### âœ… **ç®¡ç†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ©Ÿèƒ½ã‚µãƒãƒ¼ãƒˆçŠ¶æ³**

| ç®¡ç†æ©Ÿèƒ½ | ã‚µãƒãƒ¼ãƒˆçŠ¶æ³ | è©³ç´° |
|---------|-------------|------|
| **ã‚³ãƒã‚¯ã‚¿ãƒ¼æ¨©é™åŒæ„ãƒ€ã‚¤ã‚¢ãƒ­ã‚°** | âœ… å®Œå…¨ã‚µãƒãƒ¼ãƒˆ | ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤º |
| **å…±æœ‰åˆ¶é™** | âœ… Canvas ã‚¢ãƒ—ãƒªã¨åŒç­‰ | æ—¢å­˜ã®ã‚¢ãƒ—ãƒªå…±æœ‰åˆ¶é™ã‚’ç¶™æ‰¿ |
| **ã‚¢ãƒ—ãƒªæ¤œç–«** | âœ… å®Œå…¨ã‚µãƒãƒ¼ãƒˆ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ã«ã‚ˆã‚‹è‡ªå‹•æ¤œç–« |
| **ãƒ‡ãƒ¼ã‚¿æå¤±é˜²æ­¢ãƒãƒªã‚·ãƒ¼** | âœ… ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚é©ç”¨ | DLP ãƒãƒªã‚·ãƒ¼é•åæ™‚ã¯èµ·å‹•ãƒ–ãƒ­ãƒƒã‚¯ |
| **æ¡ä»¶ä»˜ãã‚¢ã‚¯ã‚»ã‚¹** | âœ… å€‹åˆ¥ã‚¢ãƒ—ãƒªå˜ä½ | ã‚¢ãƒ—ãƒªã”ã¨ã®ç´°ã‹ã„åˆ¶å¾¡ |
| **ç®¡ç†è€…åŒæ„æŠ‘åˆ¶** | âœ… OAuthå¯¾å¿œ | Microsoftãƒ»ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒã‚¯ã‚¿ãƒ¼ä¸¡å¯¾å¿œ |
| **ãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢** | âœ… å®Œå…¨ã‚µãƒãƒ¼ãƒˆ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¢ƒç•Œã®ç¶­æŒ |
| **Azure B2B å¤–éƒ¨ãƒ¦ãƒ¼ã‚¶ãƒ¼** | âœ… Canvas ã‚¢ãƒ—ãƒªã¨åŒç­‰ | å¤–éƒ¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ |
| **æ­£å¸¸æ€§ãƒ¡ãƒˆãƒªã‚¯ã‚¹** | âœ… ç®¡ç†ã‚»ãƒ³ã‚¿ãƒ¼ãƒ»ãƒ¡ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ã‚¿ãƒ«ä¸¡å¯¾å¿œ | é‹ç”¨ãƒ˜ãƒ«ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹æä¾› |

### ğŸ”’ **é‡è¦ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …**

**ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰å…¬é–‹æ€§:**
- Code Apps ã¯å…¬é–‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ãƒ›ã‚¹ãƒˆã•ã‚Œã¾ã™
- **æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰å†…ã«ä¿å­˜ç¦æ­¢**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¯é©åˆ‡ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã«ä¿å­˜
- èªè¨¼ãƒ»èªå¯ãƒã‚§ãƒƒã‚¯å¾Œã«ãƒ‡ãƒ¼ã‚¿å–å¾—å®Ÿè¡Œ

## ã‚·ã‚¹ãƒ†ãƒ è¨­å®š

### ãƒ˜ãƒƒãƒ€ãƒ¼éè¡¨ç¤ºæ©Ÿèƒ½

æœ¬ç•ªç’°å¢ƒã§Power Appsãƒ˜ãƒƒãƒ€ãƒ¼ã‚’éè¡¨ç¤ºã«ã™ã‚‹ï¼š

```
https://apps.powerapps.com/play/e/{environment-id}/a/{app-id}?hideNavBar=true
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

**é‡è¦**: ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰å†…ã«æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ãªã„ã§ãã ã•ã„ã€‚
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¯é©åˆ‡ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã«ä¿å­˜
- èªè¨¼ãƒ»æ‰¿èªãƒã‚§ãƒƒã‚¯å¾Œã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
- ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰ã¯å…¬é–‹ã•ã‚Œã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ãƒ›ã‚¹ãƒˆã•ã‚Œã¾ã™

## å‚è€ƒãƒªãƒ³ã‚¯

**å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ:**
- [Power Apps Code Apps æ¦‚è¦](https://learn.microsoft.com/en-us/power-apps/developer/code-apps/overview)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°](https://learn.microsoft.com/en-us/power-apps/developer/code-apps/architecture)
- [ã‚·ã‚¹ãƒ†ãƒ åˆ¶é™ã¨è¨­å®š](https://learn.microsoft.com/en-us/power-apps/developer/code-apps/system-limits-configuration)

**é–‹ç™ºãƒªã‚½ãƒ¼ã‚¹:**
- [Microsoft PowerAppsCodeApps ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/microsoft/PowerAppsCodeApps)
- [FluentUI React Components](https://react.fluentui.dev/)
- [Power Platform CLI](https://learn.microsoft.com/en-us/power-platform/developer/cli/introduction)

---

# ğŸ§© ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³

## å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### 1. åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ 

#### ãƒ™ãƒ¼ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```typescript
// src/components/base/BaseComponent.tsx
import React from 'react';
import { makeStyles, mergeClasses } from '@fluentui/react-components';

interface BaseComponentProps {
  className?: string;
  children?: React.ReactNode;
  'data-testid'?: string;
}

const useStyles = makeStyles({
  root: {
    // ãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ«
  }
});

export const BaseComponent: React.FC<BaseComponentProps> = ({
  className,
  children,
  'data-testid': testId,
  ...props
}) => {
  const styles = useStyles();
  
  return (
    <div 
      className={mergeClasses(styles.root, className)}
      data-testid={testId}
      {...props}
    >
      {children}
    </div>
  );
};
```

### 2. ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/common/Card.tsx
import React from 'react';
import { 
  Card as FluentCard,
  CardHeader,
  CardPreview,
  Text,
  Button,
  makeStyles,
  tokens
} from '@fluentui/react-components';
import { MoreHorizontal24Regular } from '@fluentui/react-icons';

const useStyles = makeStyles({
  card: {
    width: '100%',
    maxWidth: '400px',
    boxShadow: tokens.shadow8,
    borderRadius: tokens.borderRadiusLarge,
    '&:hover': {
      boxShadow: tokens.shadow16,
      transform: 'translateY(-2px)',
      transition: 'all 0.2s ease-in-out',
    },
  },
  header: {
    padding: '16px',
  },
  content: {
    padding: '0 16px 16px 16px',
  },
  footer: {
    padding: '16px',
    borderTop: `1px solid ${tokens.colorNeutralStroke2}`,
    display: 'flex',
    justifyContent: 'space-between',
    alignItems: 'center',
  },
});

interface CardProps {
  title: string;
  description?: string;
  image?: string;
  actions?: React.ReactNode;
  onClick?: () => void;
  className?: string;
}

export const Card: React.FC<CardProps> = ({
  title,
  description,
  image,
  actions,
  onClick,
  className
}) => {
  const styles = useStyles();

  return (
    <FluentCard 
      className={mergeClasses(styles.card, className)}
      onClick={onClick}
      role={onClick ? "button" : undefined}
      tabIndex={onClick ? 0 : undefined}
    >
      {image && (
        <CardPreview>
          <img src={image} alt={title} style={{ width: '100%', height: '200px', objectFit: 'cover' }} />
        </CardPreview>
      )}
      
      <CardHeader 
        className={styles.header}
        header={<Text weight="semibold" size={300}>{title}</Text>}
        action={
          <Button
            appearance="transparent" 
            icon={<MoreHorizontal24Regular />}
            aria-label="ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³"
          />
        }
      />
      
      {description && (
        <div className={styles.content}>
          <Text size={200}>{description}</Text>
        </div>
      )}
      
      {actions && (
        <div className={styles.footer}>
          {actions}
        </div>
      )}
    </FluentCard>
  );
};
```

### 3. ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/common/DataTable.tsx
import React, { useState, useMemo } from 'react';
import {
  Table,
  TableHeader,
  TableHeaderCell,
  TableBody,
  TableRow,
  TableCell,
  Button,
  Input,
  makeStyles,
  tokens
} from '@fluentui/react-components';
import { ArrowSort24Regular, Search24Regular } from '@fluentui/react-icons';

const useStyles = makeStyles({
  container: {
    width: '100%',
    backgroundColor: tokens.colorNeutralBackground1,
    borderRadius: tokens.borderRadiusMedium,
    padding: '16px',
  },
  toolbar: {
    display: 'flex',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: '16px',
  },
  searchBox: {
    minWidth: '300px',
  },
  table: {
    width: '100%',
  },
  sortableHeader: {
    cursor: 'pointer',
    display: 'flex',
    alignItems: 'center',
    gap: '8px',
    '&:hover': {
      backgroundColor: tokens.colorNeutralBackground1Hover,
    },
  },
});

interface Column<T> {
  key: keyof T;
  title: string;
  sortable?: boolean;
  render?: (value: T[keyof T], item: T) => React.ReactNode;
}

interface DataTableProps<T> {
  data: T[];
  columns: Column<T>[];
  searchable?: boolean;
  onRowClick?: (item: T) => void;
  className?: string;
}

export function DataTable<T extends Record<string, any>>({
  data,
  columns,
  searchable = true,
  onRowClick,
  className
}: DataTableProps<T>) {
  const styles = useStyles();
  const [searchTerm, setSearchTerm] = useState('');
  const [sortColumn, setSortColumn] = useState<keyof T | null>(null);
  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');

  const filteredData = useMemo(() => {
    let filtered = data;

    // æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    if (searchTerm) {
      filtered = filtered.filter(item =>
        Object.values(item).some(value =>
          String(value).toLowerCase().includes(searchTerm.toLowerCase())
        )
      );
    }

    // ã‚½ãƒ¼ãƒˆ
    if (sortColumn) {
      filtered.sort((a, b) => {
        const aValue = a[sortColumn];
        const bValue = b[sortColumn];
        
        if (aValue < bValue) return sortDirection === 'asc' ? -1 : 1;
        if (aValue > bValue) return sortDirection === 'asc' ? 1 : -1;
        return 0;
      });
    }

    return filtered;
  }, [data, searchTerm, sortColumn, sortDirection]);

  const handleSort = (column: keyof T) => {
    if (sortColumn === column) {
      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');
    } else {
      setSortColumn(column);
      setSortDirection('asc');
    }
  };

  return (
    <div className={mergeClasses(styles.container, className)}>
      {searchable && (
        <div className={styles.toolbar}>
          <Input
            className={styles.searchBox}
            placeholder="æ¤œç´¢..."
            value={searchTerm}
            onChange={(_, data) => setSearchTerm(data.value)}
            contentBefore={<Search24Regular />}
          />
        </div>
      )}

      <Table className={styles.table}>
        <TableHeader>
          <TableRow>
            {columns.map((column) => (
              <TableHeaderCell key={String(column.key)}>
                {column.sortable ? (
                  <div 
                    className={styles.sortableHeader}
                    onClick={() => handleSort(column.key)}
                  >
                    {column.title}
                    <ArrowSort24Regular />
                  </div>
                ) : (
                  column.title
                )}
              </TableHeaderCell>
            ))}
          </TableRow>
        </TableHeader>
        <TableBody>
          {filteredData.map((item, index) => (
            <TableRow 
              key={index}
              onClick={() => onRowClick?.(item)}
              style={{ cursor: onRowClick ? 'pointer' : 'default' }}
            >
              {columns.map((column) => (
                <TableCell key={String(column.key)}>
                  {column.render 
                    ? column.render(item[column.key], item)
                    : String(item[column.key])
                  }
                </TableCell>
              ))}
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </div>
  );
}
```

### 4. ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// src/components/common/Form.tsx
import React from 'react';
import { useForm, Controller, FieldValues, Path } from 'react-hook-form';
import {
  Input,
  Textarea,
  Dropdown,
  Button,
  Text,
  makeStyles,
  tokens
} from '@fluentui/react-components';

const useStyles = makeStyles({
  form: {
    display: 'flex',
    flexDirection: 'column',
    gap: '16px',
    padding: '24px',
    backgroundColor: tokens.colorNeutralBackground1,
    borderRadius: tokens.borderRadiusMedium,
  },
  field: {
    display: 'flex',
    flexDirection: 'column',
    gap: '8px',
  },
  label: {
    fontWeight: tokens.fontWeightMedium,
  },
  error: {
    color: tokens.colorPaletteRedForeground1,
    fontSize: tokens.fontSizeBase200,
  },
  actions: {
    display: 'flex',
    gap: '12px',
    justifyContent: 'flex-end',
    marginTop: '16px',
  },
});

interface FormField {
  name: string;
  label: string;
  type: 'text' | 'email' | 'textarea' | 'dropdown';
  required?: boolean;
  options?: Array<{ key: string; text: string }>;
  validation?: any;
}

interface FormProps<T extends FieldValues> {
  fields: FormField[];
  onSubmit: (data: T) => void;
  defaultValues?: Partial<T>;
  submitText?: string;
  cancelText?: string;
  onCancel?: () => void;
}

export function Form<T extends FieldValues>({
  fields,
  onSubmit,
  defaultValues,
  submitText = 'ä¿å­˜',
  cancelText = 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
  onCancel
}: FormProps<T>) {
  const styles = useStyles();
  const {
    control,
    handleSubmit,
    formState: { errors, isSubmitting }
  } = useForm<T>({
    defaultValues: defaultValues as any
  });

  const renderField = (field: FormField) => {
    const fieldName = field.name as Path<T>;
    
    return (
      <div key={field.name} className={styles.field}>
        <Text className={styles.label}>
          {field.label}
          {field.required && ' *'}
        </Text>
        
        <Controller
          name={fieldName}
          control={control}
          rules={{
            required: field.required ? `${field.label}ã¯å¿…é ˆã§ã™` : false,
            ...field.validation
          }}
          render={({ field: { onChange, value, onBlur } }) => {
            switch (field.type) {
              case 'textarea':
                return (
                  <Textarea
                    value={value || ''}
                    onChange={(_, data) => onChange(data.value)}
                    onBlur={onBlur}
                    placeholder={`${field.label}ã‚’å…¥åŠ›`}
                  />
                );
              
              case 'dropdown':
                return (
                  <Dropdown
                    value={value || ''}
                    onOptionSelect={(_, data) => onChange(data.optionValue)}
                    placeholder={`${field.label}ã‚’é¸æŠ`}
                  >
                    {field.options?.map(option => (
                      <option key={option.key} value={option.key}>
                        {option.text}
                      </option>
                    ))}
                  </Dropdown>
                );
              
              default:
                return (
                  <Input
                    type={field.type}
                    value={value || ''}
                    onChange={(_, data) => onChange(data.value)}
                    onBlur={onBlur}
                    placeholder={`${field.label}ã‚’å…¥åŠ›`}
                  />
                );
            }
          }}
        />
        
        {errors[fieldName] && (
          <Text className={styles.error}>
            {errors[fieldName]?.message as string}
          </Text>
        )}
      </div>
    );
  };

  return (
    <form className={styles.form} onSubmit={handleSubmit(onSubmit)}>
      {fields.map(renderField)}
      
      <div className={styles.actions}>
        {onCancel && (
          <Button 
            appearance="secondary"
            onClick={onCancel}
          >
            {cancelText}
          </Button>
        )}
        <Button 
          appearance="primary"
          type="submit"
          disabled={isSubmitting}
        >
          {isSubmitting ? 'ä¿å­˜ä¸­...' : submitText}
        </Button>
      </div>
    </form>
  );
}
```

### 5. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…ä¾‹

#### ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ for Power Apps
```typescript
// src/hooks/usePowerAppsData.ts
import { useState, useEffect } from 'react';
import { DataService } from '../services/DataService';

export function usePowerAppsData<T>(
  fetchFunction: () => Promise<T[]>,
  dependencies: any[] = []
) {
  const [data, setData] = useState<T[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        setError(null);
        const result = await fetchFunction();
        setData(result);
      } catch (err) {
        setError(err as Error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, dependencies);

  const refresh = () => {
    fetchData();
  };

  return { data, loading, error, refresh };
}
```

### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**ã‚¹ãƒ ãƒ¼ã‚ºãªãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³è¨­å®š:**
```tsx
// tailwind.config.js ã® animation æ‹¡å¼µ
module.exports = {
  theme: {
    extend: {
      animation: {
        'fade-in': 'fadeIn 0.3s ease-in-out',
        'slide-in': 'slideIn 0.3s ease-out',
        'scale-in': 'scaleIn 0.2s ease-out',
        'bounce-gentle': 'bounceGentle 0.6s ease-out',
      },
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        slideIn: {
          '0%': { transform: 'translateY(-10px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' },
        },
        scaleIn: {
          '0%': { transform: 'scale(0.95)', opacity: '0' },
          '100%': { transform: 'scale(1)', opacity: '1' },
        },
        bounceGentle: {
          '0%, 20%, 50%, 80%, 100%': { transform: 'translateY(0)' },
          '40%': { transform: 'translateY(-4px)' },
          '60%': { transform: 'translateY(-2px)' },
        },
      },
    },
  },
};
```

**ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒœã‚¿ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:**
```tsx
// components/ui/InteractiveButton.tsx
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";
import { Loader2 } from "lucide-react";

interface InteractiveButtonProps {
  children: React.ReactNode;
  variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link';
  size?: 'default' | 'sm' | 'lg' | 'icon';
  loading?: boolean;
  success?: boolean;
  error?: boolean;
  onClick?: () => void;
  className?: string;
}

export const InteractiveButton: React.FC<InteractiveButtonProps> = ({
  children,
  loading = false,
  success = false,
  error = false,
  className,
  ...props
}) => {
  return (
    <Button
      className={cn(
        "transition-all duration-300",
        "hover:scale-105 active:scale-95",
        "focus:ring-2 focus:ring-primary focus:ring-offset-2",
        success && "bg-green-500 hover:bg-green-600 text-white",
        error && "bg-red-500 hover:bg-red-600 text-white",
        loading && "opacity-70 cursor-not-allowed",
        className
      )}
      disabled={loading}
      {...props}
    >
      {loading && <Loader2 className="mr-2 h-4 w-4 animate-spin" />}
      {children}
    </Button>
  );
};
```

**ãƒ›ãƒãƒ¼ã‚«ãƒ¼ãƒ‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:**
```tsx
// components/ui/HoverCard.tsx
import { Card } from "@/components/ui/Card";
import { cn } from "@/lib/utils";

interface HoverCardProps {
  children: React.ReactNode;
  className?: string;
  elevated?: boolean;
  interactive?: boolean;
}

export const HoverCard: React.FC<HoverCardProps> = ({
  children,
  className,
  elevated = false,
  interactive = true
}) => {
  return (
    <Card
      className={cn(
        "transition-all duration-300 ease-out",
        interactive && [
          "hover:shadow-large hover:scale-[1.02]",
          "hover:border-primary/20",
          "cursor-pointer",
        ],
        elevated && "shadow-medium",
        className
      )}
    >
      {children}
    </Card>
  );
};
```

**ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:**
```tsx
// components/ui/LoadingStates.tsx
import { Skeleton } from "@/components/ui/skeleton";
import { Card } from "@/components/ui/Card";

export const TableSkeleton: React.FC = () => (
  <Card>
    <div className="space-y-4">
      <Skeleton className="h-8 w-full" />
      {Array.from({ length: 5 }).map((_, i) => (
        <div key={i} className="flex space-x-4">
          <Skeleton className="h-12 w-12 rounded-full" />
          <div className="space-y-2 flex-1">
            <Skeleton className="h-4 w-[250px]" />
            <Skeleton className="h-4 w-[200px]" />
          </div>
        </div>
      ))}
    </div>
  </Card>
);

export const CardSkeleton: React.FC = () => (
  <Card>
    <Skeleton className="h-48 w-full mb-4" />
    <Skeleton className="h-4 w-[250px] mb-2" />
    <Skeleton className="h-4 w-[200px]" />
  </Card>
);
```

### Office 365 ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆçµ±åˆ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

**èªè¨¼ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆçµ±åˆæŒ‡é‡:**
1. **Office 365 Users ã‚³ãƒã‚¯ã‚¿ãƒ¼**: ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã®è‡ªå‹•ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—
2. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼**: ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¡¨ç¤ºã€é€šçŸ¥ã€ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ
3. **ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼**: ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œã‚µã‚¤ãƒ‰ãƒãƒ¼
4. **ãƒ¦ãƒ¼ã‚¶ãƒ¼å†™çœŸå–å¾—**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œ
5. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ã‚³ãƒã‚¯ã‚¿ãƒ¼å¤±æ•—æ™‚ã®é©åˆ‡ãªå‡¦ç†

**ã‚³ãƒã‚¯ã‚¿ãƒ¼è¨­å®šï¼ˆPower Apps å´ï¼‰:**
```json
// Power Apps ã§ã® Office 365 Users ã‚³ãƒã‚¯ã‚¿ãƒ¼è¨­å®š
{
  "connectors": [
    {
      "name": "Office 365 Users",
      "id": "shared_office365users",
      "permissions": [
        "User.Read",
        "User.ReadBasic.All"
      ]
    }
  ]
}
```

**æ‹¡å¼µãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒƒã‚¯ï¼ˆå†™çœŸå–å¾—å¯¾å¿œï¼‰:**
```tsx
// src/hooks/useCurrentUser.ts - æ‹¡å¼µç‰ˆ
import { useQuery, useQueries } from '@tanstack/react-query';
import { UserService } from '@/services/UserService';

export const useCurrentUserWithPhoto = () => {
  const [userQuery, photoQuery] = useQueries({
    queries: [
      {
        queryKey: ['currentUser'],
        queryFn: () => UserService.getCurrentUser(),
        staleTime: 5 * 60 * 1000,
      },
      {
        queryKey: ['userPhoto'],
        queryFn: () => UserService.getUserPhoto(),
        staleTime: 30 * 60 * 1000, // å†™çœŸã¯30åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥
        enabled: false, // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—å¾Œã«å®Ÿè¡Œ
      }
    ]
  });

  // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—å®Œäº†å¾Œã€å†™çœŸã‚’å–å¾—
  React.useEffect(() => {
    if (userQuery.data && !photoQuery.data && !photoQuery.isFetching) {
      photoQuery.refetch();
    }
  }, [userQuery.data]);

  return {
    user: userQuery.data,
    photo: photoQuery.data,
    isLoading: userQuery.isLoading,
    error: userQuery.error || photoQuery.error,
  };
};
```

**ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼:**
```tsx
// src/components/ErrorBoundary.tsx
import { Component, ReactNode } from 'react';
import { Card } from '@/components/ui/Card';
import { Button } from '@/components/ui/button';
import { AlertTriangle, RefreshCw } from 'lucide-react';

interface ErrorBoundaryState {
  hasError: boolean;
  error?: Error;
}

export class ErrorBoundary extends Component<
  { children: ReactNode },
  ErrorBoundaryState
> {
  constructor(props: { children: ReactNode }) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(error: Error): ErrorBoundaryState {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: any) {
    console.error('Office 365 ã‚³ãƒã‚¯ã‚¿ãƒ¼ ã‚¨ãƒ©ãƒ¼:', error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return (
        <div className="min-h-screen bg-background flex items-center justify-center p-4">
          <Card className="max-w-md w-full text-center p-6">
            <AlertTriangle className="h-12 w-12 text-yellow-500 mx-auto mb-4" />
            <h2 className="text-xl font-semibold mb-2">æ¥ç¶šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h2>
            <p className="text-muted-foreground mb-4">
              Office 365 ã¸ã®æ¥ç¶šã«å•é¡ŒãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚
            </p>
            <Button 
              onClick={() => window.location.reload()}
              className="space-x-2"
            >
              <RefreshCw className="h-4 w-4" />
              <span>å†è©¦è¡Œ</span>
            </Button>
          </Card>
        </div>
      );
    }

    return this.props.children;
  }
}
```

**å®Œå…¨ãªã‚¢ãƒ—ãƒªæ§‹æˆä¾‹:**
```tsx
// src/main.tsx - å®Œå…¨ç‰ˆ
import { createRoot } from 'react-dom/client';
import App from './App.tsx';
import './index.css';
import { StrictMode } from 'react';
import PowerProvider from './PowerProvider.tsx';
import { ErrorBoundary } from './components/ErrorBoundary.tsx';

createRoot(document.getElementById("root")!).render(
  <StrictMode>
    <ErrorBoundary>
      <PowerProvider>
        <App />
      </PowerProvider>
    </ErrorBoundary>
  </StrictMode>
);
```

### Code Apps è¨­è¨ˆã‚·ã‚¹ãƒ†ãƒ  ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

**Power Apps Code Apps çµ±åˆæŒ‡é‡:**
1. **Office 365 çµ±åˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±è‡ªå‹•å–å¾—ã€å†™çœŸè¡¨ç¤ºã€èªè¨¼ä¸è¦
2. **shadcn/ui + TailwindCSS**: ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
3. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ»ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠæ§‹æˆ
4. **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ**: ã‚·ã‚¹ãƒ†ãƒ ãƒ»ãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
5. **ãƒ¢ãƒ¼ãƒ€ãƒ«ä¸­å¿ƒè¨­è¨ˆ**: ãƒ–ãƒ©ã‚¦ã‚¶ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å®Œå…¨ç¦æ­¢

**æ¨å¥¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆä¾‹:**
```tsx
// components/index.ts - ç¾ã—ã„è¨­è¨ˆã‚·ã‚¹ãƒ†ãƒ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
export { Card, CardHeader, CardContent, CardFooter } from './ui/Card';
export { Button, InteractiveButton } from './ui/button';
export { Input, Label, Textarea } from './ui/form';
export { Dialog, DialogContent, DialogHeader } from './ui/dialog';
export { DataTable, ListItem } from './ui/DataTable';
export { StatsCard, ChartContainer } from './ui/StatsCard';
export { Sidebar, DashboardGrid } from './layout';
export { ThemeProvider, useTheme } from './theme/ThemeContext';
export { Modal, FormModal, ConfirmModal } from './ui/modal';
export { HoverCard, LoadingStates } from './ui/InteractiveComponents';
```

**ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°å‘½åè¦å‰‡:**
- **è‰²**: `text-foreground`, `bg-background`, `border-border`
- **ã‚µã‚¤ã‚º**: `text-sm/base/lg`, `p-4`, `space-x-2`
- **çŠ¶æ…‹**: `hover:`, `focus:`, `active:`, `disabled:`
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: `md:`, `lg:`, `xl:`
- **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰**: `dark:bg-gray-800`, `dark:text-white`

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆåŸå‰‡:**
```tsx
// æ­£ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆä¾‹
export const BeautifulComponent: React.FC<Props> = ({
  variant = 'default',
  size = 'medium',
  children,
  className,
  ...props
}) => {
  return (
    <div
      className={cn(
        // ãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ«
        "rounded-lg border transition-all duration-300",
        // ãƒãƒªã‚¢ãƒ³ãƒˆ
        variant === 'primary' && "bg-primary text-primary-foreground",
        variant === 'secondary' && "bg-secondary text-secondary-foreground",
        // ã‚µã‚¤ã‚º
        size === 'small' && "p-2 text-sm",
        size === 'medium' && "p-4 text-base",
        size === 'large' && "p-6 text-lg",
        // ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
        "hover:shadow-medium focus:outline-none focus:ring-2 focus:ring-primary",
        // ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰
        "dark:border-gray-700 dark:bg-gray-800",
        // ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹
        className
      )}
      {...props}
    >
      {children}
    </div>
  );
};
```

#### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
```typescript
// src/context/AppContext.tsx
import React, { createContext, useContext, useReducer } from 'react';

interface AppState {
  user: User | null;
  theme: 'light' | 'dark';
  notifications: Notification[];
}

interface AppContextType {
  state: AppState;
  dispatch: React.Dispatch<AppAction>;
}

const AppContext = createContext<AppContextType | null>(null);

export const useAppContext = () => {
  const context = useContext(AppContext);
  if (!context) {
    throw new Error('useAppContext must be used within AppProvider');
  }
  return context;
};

export const AppProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [state, dispatch] = useReducer(appReducer, initialState);

  return (
    <AppContext.Provider value={{ state, dispatch }}>
      {children}
    </AppContext.Provider>
  );
};
```
